<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc-markdown-css-theme" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Nix (builtins) &amp; Nixpkgs (lib) Functions</title>
  <link rel="stylesheet" href="data:text/css,%0A%0A%3Aroot%20%7B%0A%0A%2D%2Dbackground%2Dcolor%3A%20%23fff%3B%0A%2D%2Dcolor%2Dtext%3A%20%231b2733%3B%0A%2D%2Dcolor%2Dtext%2Dsecondary%3A%20%23637282%3B%0A%2D%2Dcolor%2Dlink%3A%20%230070e0%3B%0A%2D%2Dcolor%2Dsidenote%3A%20%23616970%3B%0A%2D%2Dhighlight%2Dred%3A%20%23ea9999%3B%0A%2D%2Dhighlight%2Dyellow%3A%20%23ffe599%3B%0A%2D%2Dhighlight%2Dgreen%3A%20%23b6d7a8%3B%0A%2D%2Dhighlight%2Dblue%3A%20%23a4c2f4%3B%0A%2D%2Dhighlight%2Dpurple%3A%20%23b4a7d6%3B%0A%2D%2Dcolor%2Dinline%2Dcode%3A%20%231b2733%3B%0A%2D%2Dcolor%2Dinline%2Dcode%2Dbg%3A%20%23f3f3f8%3B%0A%2D%2Dcolor%2Dborder%3A%20%23dfdfd0%3B%0A%2D%2Dcolor%2Dborder%2Dheavy%3A%20%23ccccd4%3B%0A%2D%2Dcolor%2Dtable%2Dheading%3A%20%23f3f3fb%3B%0A%0A%2D%2Dfont%2Dfamily%2Dprose%3A%20%2Dapple%2Dsystem%2CBlinkMacSystemFont%2C%22Segoe%20UI%22%2CRoboto%2COxygen%2CUbuntu%2CCantarell%2C%22Open%20Sans%22%2C%22Helvetica%20Neue%22%2Csans%2Dserif%3B%0A%2D%2Dfont%2Dfamily%2Dheading%3A%20%2Dapple%2Dsystem%2CBlinkMacSystemFont%2C%22Segoe%20UI%22%2CRoboto%2COxygen%2CUbuntu%2CCantarell%2C%22Open%20Sans%22%2C%22Helvetica%20Neue%22%2Csans%2Dserif%3B%0A%2D%2Dfont%2Dfamily%2Dcode%3A%20Menlo%2C%20monospace%3B%0A%2D%2Dside%2Dnote%2Dnumber%2Dfont%2Dfamily%3A%20var%28%2D%2Dfont%2Dfamily%2Dprose%29%3B%0A%2D%2Dline%2Dheight%3A%2026px%3B%0A%2D%2Dfont%2Dsize%3A%2017px%3B%0A%2D%2Dinline%2Dcode%2Dfont%2Dsize%3A%2015px%3B%0A%2D%2Dcode%2Dblock%2Dfont%2Dsize%3A%2014px%3B%0A%2D%2Dcode%2Dblock%2Dside%2Dpadding%3A%208px%3B%0A%2D%2Dline%2Dnumbers%2Dfont%2Dsize%3A%2012px%3B%0A%2D%2Dtight%2Dcode%2Dline%2Dheight%3A%2018px%3B%0A%2D%2Dtight%2Dcode%2Dpadding%2Dtop%3A%205px%3B%0A%2D%2Dside%2Dnote%2Dline%2Dheight%3A%2020px%3B%0A%2D%2Dside%2Dnote%2Dfont%2Dsize%3A%2013px%3B%0A%2D%2Dside%2Dnote%2Dcode%2Dfont%2Dsize%3A%2013px%3B%0A%2D%2Dside%2Dnote%2Dbaseline%2Doffset%3A%204px%3B%0A%2D%2Dside%2Dnote%2Dsup%2Doffset%3A%20%2D6px%3B%0A%2D%2Dside%2Dnote%2Dnumber%2Dhang%2Dleft%3A%20%2D6px%3B%0A%2D%2Dside%2Dnote%2Dtext%2Dindent%3A%20%2D9px%3B%0A%2D%2Dheading%2Dfont%2Dweight%3A%20500%3B%0A%2D%2Dtitle%2Dfont%2Dsize%3A%2042px%3B%0A%2D%2Dtitle%2Dcode%2Dfont%2Dsize%3A%2040px%3B%0A%2D%2Dtitle%2Dline%2Dheight%3A%2048px%3B%0A%2D%2Dtitle%2Dmargin%2Dtop%3A%2092px%3B%0A%2D%2Dh1%2Dfont%2Dsize%3A%2032px%3B%0A%2D%2Dh1%2Dcode%2Dfont%2Dsize%3A%2029px%3B%0A%2D%2Dh1%2Dline%2Dheight%3A%2036px%3B%0A%2D%2Dh1%2Dword%2Dspacing%3A%201px%3B%0A%2D%2Dh1%2Dmargin%2Dtop%3A%2030px%3B%0A%2D%2Dh1%2Dmargin%2Dbottom%3A%2012px%3B%0A%2D%2Dh2%2Dfont%2Dsize%3A%2022px%3B%0A%2D%2Dh2%2Dcode%2Dfont%2Dsize%3A%2020px%3B%0A%2D%2Dh2%2Dline%2Dheight%3A%2028px%3B%0A%2D%2Dh2%2Dword%2Dspacing%3A%200%2E5px%3B%0A%2D%2Dh2%2Dmargin%2Dtop%3A%2018px%3B%0A%2D%2Dh2%2Dmargin%2Dbottom%3A%206px%3B%0A%2D%2Dul%2Dindent%2Dsize%3A%2023px%3B%0A%2D%2Dol%2Dindent%2Dsize%3A%2019px%3B%0A%2D%2Dol%2Dli%2Dpadding%2Dleft%3A%204px%3B%0A%2D%2Dhr%2Dmargin%2Dtop%3A%2018px%3B%0A%2D%2Dhr%2Dmargin%2Dbottom%3A%20calc%28var%28%2D%2Dline%2Dheight%29%20%2D%20var%28%2D%2Dhr%2Dmargin%2Dtop%29%20%2D%201px%29%3B%0A%2D%2Dextra%2Dwide%2Dscale%2Dfactor%3A%201%2E5%3B%0A%2D%2Dfigcaption%2Dline%2Dheight%3A%2021px%3B%0A%2D%2Dfigcaption%2Dfont%2Dsize%3A%2014px%3B%0A%2D%2Dfigcaption%2Dcode%2Dfont%2Dsize%3A%2013px%3B%0A%2D%2Dfigcaption%2Dgap%3A%206px%3B%0A%2D%2Dcaptioned%2Dfigure%2Dgap%3A%2010px%3B%0A%2D%2Dtable%2Dline%2Dheight%3A%2021px%3B%0A%2D%2Dtable%2Dfont%2Dsize%3A%2014px%3B%0A%2D%2Dtable%2Dcode%2Dfont%2Dsize%3A%2013px%3B%0A%2D%2Dnav%2Dtoc%2Dfont%2Dsize%3A%2012px%3B%0A%2D%2Dnav%2Dtoc%2Dcode%2Dfont%2Dsize%3A%2012px%3B%0A%2D%2Dnav%2Dtoc%2Dindent%3A%2015px%3B%0A%2D%2Dnav%2Dtoc%2Dbaseline%2Doffset%3A%202px%3B%0A%0A%2D%2Dmain%2Dwidth%3A%20745px%3B%0A%2D%2Dmain%2Dwidth%2Dnarrow%3A%20550px%3B%0A%7D%0A%2A%2C%20%2A%3Aafter%2C%20%2A%3Abefore%20%7B%0Abox%2Dsizing%3A%20border%2Dbox%3B%0Amargin%3A%200%3B%0Apadding%3A%200%3B%0A%2Dwebkit%2Dtap%2Dhighlight%2Dcolor%3A%20rgba%280%2C0%2C0%2C0%29%3B%0A%2Dwebkit%2Dfont%2Dsmoothing%3A%20antialiased%3B%0A%2Dmoz%2Dosx%2Dfont%2Dsmoothing%3A%20grayscale%3B%0A%7D%0Ahtml%20%7B%0A%0A%2Dwebkit%2Dtext%2Dsize%2Dadjust%3A%20100%25%3B%0A%7D%0Abody%20%7B%0Afont%2Dfamily%3A%20var%28%2D%2Dfont%2Dfamily%2Dprose%29%3B%0Acolor%3A%20var%28%2D%2Dcolor%2Dtext%29%3B%0Afont%2Dsize%3A%20var%28%2D%2Dfont%2Dsize%29%3B%0Aline%2Dheight%3A%20var%28%2D%2Dline%2Dheight%29%3B%0A%2Dwebkit%2Dfont%2Dvariant%2Dligatures%3A%20no%2Dcommon%2Dligatures%3B%0Afont%2Dvariant%2Dligatures%3A%20no%2Dcommon%2Dligatures%3B%0A%0Ahanging%2Dpunctuation%3A%20first%3B%0Amargin%3A%200%3B%0Apadding%3A%200%3B%0Apadding%2Dtop%3A%20var%28%2D%2Dtitle%2Dmargin%2Dtop%29%3B%0Awidth%3A%20100%25%3B%0Abackground%2Dcolor%3A%20var%28%2D%2Dbackground%2Dcolor%29%3B%0A%7D%0A%40media%20print%20%7B%0Abody%20%7B%0Abackground%2Dcolor%3A%20initial%3B%0A%7D%0A%7D%0A%0A%0A%0A%2Esidenote%2C%0A%2Emarginnote%20%7B%0Acolor%3A%20var%28%2D%2Dcolor%2Dsidenote%29%3B%0Afont%2Dsize%3A%20var%28%2D%2Dside%2Dnote%2Dfont%2Dsize%29%3B%0Aline%2Dheight%3A%20var%28%2D%2Dside%2Dnote%2Dline%2Dheight%29%3B%0Avertical%2Dalign%3A%20baseline%3B%0A%0Amargin%2Dtop%3A%20var%28%2D%2Dside%2Dnote%2Dbaseline%2Doffset%29%3B%0A%7D%0A%2Esidenote%20code%2C%0A%2Emarginnote%20code%20%7B%0Acolor%3A%20var%28%2D%2Dcolor%2Dsidenote%29%3B%0A%7D%0Abody%20%7B%0Acounter%2Dreset%3A%20sidenote%2Dcounter%3B%0A%7D%0A%2Esidenote%2Dnumber%20%7B%0Acounter%2Dincrement%3A%20sidenote%2Dcounter%3B%0A%7D%0A%2Esidenote%2Dnumber%3Aafter%2C%0A%2Esidenote%3Abefore%20%7B%0Acontent%3A%20counter%28sidenote%2Dcounter%29%3B%0Aposition%3A%20relative%3B%0A%7D%0Anav%23TOC%20label%2C%0Alabel%2Emargin%2Dtoggle%3Anot%28%2Esidenote%2Dnumber%29%2C%0A%2Esidenote%2Dnumber%3Aafter%2C%0A%2Esidenote%3Abefore%2C%0A%2Efootnote%2Dref%20sup%2C%0Asup%20%7B%0Afont%2Dsize%3A%20var%28%2D%2Dside%2Dnote%2Dfont%2Dsize%29%3B%0Afont%2Dweight%3A%20700%3B%0Afont%2Dfamily%3A%20var%28%2D%2Dside%2Dnote%2Dnumber%2Dfont%2Dfamily%29%3B%0A%2Dwebkit%2Dfont%2Dfeature%2Dsettings%3A%20%22tnum%22%201%3B%0Afont%2Dfeature%2Dsettings%3A%20%22tnum%22%201%3B%0A%0Avertical%2Dalign%3A%20baseline%3B%0Aposition%3A%20relative%3B%0Atop%3A%20var%28%2D%2Dside%2Dnote%2Dsup%2Doffset%29%3B%0A%7D%0Asup%20%7B%0Afont%2Dweight%3A%20inherit%3B%0A%7D%0A%0A%2Esidenote%3Abefore%20%7B%20left%3A%20var%28%2D%2Dside%2Dnote%2Dnumber%2Dhang%2Dleft%29%3B%20%7D%0A%0A%2Esidenote%20%7B%20text%2Dindent%3A%20var%28%2D%2Dside%2Dnote%2Dtext%2Dindent%29%3B%20%7D%0A%0A%0Ainput%2Emargin%2Dtoggle%20%7B%0Adisplay%3A%20none%3B%0A%7D%0Alabel%2Emargin%2Dtoggle%3Anot%28%2Esidenote%2Dnumber%29%20%7B%0Adisplay%3A%20none%3B%0A%7D%0Alabel%2Esidenote%2Dnumber%20%7B%0Adisplay%3A%20inline%3B%0A%7D%0A%0A%40media%20screen%20and%20%28max%2Dwidth%3A%20calc%2826px%20%2B%20550px%20%2B%2026px%20%2B%20169px%20%2B%2026px%20%2D%201px%29%29%20%7B%0A%2Emargin%2Dtoggle%3Achecked%20%2B%20%2Esidenote%2C%0A%2Emargin%2Dtoggle%3Achecked%20%2B%20%2Emarginnote%20%7B%0Amargin%2Dtop%3A%20var%28%2D%2Dside%2Dnote%2Dline%2Dheight%29%3B%0Avertical%2Dalign%3A%20baseline%3B%0A%7D%0Alabel%2Emargin%2Dtoggle%20%7B%0Acolor%3A%20var%28%2D%2Dcolor%2Dlink%29%3B%0A%7D%0Alabel%2Emargin%2Dtoggle%3Anot%28%2Esidenote%2Dnumber%29%20%7B%0Adisplay%3A%20inline%3B%0A%7D%0Alabel%20%7B%0Acursor%3A%20pointer%3B%0A%7D%0A%7D%0A%0A%0A%0Ah1%2C%20h2%20%7B%0Afont%2Dfamily%3A%20var%28%2D%2Dfont%2Dfamily%2Dheading%29%3B%0Afont%2Dweight%3A%20var%28%2D%2Dheading%2Dfont%2Dweight%29%3B%0A%7D%0Ah4%2C%20h5%2C%20h6%20%7B%0Afont%2Dweight%3A%20normal%3B%0A%7D%0Ah1%2Etitle%20%7B%0Amargin%2Dtop%3A%20var%28%2D%2Dline%2Dheight%29%3B%0Amargin%2Dbottom%3A%20var%28%2D%2Dline%2Dheight%29%3B%0Afont%2Dsize%3A%20var%28%2D%2Dtitle%2Dfont%2Dsize%29%3B%0Aline%2Dheight%3A%20var%28%2D%2Dtitle%2Dline%2Dheight%29%3B%0A%7D%0Ah1%2Etitle%20code%20%7B%0Afont%2Dsize%3A%20var%28%2D%2Dtitle%2Dcode%2Dfont%2Dsize%29%3B%0A%7D%0Ah1%3Anot%28%2Etitle%29%20%7B%0Afont%2Dsize%3A%20var%28%2D%2Dh1%2Dfont%2Dsize%29%3B%0Aline%2Dheight%3A%20var%28%2D%2Dh1%2Dline%2Dheight%29%3B%0Aword%2Dspacing%3A%20var%28%2D%2Dh1%2Dword%2Dspacing%29%3B%0Amargin%2Dtop%3A%20var%28%2D%2Dh1%2Dmargin%2Dtop%29%3B%0Amargin%2Dbottom%3A%20var%28%2D%2Dh1%2Dmargin%2Dbottom%29%3B%0A%7D%0Ah1%3Anot%28%2Etitle%29%20code%20%7B%0Afont%2Dsize%3A%20var%28%2D%2Dh1%2Dcode%2Dfont%2Dsize%29%3B%0A%7D%0Ah2%20%7B%0Afont%2Dsize%3A%20var%28%2D%2Dh2%2Dfont%2Dsize%29%3B%0Aline%2Dheight%3A%20var%28%2D%2Dh2%2Dline%2Dheight%29%3B%0Aword%2Dspacing%3A%20var%28%2D%2Dh2%2Dword%2Dspacing%29%3B%0Amargin%2Dtop%3A%20var%28%2D%2Dh2%2Dmargin%2Dtop%29%3B%0Amargin%2Dbottom%3A%20var%28%2D%2Dh2%2Dmargin%2Dbottom%29%3B%0A%7D%0Ah2%20code%20%7B%0Afont%2Dsize%3A%20var%28%2D%2Dh2%2Dcode%2Dfont%2Dsize%29%3B%0A%7D%0Ah3%20%7B%0Afont%2Dsize%3A%20var%28%2D%2Dfont%2Dsize%29%3B%0Aline%2Dheight%3A%20var%28%2D%2Dline%2Dheight%29%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Ah1%3Anot%28%2Etitle%29%20%2B%20%2A%2C%20h1%3Anot%28%2Etitle%29%20%2B%20p%20%7B%20margin%2Dtop%3A%20var%28%2D%2Dh1%2Dmargin%2Dbottom%29%3B%20%7D%0Ah2%20%2B%20%2A%2C%20h2%20%2B%20p%20%7B%20margin%2Dtop%3A%20var%28%2D%2Dh2%2Dmargin%2Dbottom%29%3B%20%7D%0Ah3%20%2B%20%2A%2C%20h3%20%2B%20p%20%7B%20margin%2Dtop%3A%200%3B%20%7D%0A%0A%0Ap%2C%20main%20%3E%20ul%2C%20main%20%3E%20ol%2C%20div%2EsourceCode%2C%20main%20%3E%20pre%2C%20img%2C%20table%20%7B%0Amargin%2Dtop%3A%20var%28%2D%2Dline%2Dheight%29%3B%0Amargin%2Dbottom%3A%20var%28%2D%2Dline%2Dheight%29%0A%7D%0Aul%3Anot%28%2Etask%2Dlist%29%20%7B%0Amargin%2Dleft%3A%20var%28%2D%2Dul%2Dindent%2Dsize%29%3B%0A%7D%0Aol%20%7B%0Amargin%2Dleft%3A%20var%28%2D%2Dol%2Dindent%2Dsize%29%3B%0A%7D%0Aul%2Etask%2Dlist%20%7B%0Alist%2Dstyle%3A%20none%3B%0Amargin%2Dleft%3A%20var%28%2D%2Dul%2Dindent%2Dsize%29%3B%0A%7D%0Aul%2Etask%2Dlist%20%3E%20li%20%7B%0Aposition%3A%20relative%3B%0A%7D%0Aul%2Etask%2Dlist%20%3E%20li%20%3E%20input%5Btype%3D%22checkbox%22%5D%20%7B%0Aposition%3A%20absolute%3B%0Aleft%3A%20calc%28%2D1%20%2A%20var%28%2D%2Dul%2Dindent%2Dsize%29%29%3B%0Aheight%3A%20var%28%2D%2Dline%2Dheight%29%3B%0A%7D%0Aol%20%3E%20li%20%7B%0Apadding%2Dleft%3A%20var%28%2D%2Dol%2Dli%2Dpadding%2Dleft%29%3B%0A%7D%0Aol%20%7B%20list%2Dstyle%2Dtype%3A%20decimal%3B%20%7D%0Aol%20ol%20%7B%20list%2Dstyle%2Dtype%3A%20lower%2Dalpha%3B%20%7D%0Aol%20ol%20ol%20%7B%20list%2Dstyle%2Dtype%3A%20lower%2Droman%3B%20%7D%0Aol%20ol%20ol%20ol%20%7B%20list%2Dstyle%2Dtype%3A%20decimal%3B%20%7D%0Aol%20ol%20ol%20ol%20ol%20%7B%20list%2Dstyle%2Dtype%3A%20lower%2Dalpha%3B%20%7D%0Aol%20ol%20ol%20ol%20ol%20ol%20%7B%20list%2Dstyle%2Dtype%3A%20lower%2Droman%3B%20%7D%0Aol%20ol%20ol%20ol%20ol%20ol%20ol%20%7B%20list%2Dstyle%2Dtype%3A%20decimal%3B%20%7D%0Aol%20ol%20ol%20ol%20ol%20ol%20ol%20ol%20%7B%20list%2Dstyle%2Dtype%3A%20lower%2Dalpha%3B%20%7D%0Aol%20ol%20ol%20ol%20ol%20ol%20ol%20ol%20ol%20%7B%20list%2Dstyle%2Dtype%3A%20lower%2Droman%3B%20%7D%0Aul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Aul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20circle%3B%20%7D%0Aul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20square%3B%20%7D%0Aul%20ul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Aul%20ul%20ul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20circle%3B%20%7D%0Aul%20ul%20ul%20ul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20square%3B%20%7D%0Aul%20ul%20ul%20ul%20ul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Aul%20ul%20ul%20ul%20ul%20ul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20circle%3B%20%7D%0Aul%20ul%20ul%20ul%20ul%20ul%20ul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20square%3B%20%7D%0Ablockquote%20%7B%0Aborder%2Dleft%3A%201px%20solid%20var%28%2D%2Dcolor%2Dtext%2Dsecondary%29%3B%0Apadding%2Dleft%3A%201%2E5rem%3B%0Afont%2Dstyle%3A%20italic%3B%0A%7D%0Ablockquote%20%3E%20p%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Ablockquote%20em%2C%20blockquote%20i%2C%20blockquote%20%2Esidenote%2Dwrapper%20%7B%0Afont%2Dstyle%3A%20normal%3B%0A%7D%0Ahr%20%7B%0Amargin%2Dtop%3A%20var%28%2D%2Dhr%2Dmargin%2Dtop%29%3B%0Amargin%2Dbottom%3A%20var%28%2D%2Dhr%2Dmargin%2Dbottom%29%3B%0Aborder%2Dstyle%3A%20solid%3B%0Acolor%3A%20var%28%2D%2Dcolor%2Dborder%2Dheavy%29%3B%0Aborder%2Dwidth%3A%201px%200%200%3B%0A%7D%0Aa%20code%2C%20a%3Alink%20code%2C%20a%3Avisited%20code%2C%0Aa%2C%20a%3Alink%2C%20a%3Avisited%20%7B%0Acolor%3A%20var%28%2D%2Dcolor%2Dlink%29%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Atext%2Ddecoration%3A%20underline%3B%0A%7D%0Aspan%2Emark%2C%20mark%20%7B%0A%0Acolor%3A%20inherit%3B%0Apadding%3A%202px%200%201px%3B%0A%7D%0Aspan%2Emark%2Ered%2C%20mark%2Ered%20%7B%20background%2Dcolor%3A%20var%28%2D%2Dhighlight%2Dred%29%3B%20%7D%0Aspan%2Emark%2Eyellow%2C%20mark%2Eyellow%20%7B%20background%2Dcolor%3A%20var%28%2D%2Dhighlight%2Dyellow%29%3B%20%7D%0Aspan%2Emark%2Egreen%2C%20mark%2Egreen%20%7B%20background%2Dcolor%3A%20var%28%2D%2Dhighlight%2Dgreen%29%3B%20%7D%0Aspan%2Emark%2Eblue%2C%20mark%2Eblue%20%7B%20background%2Dcolor%3A%20var%28%2D%2Dhighlight%2Dblue%29%3B%20%7D%0Aspan%2Emark%2Epurple%2C%20mark%2Epurple%20%7B%20background%2Dcolor%3A%20var%28%2D%2Dhighlight%2Dpurple%29%3B%20%7D%0A%2Esubtitle%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0A%2Eauthor%2C%20%2Edate%20%7B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0A%2Esignoff%20%7B%0Amargin%2Dtop%3A%20calc%284%20%2A%20var%28%2D%2Dline%2Dheight%29%29%3B%0Amargin%2Dbottom%3A%20calc%284%20%2A%20var%28%2D%2Dline%2Dheight%29%29%3B%0A%7D%0A%0Aspan%2Esmallcaps%7B%20font%2Dvariant%3A%20small%2Dcaps%3B%20%7D%0Aspan%2Eunderline%7B%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%2Ekatex%2Ddisplay%20%7B%0Abackground%3A%20var%28%2D%2Dbackground%2Dcolor%29%3B%0Atransform%3A%20translateZ%280px%29%3B%0A%7D%0A%40media%20print%20%7B%0A%2Ekatex%2Ddisplay%20%7B%0Abackground%2Dcolor%3A%20initial%3B%0A%7D%0A%7D%0A%0A%0A%0Acode%20%7B%0Afont%2Dfamily%3A%20var%28%2D%2Dfont%2Dfamily%2Dcode%29%3B%0Aword%2Dspacing%3A%20normal%3B%0A%0Acolor%3A%20var%28%2D%2Dcolor%2Dinline%2Dcode%29%3B%0Abackground%2Dcolor%3A%20var%28%2D%2Dcolor%2Dinline%2Dcode%2Dbg%29%3B%0Afont%2Dsize%3A%20var%28%2D%2Dinline%2Dcode%2Dfont%2Dsize%29%3B%0Amargin%3A%200%3B%0Apadding%3A%202px%200%201px%3B%0Aborder%3A%201px%20solid%20var%28%2D%2Dcolor%2Dborder%29%3B%0Aborder%2Dradius%3A%201px%3B%0A%7D%0A%2Esidenote%20code%2C%0A%2Emarginnote%20code%20%7B%0Afont%2Dsize%3A%20var%28%2D%2Dside%2Dnote%2Dcode%2Dfont%2Dsize%29%3B%0A%7D%0Apre%20code%20%7B%0A%0Acolor%3A%20inherit%3B%0Abackground%2Dcolor%3A%20inherit%3B%0Afont%2Dsize%3A%20var%28%2D%2Dcode%2Dblock%2Dfont%2Dsize%29%3B%0Aline%2Dheight%3A%20var%28%2D%2Dline%2Dheight%29%3B%0Amargin%3A%20initial%3B%0Apadding%3A%20initial%3B%0Aborder%3A%20initial%3B%0Aborder%2Dradius%3A%20initial%3B%0A%7D%0Apre%20%3E%20code%20%7B%0Aposition%3A%20relative%3B%20%0Adisplay%3A%20inline%2Dblock%3B%0Amin%2Dwidth%3A%20100%25%3B%0Az%2Dindex%3A%201%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%0Apadding%3A%200%20var%28%2D%2Dcode%2Dblock%2Dside%2Dpadding%29%3B%0A%7D%0Acode%2EsourceCode%3A%3Aselection%20%7B%0A%0Abackground%3A%20transparent%3B%0A%7D%0A%2Ewide%20%3E%20pre%2C%20%2Ewide%20%3E%20div%2EsourceCode%20%7B%0A%0Atransform%3A%20translateZ%280px%29%3B%0A%7D%0A%2Ewide%20pre%20%3E%20code%20%7B%0Awhite%2Dspace%3A%20pre%3B%0A%7D%0Apre%2EnumberSource%20code%20%7B%0Acounter%2Dreset%3A%20source%2Dline%200%3B%0A%7D%0Apre%20%3E%20code%2EsourceCode%20%3E%20span%20%7B%0Aline%2Dheight%3A%20var%28%2D%2Dline%2Dheight%29%3B%0Adisplay%3A%20inline%2Dblock%3B%0Amin%2Dwidth%3A%20100%25%3B%0A%7D%0Adiv%2EsourceCode%20%7B%0A%0A%2D%2Dline%2Dnumbers%2Dwidth%3A%20calc%284%20%2A%20var%28%2D%2Dline%2Dnumbers%2Dfont%2Dsize%29%29%3B%0A%2D%2Dline%2Dnumbers%2Dnegative%2Dwidth%3A%20calc%28%2D1%20%2A%20var%28%2D%2Dline%2Dnumbers%2Dwidth%29%29%3B%0Amargin%2Dleft%3A%20var%28%2D%2Dline%2Dnumbers%2Dnegative%2Dwidth%29%3B%0A%7D%0Adiv%2EsourceCode%20%3E%20pre%20%7B%0Amargin%2Dleft%3A%20var%28%2D%2Dline%2Dnumbers%2Dwidth%29%3B%0A%7D%0Apre%2EnumberSource%20%3E%20code%2EsourceCode%20%3E%20span%20%7B%0Acounter%2Dincrement%3A%20source%2Dline%3B%0Apadding%2Dleft%3A%20var%28%2D%2Dline%2Dnumbers%2Dwidth%29%3B%0Atext%2Dindent%3A%20var%28%2D%2Dline%2Dnumbers%2Dnegative%2Dwidth%29%3B%0Aposition%3A%20relative%3B%0Aleft%3A%20var%28%2D%2Dline%2Dnumbers%2Dnegative%2Dwidth%29%3B%0A%7D%0Apre%2EnumberSource%20%3E%20code%2EsourceCode%20%3E%20span%20%3E%20a%3Afirst%2Dchild%3A%3Abefore%20%7B%0A%2Dwebkit%2Dtouch%2Dcallout%3A%20none%3B%0A%2Dwebkit%2Duser%2Dselect%3A%20none%3B%0A%2Dkhtml%2Duser%2Dselect%3A%20none%3B%0A%2Dmoz%2Duser%2Dselect%3A%20none%3B%0A%2Dms%2Duser%2Dselect%3A%20none%3B%0Auser%2Dselect%3A%20none%3B%0Acontent%3A%20counter%28source%2Dline%29%3B%0Afont%2Dsize%3A%20var%28%2D%2Dline%2Dnumbers%2Dfont%2Dsize%29%3B%0Atext%2Ddecoration%3A%20none%3B%0Aposition%3A%20relative%3B%0Atext%2Dalign%3A%20right%3B%0Adisplay%3A%20inline%2Dblock%3B%0Apadding%3A%200%20calc%282%20%2A%20var%28%2D%2Dcode%2Dblock%2Dside%2Dpadding%29%29%3B%0Awidth%3A%20var%28%2D%2Dline%2Dnumbers%2Dwidth%29%3B%0A%7D%0Apre%20%3E%20code%2EsourceCode%20%3E%20span%20%3E%20a%3Afirst%2Dchild%3A%3Abefore%3Ahover%20%7B%0Atext%2Ddecoration%3A%20underline%3B%0A%7D%0A%0A%2Etight%2Dcode%20pre%2C%0Apre%2Etight%2Dcode%20%7B%0Apadding%2Dtop%3A%20var%28%2D%2Dtight%2Dcode%2Dpadding%2Dtop%29%3B%0A%7D%0Apre%2Etight%2Dcode%20code%2C%0A%2Etight%2Dcode%20pre%20code%2C%0A%2Etight%2Dcode%20pre%20%3E%20code%2EsourceCode%20%3E%20span%2C%0Apre%2Etight%2Dcode%20%3E%20code%2EsourceCode%20%3E%20span%20%7B%0Aline%2Dheight%3A%20var%28%2D%2Dtight%2Dcode%2Dline%2Dheight%29%3B%0A%7D%0A%0A%0Apre%20%3E%20code%2EsourceCode%20%3E%20span%3A%3Aafter%20%7B%0Aposition%3A%20absolute%3B%0Abackground%2Dcolor%3A%20var%28%2D%2Dcolor%2Dcode%2Dhighlight%2Dbg%29%3B%0Az%2Dindex%3A%20%2D1%3B%0Aleft%3A%20calc%28var%28%2D%2Dline%2Dnumbers%2Dwidth%29%20%2D%20var%28%2D%2Dcode%2Dblock%2Dside%2Dpadding%29%29%3B%0Aright%3A%20calc%28var%28%2D%2Dline%2Dnumbers%2Dnegative%2Dwidth%29%20%2D%20var%28%2D%2Dcode%2Dblock%2Dside%2Dpadding%29%29%3B%0Atop%3A%200%3B%0Aheight%3A%20100%25%3B%0A%7D%0Apre%2Ehl%2D1%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%281%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D2%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%282%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D3%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%283%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D4%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%284%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D5%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%285%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D6%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%286%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D7%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%287%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D8%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%288%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D9%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%289%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D10%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2810%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D11%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2811%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D12%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2812%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D13%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2813%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D14%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2814%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D15%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2815%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D16%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2816%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D17%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2817%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D18%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2818%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D19%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2819%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D20%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2820%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D21%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2821%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D22%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2822%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D23%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2823%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D24%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2824%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D25%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2825%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D26%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2826%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D27%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2827%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D28%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2828%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D29%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2829%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D30%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2830%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D31%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2831%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D32%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2832%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D33%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2833%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D34%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2834%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D35%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2835%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D36%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2836%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D37%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2837%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D38%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2838%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D39%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2839%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0Apre%2Ehl%2D40%20%3E%20code%2EsourceCode%20%3E%20span%3Anth%2Dof%2Dtype%2840%29%3A%3Aafter%20%7B%20content%3A%20%22%22%3B%20%7D%0A%0A%0A%0A%0Afigure%20%7B%0Amargin%2Dbottom%3A%20var%28%2D%2Dcaptioned%2Dfigure%2Dgap%29%3B%0A%7D%0Afigure%20%2B%20p%20%7B%0Amargin%2Dtop%3A%20var%28%2D%2Dcaptioned%2Dfigure%2Dgap%29%3B%0A%7D%0Afigure%20%3E%20img%2C%20figure%20%3E%20pre%2C%20figure%20%3E%20div%2EsourceCode%20%7B%0Amargin%2Dbottom%3A%20var%28%2D%2Dfigcaption%2Dgap%29%3B%0A%7D%0Aimg%20%7B%0Awidth%3A%20100%25%3B%0Adisplay%3A%20block%3B%0A%7D%0A%2Ewide%20img%20%7B%0A%0Atransform%3A%20translateZ%280px%29%3B%0A%7D%0Afigcaption%20%7B%0Afont%2Dsize%3A%20var%28%2D%2Dfigcaption%2Dfont%2Dsize%29%3B%0Aline%2Dheight%3A%20var%28%2D%2Dfigcaption%2Dline%2Dheight%29%3B%0Afont%2Dstyle%3A%20italic%3B%0Atext%2Dalign%3A%20center%3B%0Acolor%3A%20var%28%2D%2Dcolor%2Dtext%2Dsecondary%29%3B%0A%7D%0A%2Eleft%2Dalign%2Dcaption%20figcaption%20%7B%0Atext%2Dalign%3A%20left%3B%0A%7D%0Afigcaption%20code%20%7B%0Afont%2Dsize%3A%20var%28%2D%2Dfigcaption%2Dcode%2Dfont%2Dsize%29%3B%0A%7D%0A%0A%0Atable%20%7B%0A%2Dwebkit%2Dfont%2Dfeature%2Dsettings%3A%20%22tnum%22%201%3B%0Afont%2Dfeature%2Dsettings%3A%20%22tnum%22%201%3B%0Afont%2Dsize%3A%20var%28%2D%2Dtable%2Dfont%2Dsize%29%3B%0Aline%2Dheight%3A%20var%28%2D%2Dtable%2Dline%2Dheight%29%3B%0Aborder%2Dspacing%3A%200%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0Aborder%3A%201px%20solid%20var%28%2D%2Dcolor%2Dborder%2Dheavy%29%3B%0Awidth%3A%20100%25%3B%0A%0Abackground%2Dcolor%3A%20var%28%2D%2Dbackground%2Dcolor%29%3B%0A%7D%0A%40media%20print%20%7B%0Atable%20%7B%0Abackground%2Dcolor%3A%20initial%3B%0A%7D%0A%7D%0Atable%20code%20%7B%0Afont%2Dsize%3A%20var%28%2D%2Dtable%2Dcode%2Dfont%2Dsize%29%3B%0A%7D%0Atable%20pre%20code%20%7B%0Afont%2Dsize%3A%20inherit%3B%0A%7D%0A%2Ewide%20table%20%7B%0A%0Atransform%3A%20translateZ%280px%29%3B%0A%7D%0Atable%20td%2C%20table%20th%20%7B%0Aborder%3A%201px%20solid%20var%28%2D%2Dcolor%2Dborder%2Dheavy%29%3B%0Apadding%3A%205px%208px%3B%0Amin%2Dwidth%3A%20100px%3B%0A%7D%0Atable%20th%20%7B%0Abackground%2Dcolor%3A%20var%28%2D%2Dcolor%2Dtable%2Dheading%29%3B%0A%7D%0Atable%20%3E%20caption%20%7B%0Acaption%2Dside%3A%20bottom%3B%0Amargin%2Dtop%3A%20var%28%2D%2Dfigcaption%2Dgap%29%3B%0Amargin%2Dbottom%3A%20calc%28var%28%2D%2Dcaptioned%2Dfigure%2Dgap%29%20%2D%20var%28%2D%2Dline%2Dheight%29%29%3B%0Afont%2Dsize%3A%20var%28%2D%2Dfigcaption%2Dfont%2Dsize%29%3B%0Aline%2Dheight%3A%20var%28%2D%2Dfigcaption%2Dline%2Dheight%29%3B%0Afont%2Dstyle%3A%20italic%3B%0Atext%2Dalign%3A%20center%3B%0Acolor%3A%20var%28%2D%2Dcolor%2Dtext%2Dsecondary%29%3B%0A%7D%0A%2Eleft%2Dalign%2Dcaption%20table%20%3E%20caption%20%7B%0Atext%2Dalign%3A%20left%3B%0A%7D%0Atable%20%3E%20caption%20code%20%7B%0Afont%2Dsize%3A%20var%28%2D%2Dfigcaption%2Dcode%2Dfont%2Dsize%29%3B%0A%7D%0A%0A%2Enote%20table%20%7B%0Afont%2Dsize%3A%20inherit%3B%0Aline%2Dheight%3A%20inherit%3B%0A%7D%0A%2Enote%20table%2C%20%2Enote%20td%20%7B%0Aborder%3A%20none%3B%0A%7D%0A%2Enote%2Ered%20td%20%7B%20background%3A%20var%28%2D%2Dhighlight%2Dred%29%3B%20%7D%0A%2Enote%2Eyellow%20td%20%7B%20background%3A%20var%28%2D%2Dhighlight%2Dyellow%29%3B%20%7D%0A%2Enote%2Egreen%20td%20%7B%20background%3A%20var%28%2D%2Dhighlight%2Dgreen%29%3B%20%7D%0A%2Enote%2Eblue%20td%20%7B%20background%3A%20var%28%2D%2Dhighlight%2Dblue%29%3B%20%7D%0A%2Enote%2Epurple%20td%20%7B%20background%3A%20var%28%2D%2Dhighlight%2Dpurple%29%3B%20%7D%0A%0A%0A%2Edate%2Ebefore%2Dtoc%20%7B%0Apadding%2Dbottom%3A%20var%28%2D%2Dline%2Dheight%29%3B%0A%7D%0Anav%23TOC%20%7B%0Amargin%2Dbottom%3A%20var%28%2D%2Dline%2Dheight%29%3B%0Aborder%2Dleft%3A%201px%20solid%20var%28%2D%2Dcolor%2Dtext%2Dsecondary%29%3B%0Apadding%2Dleft%3A%201%2E5rem%3B%0A%7D%0Anav%23TOC%20input%20%7B%0Adisplay%3A%20none%3B%0A%7D%0Anav%23TOC%20label%20%7B%0Acolor%3A%20var%28%2D%2Dcolor%2Dlink%29%3B%0Acursor%3A%20pointer%3B%0A%7D%0Anav%23TOC%20%3E%20ul%20%7B%0Adisplay%3A%20none%3B%0A%7D%0Anav%23TOC%20%3E%20input%3Achecked%20%2B%20ul%20%7B%0Adisplay%3A%20block%3B%0A%7D%0A%40media%20print%20%7B%0Anav%23TOC%20%3E%20input%20%2B%20ul%20%7B%0Adisplay%3A%20block%3B%0A%7D%0A%7D%0A%0A%40media%20screen%20and%20%28min%2Dwidth%3A%20calc%28745px%20%2B%202%20%2A%20%2852px%20%2B%20206px%20%2B%2052px%29%20%2D%201px%29%29%20%7B%0Aheader%20%7B%0Amargin%2Dbottom%3A%20var%28%2D%2Dline%2Dheight%29%3B%0A%7D%0A%2Edate%2Ebefore%2Dtoc%20%7B%0Apadding%2Dbottom%3A%20initial%3B%0A%7D%0Anav%23TOC%20%7B%0A%0Amargin%2Dbottom%3A%20initial%3B%0Aborder%2Dleft%3A%20initial%3B%0Apadding%2Dleft%3A%20initial%3B%0Aposition%3A%20sticky%3B%0Amargin%2Dtop%3A%20calc%28var%28%2D%2Dnav%2Dtoc%2Dbaseline%2Doffset%29%29%3B%0Afloat%3A%20left%3B%0Atop%3A%20var%28%2D%2Dline%2Dheight%29%3B%0Afont%2Dsize%3A%20var%28%2D%2Dnav%2Dtoc%2Dfont%2Dsize%29%3B%0Acolor%3A%20var%28%2D%2Dcolor%2Dtext%2Dsecondary%29%3B%0Amargin%2Dleft%3A%20var%28%2D%2Dline%2Dheight%29%3B%0Amax%2Dwidth%3A%20calc%28%28100vw%20%2D%20var%28%2D%2Dmain%2Dwidth%29%29%20%2F%202%20%2D%202%20%2A%20var%28%2D%2Dline%2Dheight%29%29%3B%0Amax%2Dheight%3A%20calc%28100vh%20%2D%202%20%2A%20var%28%2D%2Dline%2Dheight%29%29%3B%0Aoverflow%2Dy%3A%20scroll%3B%0A%7D%0Anav%23TOC%20label%20%7B%0Adisplay%3A%20none%3B%0A%7D%0Anav%23TOC%20ul%20%7B%0Adisplay%3A%20block%3B%0Alist%2Dstyle%3A%20none%3B%0Amargin%2Dleft%3A%20var%28%2D%2Dnav%2Dtoc%2Dindent%29%3B%0A%7D%0Anav%23TOC%20%3E%20ul%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Anav%23TOC%20code%20%7B%0Afont%2Dsize%3A%20var%28%2D%2Dnav%2Dtoc%2Dcode%2Dfont%2Dsize%29%3B%0A%7D%0Anav%23TOC%20code%2C%0Anav%23TOC%20a%2C%0Anav%23TOD%20a%3Alink%2C%0Anav%23TOD%20a%3Avisited%20%7B%0Acolor%3A%20var%28%2D%2Dcolor%2Dtext%2Dsecondary%29%3B%0A%7D%0Anav%23TOC%20a%3Ahover%2C%0Anav%23TOC%20a%3Ahover%20code%20%7B%0Atext%2Ddecoration%3A%20none%3B%0Acolor%3A%20var%28%2D%2Dcolor%2Dlink%29%3B%0A%7D%0A%7D%0A%0A%0A%2Esidenote%2C%0A%2Emarginnote%20%7B%0Afloat%3A%20right%3B%0Aclear%3A%20right%3B%0Aposition%3A%20relative%3B%0A%2D%2Dside%2Dnote%2Dmax%2Dwidth%3A%20300px%3B%0Awidth%3A%20var%28%2D%2Dcomputed%2Dwidth%29%3B%0Amax%2Dwidth%3A%20var%28%2D%2Dside%2Dnote%2Dmax%2Dwidth%29%3B%0Amargin%2Dright%3A%20calc%28%2D1%20%2A%20min%28var%28%2D%2Dcomputed%2Dwidth%29%2C%20var%28%2D%2Dside%2Dnote%2Dmax%2Dwidth%29%29%20%2D%20var%28%2D%2Dmargin%2Dleft%29%29%3B%0A%7D%0A%0A%0A%40media%20screen%20and%20%28min%2Dwidth%3A%20calc%28745px%20%2B%202%20%2A%20%2852px%20%2B%20206px%20%2B%2052px%29%29%29%20%7B%0Aheader%2C%0Anav%23TOC%2C%0Amain%2C%0Afooter%20%7B%0Amax%2Dwidth%3A%20var%28%2D%2Dmain%2Dwidth%29%3B%0A%7D%0Aheader%2C%0Amain%2C%0Afooter%20%7B%0Amargin%2Dleft%3A%20auto%3B%0Amargin%2Dright%3A%20auto%3B%0A%7D%0A%2Esidenote%2C%0A%2Emarginnote%20%7B%0A%2D%2Dmargin%2Dleft%3A%20calc%282%20%2A%20var%28%2D%2Dline%2Dheight%29%29%3B%0A%2D%2Dmargin%2Dright%3A%20var%28%2D%2Dmargin%2Dleft%29%3B%0A%2D%2Dcomputed%2Dwidth%3A%20calc%28%28100vw%20%2D%20100%25%29%20%2F%202%20%2D%20var%28%2D%2Dmargin%2Dright%29%20%2D%20var%28%2D%2Dmargin%2Dleft%29%29%3B%0A%7D%0A%2Ewide%20%7B%0Awidth%3A%20100%25%3B%0Aoverflow%2Dx%3A%20scroll%3B%0A%7D%0A%2Ewide%2Eextra%2Dwide%20%7B%0Amargin%2Dleft%3A%20calc%28%281%20%2D%20var%28%2D%2Dextra%2Dwide%2Dscale%2Dfactor%29%29%20%2F%202%20%2A%20100%25%29%3B%0Awidth%3A%20calc%28var%28%2D%2Dextra%2Dwide%2Dscale%2Dfactor%29%20%2A%20100%25%29%3B%0A%7D%0A%2Ewide%2Efull%2Dwidth%20%7B%0Amargin%2Dleft%3A%20calc%28var%28%2D%2Dline%2Dheight%29%20%2D%20%28%28100vw%20%2D%20var%28%2D%2Dmain%2Dwidth%29%29%20%2F%202%29%29%3B%0Awidth%3A%20calc%28100vw%20%2D%202%20%2A%20var%28%2D%2Dline%2Dheight%29%29%3B%0A%7D%0A%2Ewide%2Eextra%2Dwide%20figcaption%2C%0A%2Ewide%2Eextra%2Dwide%20table%20%3E%20caption%20%7B%0Amargin%2Dleft%3A%20calc%28%28%28var%28%2D%2Dextra%2Dwide%2Dscale%2Dfactor%29%20%2D%201%29%20%2F%202%29%20%2A%20var%28%2D%2Dmain%2Dwidth%29%29%3B%0Amax%2Dwidth%3A%20var%28%2D%2Dmain%2Dwidth%29%3B%0Amargin%2Dright%3A%20calc%28100%25%20%2D%20var%28%2D%2Dmain%2Dwidth%29%20%2D%20%28%28%28var%28%2D%2Dextra%2Dwide%2Dscale%2Dfactor%29%20%2D%201%29%20%2F%202%29%20%2A%20var%28%2D%2Dmain%2Dwidth%29%29%29%3B%0A%7D%0A%2Ewide%2Efull%2Dwidth%20figcaption%2C%0A%2Ewide%2Efull%2Dwidth%20table%20%3E%20caption%20%7B%0Amargin%2Dleft%3A%20calc%28%28100vw%20%2D%20var%28%2D%2Dmain%2Dwidth%29%29%20%2F%202%20%2D%20var%28%2D%2Dline%2Dheight%29%29%3B%0Amax%2Dwidth%3A%20var%28%2D%2Dmain%2Dwidth%29%3B%0Amargin%2Dright%3A%20calc%28100%25%20%2D%20var%28%2D%2Dmain%2Dwidth%29%20%2D%20%28%28100vw%20%2D%20var%28%2D%2Dmain%2Dwidth%29%29%20%2F%202%20%2D%20var%28%2D%2Dline%2Dheight%29%29%29%3B%0A%7D%0A%7D%0A%0A%40media%20screen%20and%20%28min%2Dwidth%3A%20calc%2852px%20%2B%20745px%20%2B%2052px%20%2B%20206px%20%2B%2052px%29%29%20and%20%28max%2Dwidth%3A%20calc%28745px%20%2B%202%20%2A%20%2852px%20%2B%20206px%20%2B%2052px%29%20%2D%201px%29%29%20%7B%0Aheader%2C%0Anav%23TOC%2C%0Amain%2C%0Afooter%20%7B%0Amargin%2Dleft%3A%20calc%282%20%2A%20var%28%2D%2Dline%2Dheight%29%29%3B%0Amax%2Dwidth%3A%20var%28%2D%2Dmain%2Dwidth%29%3B%0Amargin%2Dright%3A%20auto%3B%0A%7D%0A%2Esidenote%2C%0A%2Emarginnote%20%7B%0A%2D%2Dmargin%2Dleft%3A%20calc%282%20%2A%20var%28%2D%2Dline%2Dheight%29%29%3B%0A%2D%2Dmargin%2Dright%3A%20var%28%2D%2Dmargin%2Dleft%29%3B%0A%2D%2Dcomputed%2Dwidth%3A%20calc%28100vw%20%2D%20var%28%2D%2Dmain%2Dwidth%29%20%2D%20calc%282%20%2A%20var%28%2D%2Dline%2Dheight%29%29%20%2D%20var%28%2D%2Dmargin%2Dright%29%20%2D%20var%28%2D%2Dmargin%2Dleft%29%29%3B%0A%7D%0A%2Ewide%20%7B%0Awidth%3A%20100%25%3B%0Aoverflow%2Dx%3A%20scroll%3B%0Aoverflow%2Dy%3A%20hidden%3B%0A%7D%0A%2Ewide%2Eextra%2Dwide%20%7B%0Amargin%2Dleft%3A%20calc%28%2D1%20%2A%20var%28%2D%2Dline%2Dheight%29%29%3B%0Awidth%3A%20calc%28100vw%20%2D%202%20%2A%20var%28%2D%2Dline%2Dheight%29%29%3B%0Amax%2Dwidth%3A%20calc%28var%28%2D%2Dextra%2Dwide%2Dscale%2Dfactor%29%20%2A%20var%28%2D%2Dmain%2Dwidth%29%29%3B%0A%7D%0A%2Ewide%2Efull%2Dwidth%20%7B%0Amargin%2Dleft%3A%20calc%28%2D1%20%2A%20var%28%2D%2Dline%2Dheight%29%29%3B%0Awidth%3A%20calc%28100vw%20%2D%202%20%2A%20var%28%2D%2Dline%2Dheight%29%29%3B%0Amax%2Dwidth%3A%20calc%28100vw%20%2D%202%20%2A%20var%28%2D%2Dline%2Dheight%29%29%3B%0A%7D%0A%2Ewide%2Eextra%2Dwide%20%2Ekatex%2Ddisplay%2C%0A%2Ewide%2Efull%2Dwidth%20%2Ekatex%2Ddisplay%20%7B%0Apadding%2Dleft%3A%20var%28%2D%2Dline%2Dheight%29%3B%0Apadding%2Dright%3A%20var%28%2D%2Dline%2Dheight%29%3B%0A%7D%0A%2Ewide%2Eextra%2Dwide%20%2Ekatex%2Ddisplay%2C%0A%2Ewide%2Eextra%2Dwide%20%2Ekatex%2Ddisplay%20%3E%20%2Ekatex%2C%0A%2Ewide%2Efull%2Dwidth%20%2Ekatex%2Ddisplay%2C%0A%2Ewide%2Efull%2Dwidth%20%2Ekatex%2Ddisplay%20%3E%20%2Ekatex%20%7B%0Atext%2Dalign%3A%20left%3B%0A%7D%0A%2Ewide%2Eextra%2Dwide%20figcaption%2C%0A%2Ewide%2Eextra%2Dwide%20table%20%3E%20caption%2C%0A%2Ewide%2Efull%2Dwidth%20figcaption%2C%0A%2Ewide%2Efull%2Dwidth%20table%20%3E%20caption%20%7B%0Atext%2Dalign%3A%20left%3B%0Amargin%2Dleft%3A%20var%28%2D%2Dline%2Dheight%29%3B%0Amax%2Dwidth%3A%20var%28%2D%2Dmain%2Dwidth%29%3B%0A%7D%0A%7D%0A%0A%40media%20screen%20and%20%28min%2Dwidth%3A%20calc%2826px%20%2B%20550px%20%2B%2026px%20%2B%20169px%20%2B%2026px%29%29%20and%20%28max%2Dwidth%3A%20calc%2852px%20%2B%20745px%20%2B%2052px%20%2B%20206px%20%2B%2052px%20%2D%201px%29%29%20%7B%0Aheader%2C%0Anav%23TOC%2C%0Amain%2C%0Afooter%20%7B%0Amargin%2Dleft%3A%20var%28%2D%2Dline%2Dheight%29%3B%0Amax%2Dwidth%3A%20var%28%2D%2Dmain%2Dwidth%2Dnarrow%29%3B%0Amargin%2Dright%3A%20auto%3B%0A%7D%0A%2Esidenote%2C%0A%2Emarginnote%20%7B%0A%2D%2Dmargin%2Dleft%3A%20var%28%2D%2Dline%2Dheight%29%3B%0A%2D%2Dmargin%2Dright%3A%20var%28%2D%2Dline%2Dheight%29%3B%0A%2D%2Dcomputed%2Dwidth%3A%20calc%28100vw%20%2D%20var%28%2D%2Dmain%2Dwidth%2Dnarrow%29%20%2D%20var%28%2D%2Dline%2Dheight%29%20%2D%20var%28%2D%2Dmargin%2Dright%29%20%2D%20var%28%2D%2Dmargin%2Dleft%29%29%3B%0A%7D%0A%2Ewide%20%7B%0Awidth%3A%20var%28%2D%2Dmain%2Dwidth%29%3B%0Aoverflow%2Dx%3A%20scroll%3B%0Aoverflow%2Dy%3A%20hidden%3B%0A%7D%0A%2Ewide%20%2Ekatex%2Ddisplay%2C%0A%2Ewide%20%2Ekatex%2Ddisplay%20%3E%20%2Ekatex%20%7B%0Atext%2Dalign%3A%20left%3B%0A%7D%0A%2Ewide%20figcaption%2C%0A%2Ewide%20table%20%3E%20caption%20%7B%0Atext%2Dalign%3A%20left%3B%0Amax%2Dwidth%3A%20var%28%2D%2Dmain%2Dwidth%2Dnarrow%29%3B%0A%7D%0A%2Ewide%2Eextra%2Dwide%2C%0A%2Ewide%2Efull%2Dwidth%20%7B%0Awidth%3A%20calc%28100vw%20%2D%202%20%2A%20var%28%2D%2Dline%2Dheight%29%29%3B%0A%7D%0A%7D%0A%0A%0A%0A%40media%20screen%20and%20%28max%2Dwidth%3A%20calc%2826px%20%2B%20550px%20%2B%2026px%20%2B%20169px%20%2B%2026px%20%2D%201px%29%29%20%7B%0Aheader%2C%0Anav%23TOC%2C%0Amain%2C%0Afooter%20%7B%0Amargin%2Dleft%3A%20var%28%2D%2Dline%2Dheight%29%3B%0Amargin%2Dright%3A%20var%28%2D%2Dline%2Dheight%29%3B%0A%7D%0A%2Esidenote%2C%0A%2Emarginnote%20%7B%0Adisplay%3A%20none%3B%0A%7D%0A%2Emargin%2Dtoggle%3Achecked%20%2B%20%2Esidenote%2C%0A%2Emargin%2Dtoggle%3Achecked%20%2B%20%2Emarginnote%20%7B%0Adisplay%3A%20block%3B%0Afloat%3A%20left%3B%0Aclear%3A%20both%3B%0Awidth%3A%20100%25%3B%0Amax%2Dwidth%3A%20100%25%3B%0A%7D%0A%2Ewide%20%7B%0Awidth%3A%20100%25%3B%0Aoverflow%2Dx%3A%20scroll%3B%0Aoverflow%2Dy%3A%20hidden%3B%0A%7D%0A%2Ewide%20%2Ekatex%2Ddisplay%2C%0A%2Ewide%20%2Ekatex%2Ddisplay%20%3E%20%2Ekatex%20%7B%0Atext%2Dalign%3A%20left%3B%0A%7D%0A%2Ewide%20figcaption%2C%0A%2Ewide%20table%20%3E%20caption%20%7B%0Atext%2Dalign%3A%20left%3B%0Amax%2Dwidth%3A%20calc%28100vw%20%2D%202%20%2A%20var%28%2D%2Dline%2Dheight%29%29%3B%0A%7D%0A%7D%0A%0A%0A%40page%20%7B%0Asize%3A%20letter%3B%0Amargin%3A%200%2E5in%3B%0A%7D%0A%40media%20print%20%7B%0Abody%20%7B%0Apadding%2Dtop%3A%200%3B%0A%7D%0Aheader%2C%0Anav%23TOC%2C%0Amain%2C%0Afooter%20%7B%0Awidth%3A%205%2E25in%3B%0Amargin%2Dright%3A%20auto%3B%0A%7D%0A%2Esidenote%2C%0A%2Emarginnote%20%7B%0Awidth%3A%202in%3B%0Amargin%2Dright%3A%20%2D2%2E25in%3B%0A%7D%0A%2Ewide%20%7B%0Awidth%3A%207%2E5in%3B%0Aoverflow%2Dx%3A%20hidden%3B%0Aoverflow%2Dy%3A%20hidden%3B%0A%7D%0A%2Ewide%20%2Ekatex%2Ddisplay%2C%0A%2Ewide%20%2Ekatex%2Ddisplay%20%3E%20%2Ekatex%20%7B%0Atext%2Dalign%3A%20left%3B%0A%7D%0A%2Ewide%20figcaption%2C%0A%2Ewide%20table%20%3E%20caption%20%7B%0Atext%2Dalign%3A%20left%3B%0Awidth%3A%205%2E25in%3B%0A%7D%0A%2Ewide%20pre%20%3E%20code%20%7B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%0A%7D%0A%7D%0Ah1%2C%20h2%2C%20h3%20%7B%0Apage%2Dbreak%2Dafter%3A%20avoid%3B%0A%7D%0Atable%2C%20figure%2C%20pre%20%7B%0Apage%2Dbreak%2Dinside%3A%20avoid%3B%0A%7D%0A%0A%0A%0A" />
  <link rel="stylesheet" href="data:text/css,pre%2C%20pre%2EnumberSource%20%7B%0Abackground%3A%20%23fdf6e3%3B%0A%0A%2D%2Dcolor%2Dcode%2Dhighlight%2Dbg%3A%20%23eee8d5%3B%0A%7D%0Apre%20code%20%7B%20color%3A%20%23657b83%3B%20%7D%0Apre%2EnumberSource%20%3E%20code%2EsourceCode%20%3E%20span%20%3E%20a%3Afirst%2Dchild%3A%3Abefore%20%7B%0Acolor%3A%20%2393a1a1%3B%0A%7D%0Acode%20span%2Ekw%20%7B%20color%3A%20%23859900%3B%20font%2Dweight%3A%20normal%3B%20font%2Dstyle%3A%20normal%3B%20%7D%20%0Acode%20span%2Edt%20%7B%20color%3A%20%23b58900%3B%20font%2Dweight%3A%20normal%3B%20font%2Dstyle%3A%20normal%3B%20%7D%20%0Acode%20span%2Edv%20%7B%20color%3A%20%232aa198%3B%20font%2Dweight%3A%20normal%3B%20font%2Dstyle%3A%20normal%3B%20%7D%20%0Acode%20span%2Ebn%20%7B%20color%3A%20%232aa198%3B%20font%2Dweight%3A%20normal%3B%20font%2Dstyle%3A%20normal%3B%20%7D%20%0Acode%20span%2Efl%20%7B%20color%3A%20%232aa198%3B%20font%2Dweight%3A%20normal%3B%20font%2Dstyle%3A%20normal%3B%20%7D%20%0Acode%20span%2Ech%20%7B%20color%3A%20%232aa198%3B%20font%2Dweight%3A%20normal%3B%20font%2Dstyle%3A%20normal%3B%20%7D%20%0Acode%20span%2Est%20%7B%20color%3A%20%232aa198%3B%20font%2Dweight%3A%20normal%3B%20font%2Dstyle%3A%20normal%3B%20%7D%20%0Acode%20span%2Eco%20%7B%20color%3A%20%2393a1a1%3B%20font%2Dweight%3A%20normal%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20span%2Eot%20%7B%20color%3A%20%23268bd2%3B%20font%2Dweight%3A%20normal%3B%20font%2Dstyle%3A%20normal%3B%20%7D%20%0Acode%20span%2Eal%20%7B%20color%3A%20%23dc322f%3B%20font%2Dweight%3A%20normal%3B%20font%2Dstyle%3A%20normal%3B%20%7D%20%0Acode%20span%2Efu%20%7B%20color%3A%20%23268bd2%3B%20font%2Dweight%3A%20normal%3B%20font%2Dstyle%3A%20normal%3B%20%7D%20%0Acode%20span%2Eer%20%7B%20color%3A%20%23dc322f%3B%20font%2Dweight%3A%20normal%3B%20font%2Dstyle%3A%20normal%3B%20%7D%20%0Acode%20span%2Ewa%20%7B%20color%3A%20%23cb4b16%3B%20font%2Dweight%3A%20normal%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20span%2Ecn%20%7B%20color%3A%20%232aa198%3B%20font%2Dweight%3A%20normal%3B%20font%2Dstyle%3A%20normal%3B%20%7D%20%0Acode%20span%2Esc%20%7B%20color%3A%20%23dc322f%3B%20font%2Dweight%3A%20normal%3B%20font%2Dstyle%3A%20normal%3B%20%7D%20%0Acode%20span%2Evs%20%7B%20color%3A%20%232aa198%3B%20font%2Dweight%3A%20normal%3B%20font%2Dstyle%3A%20normal%3B%20%7D%20%0Acode%20span%2Ess%20%7B%20color%3A%20%23dc322f%3B%20font%2Dweight%3A%20normal%3B%20font%2Dstyle%3A%20normal%3B%20%7D%20%0Acode%20span%2Eim%20%7B%20color%3A%20%23657b83%3B%20font%2Dweight%3A%20normal%3B%20font%2Dstyle%3A%20normal%3B%20%7D%20%0Acode%20span%2Eva%20%7B%20color%3A%20%23268bd2%3B%20font%2Dweight%3A%20normal%3B%20font%2Dstyle%3A%20normal%3B%20%7D%20%0Acode%20span%2Ecf%20%7B%20color%3A%20%23859900%3B%20font%2Dweight%3A%20normal%3B%20font%2Dstyle%3A%20normal%3B%20%7D%20%0Acode%20span%2Eop%20%7B%20color%3A%20%23859900%3B%20font%2Dweight%3A%20normal%3B%20font%2Dstyle%3A%20normal%3B%20%7D%20%0Acode%20span%2Ebu%20%7B%20color%3A%20%23657b83%3B%20font%2Dweight%3A%20normal%3B%20font%2Dstyle%3A%20normal%3B%20%7D%20%0Acode%20span%2Eex%20%7B%20color%3A%20%23657b83%3B%20font%2Dweight%3A%20normal%3B%20font%2Dstyle%3A%20normal%3B%20%7D%20%0Acode%20span%2Epp%20%7B%20color%3A%20%23cb4b16%3B%20font%2Dweight%3A%20normal%3B%20font%2Dstyle%3A%20normal%3B%20%7D%20%0Acode%20span%2Eat%20%7B%20color%3A%20%23657b83%3B%20font%2Dweight%3A%20normal%3B%20font%2Dstyle%3A%20normal%3B%20%7D%20%0Acode%20span%2Edo%20%7B%20color%3A%20%2393a1a1%3B%20font%2Dweight%3A%20normal%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20span%2Ean%20%7B%20color%3A%20%2393a1a1%3B%20font%2Dweight%3A%20normal%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20span%2Ecv%20%7B%20color%3A%20%2393a1a1%3B%20font%2Dweight%3A%20normal%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20span%2Ein%20%7B%20color%3A%20%2393a1a1%3B%20font%2Dweight%3A%20normal%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Aa%2EsourceLine%3A%3Abefore%20%7B%20text%2Ddecoration%3A%20none%3B%20%7D%0A" />
</head>
<body>

<header>
<h1 class="title">Nix (builtins) &amp; Nixpkgs (lib) Functions</h1>
<blockquote class="metadata">
</blockquote>
</header>

<nav id="TOC" role="doc-toc">
    <strong>Contents</strong><label for="contents">⊕</label>
  <input type="checkbox" id="contents">
  <ul>
  <li><a href="#nix-builtin-functions">Nix Builtin Functions</a>
  <ul>
  <li><a href="#builtins.typeof">builtins.typeOf</a></li>
  <li><a href="#builtins.tryeval">builtins.tryEval</a></li>
  <li><a href="#builtins.trace">builtins.trace</a></li>
  <li><a href="#builtins.toxml">builtins.toXML</a></li>
  <li><a href="#builtins.tostring">builtins.toString</a></li>
  <li><a href="#builtins.topath">builtins.toPath</a></li>
  <li><a href="#builtins.tojson">builtins.toJSON</a></li>
  <li><a href="#builtins.tofile">builtins.toFile</a></li>
  <li><a href="#builtins.throw">builtins.throw</a></li>
  <li><a href="#builtins.tail">builtins.tail</a></li>
  <li><a href="#builtins.substring">builtins.substring</a></li>
  <li><a href="#builtins.sub">builtins.sub</a></li>
  <li><a href="#builtins.stringlength">builtins.stringLength</a></li>
  <li><a href="#builtins.storepath">builtins.storePath</a></li>
  <li><a href="#builtins.splitversion">builtins.splitVersion</a></li>
  <li><a href="#builtins.split">builtins.split</a></li>
  <li><a href="#builtins.sort">builtins.sort</a></li>
  <li><a href="#builtins.seq">builtins.seq</a></li>
  <li><a href="#builtins.replacestrings">builtins.replaceStrings</a></li>
  <li><a href="#builtins.removeattrs">builtins.removeAttrs</a></li>
  <li><a href="#builtins.readfile">builtins.readFile</a></li>
  <li><a href="#builtins.readdir">builtins.readDir</a></li>
  <li><a href="#builtins.placeholder">builtins.placeholder</a></li>
  <li><a href="#builtins.pathexists">builtins.pathExists</a></li>
  <li><a href="#builtins.path">builtins.path</a></li>
  <li><a href="#builtins.partition">builtins.partition</a></li>
  <li><a href="#builtins.parsedrvname">builtins.parseDrvName</a></li>
  <li><a href="#builtins.mul">builtins.mul</a></li>
  <li><a href="#builtins.match">builtins.match</a></li>
  <li><a href="#builtins.mapattrs">builtins.mapAttrs</a></li>
  <li><a href="#builtins.map">builtins.map</a></li>
  <li><a href="#builtins.listtoattrs">builtins.listToAttrs</a></li>
  <li><a href="#builtins.lessthan">builtins.lessThan</a></li>
  <li><a href="#builtins.length">builtins.length</a></li>
  <li><a href="#builtins.isstring">builtins.isString</a></li>
  <li><a href="#builtins.ispath">builtins.isPath</a></li>
  <li><a href="#builtins.isnull">builtins.isNull</a></li>
  <li><a href="#builtins.islist">builtins.isList</a></li>
  <li><a href="#builtins.isint">builtins.isInt</a></li>
  <li><a href="#builtins.isfunction">builtins.isFunction</a></li>
  <li><a href="#builtins.isfloat">builtins.isFloat</a></li>
  <li><a href="#builtins.isbool">builtins.isBool</a></li>
  <li><a href="#builtins.isattrs">builtins.isAttrs</a></li>
  <li><a href="#builtins.intersectattrs">builtins.intersectAttrs</a></li>
  <li><a href="#builtins.import">builtins.import</a></li>
  <li><a href="#builtins.head">builtins.head</a></li>
  <li><a href="#builtins.hashstring">builtins.hashString</a></li>
  <li><a href="#builtins.hashfile">builtins.hashFile</a></li>
  <li><a href="#builtins.hasattr">builtins.hasAttr</a></li>
  <li><a href="#builtins.getenv">builtins.getEnv</a></li>
  <li><a href="#builtins.getattr">builtins.getAttr</a></li>
  <li><a href="#builtins.genlist">builtins.genList</a></li>
  <li><a href="#builtins.functionargs">builtins.functionArgs</a></li>
  <li><a href="#builtins.fromjson">builtins.fromJSON</a></li>
  <li><a href="#builtins.foldl">builtins.foldl’</a></li>
  <li><a href="#builtins.filtersource">builtins.filterSource</a></li>
  <li><a href="#builtins.filter">builtins.filter</a></li>
  <li><a href="#builtins.fetchurl">builtins.fetchurl</a></li>
  <li><a href="#builtins.fetchtarball">builtins.fetchTarball</a></li>
  <li><a href="#builtins.fetchgit">builtins.fetchGit</a></li>
  <li><a href="#builtins.elemat">builtins.elemAt</a></li>
  <li><a href="#builtins.elem">builtins.elem</a></li>
  <li><a href="#builtins.div">builtins.div</a></li>
  <li><a href="#builtins.dirof">builtins.dirOf</a></li>
  <li><a href="#builtins.deepseq">builtins.deepSeq</a></li>
  <li><a href="#builtins.concatstringssep">builtins.concatStringsSep</a></li>
  <li><a href="#builtins.concatmap">builtins.concatMap</a></li>
  <li><a href="#builtins.concatlists">builtins.concatLists</a></li>
  <li><a href="#builtins.compareversions">builtins.compareVersions</a></li>
  <li><a href="#builtins.catattrs">builtins.catAttrs</a></li>
  <li><a href="#builtins.bitxor">builtins.bitXor</a></li>
  <li><a href="#builtins.bitor">builtins.bitOr</a></li>
  <li><a href="#builtins.bitand">builtins.bitAnd</a></li>
  <li><a href="#builtins.basenameof">builtins.baseNameOf</a></li>
  <li><a href="#builtins.attrvalues">builtins.attrValues</a></li>
  <li><a href="#builtins.attrnames">builtins.attrNames</a></li>
  <li><a href="#builtins.any">builtins.any</a></li>
  <li><a href="#builtins.all">builtins.all</a></li>
  <li><a href="#builtins.add">builtins.add</a></li>
  <li><a href="#builtins.abort">builtins.abort</a></li>
  </ul></li>
  <li><a href="#nixpkgs-library-functions">Nixpkgs Library Functions</a>
  <ul>
  <li><a href="#assert-functions">Assert functions</a>
  <ul>
  <li><a href="#lib.asserts.assertmsg">lib.asserts.assertMsg</a></li>
  <li><a href="#lib.asserts.assertoneof">lib.asserts.assertOneOf</a></li>
  </ul></li>
  <li><a href="#attribute-set-functions">Attribute-Set Functions</a>
  <ul>
  <li><a href="#lib.attrset.attrbypath">lib.attrset.attrByPath</a></li>
  <li><a href="#lib.attrsets.hasattrbypath">lib.attrsets.hasAttrByPath</a></li>
  <li><a href="#lib.attrsets.setattrbypath">lib.attrsets.setAttrByPath</a></li>
  <li><a href="#lib.attrsets.getattrfrompath">lib.attrsets.getAttrFromPath</a></li>
  <li><a href="#lib.attrsets.attrvals">lib.attrsets.attrVals</a></li>
  <li><a href="#lib.attrsets.attrvalues">lib.attrsets.attrValues</a></li>
  <li><a href="#lib.attrsets.catattrs">lib.attrsets.catAttrs</a></li>
  <li><a href="#lib.attrsets.filterattrs">lib.attrsets.filterAttrs</a></li>
  <li><a href="#lib.attrsets.filterattrsrecursive">lib.attrsets.filterAttrsRecursive</a></li>
  <li><a href="#lib.attrsets.foldattrs">lib.attrsets.foldAttrs</a></li>
  <li><a href="#lib.attrsets.collect">lib.attrsets.collect</a></li>
  <li><a href="#lib.attrsets.namevaluepair">lib.attrsets.nameValuePair</a></li>
  <li><a href="#lib.attrsets.mapattrs">lib.attrsets.mapAttrs</a></li>
  <li><a href="#lib.attrsets.mapattrs-1">lib.attrsets.mapAttrs’</a></li>
  <li><a href="#lib.attrsets.mapattrstolist">lib.attrsets.mapAttrsToList</a></li>
  <li><a href="#lib.attrsets.mapattrsrecursive">lib.attrsets.mapAttrsRecursive</a></li>
  <li><a href="#lib.attrsets.mapattrsrecursivecond">lib.attrsets.mapAttrsRecursiveCond</a></li>
  <li><a href="#lib.attrsets.genattrs">lib.attrsets.genAttrs</a></li>
  <li><a href="#lib.attrsets.isderivation">lib.attrsets.isDerivation</a></li>
  <li><a href="#lib.attrsets.toderivation">lib.attrsets.toDerivation</a></li>
  <li><a href="#lib.attrsets.optionalattrs">lib.attrsets.optionalAttrs</a></li>
  <li><a href="#lib.attrsets.zipattrswithnames">lib.attrsets.zipAttrsWithNames</a></li>
  <li><a href="#lib.attrsets.zipattrswith">lib.attrsets.zipAttrsWith</a></li>
  <li><a href="#lib.attrsets.zipattrs">lib.attrsets.zipAttrs</a></li>
  <li><a href="#lib.attrsets.recursiveupdateuntil">lib.attrsets.recursiveUpdateUntil</a></li>
  <li><a href="#lib.attrsets.recursiveupdate">lib.attrsets.recursiveUpdate</a></li>
  <li><a href="#lib.attrsets.recurseintoattrs">lib.attrsets.recurseIntoAttrs</a></li>
  <li><a href="#lib.attrsets.cartesianproductofsets">lib.attrsets.cartesianProductOfSets</a></li>
  </ul></li>
  <li><a href="#debugging-functions">Debugging functions</a>
  <ul>
  <li><a href="#lib.debug.traceif">lib.debug.traceIf</a></li>
  <li><a href="#lib.debug.tracevalfn">lib.debug.traceValFn</a></li>
  <li><a href="#lib.debug.traceval">lib.debug.traceVal</a></li>
  <li><a href="#lib.debug.traceseq">lib.debug.traceSeq</a></li>
  <li><a href="#lib.debug.traceseqn">lib.debug.traceSeqN</a></li>
  <li><a href="#lib.debug.tracevalseqfn">lib.debug.traceValSeqFn</a></li>
  <li><a href="#lib.debug.tracevalseq">lib.debug.traceValSeq</a></li>
  <li><a href="#lib.debug.tracevalseqnfn">lib.debug.traceValSeqNFn</a></li>
  <li><a href="#lib.debug.tracevalseqn">lib.debug.traceValSeqN</a></li>
  <li><a href="#lib.debug.tracefnseqn">lib.debug.traceFnSeqN</a></li>
  <li><a href="#lib.debug.runtests">lib.debug.runTests</a></li>
  <li><a href="#lib.debug.testalltrue">lib.debug.testAllTrue</a></li>
  </ul></li>
  <li><a href="#list-manipulation-functions">List manipulation functions</a>
  <ul>
  <li><a href="#lib.lists.singleton">lib.lists.singleton</a></li>
  <li><a href="#lib.lists.foreach">lib.lists.forEach</a></li>
  <li><a href="#lib.lists.foldr">lib.lists.foldr</a></li>
  <li><a href="#lib.lists.fold">lib.lists.fold</a></li>
  <li><a href="#lib.lists.foldl">lib.lists.foldl</a></li>
  <li><a href="#lib.lists.foldl-1">lib.lists.foldl’</a></li>
  <li><a href="#lib.lists.imap0">lib.lists.imap0</a></li>
  <li><a href="#lib.lists.imap1">lib.lists.imap1</a></li>
  <li><a href="#lib.lists.concatmap">lib.lists.concatMap</a></li>
  <li><a href="#lib.lists.flatten">lib.lists.flatten</a></li>
  <li><a href="#lib.lists.remove">lib.lists.remove</a></li>
  <li><a href="#lib.lists.findsingle">lib.lists.findSingle</a></li>
  <li><a href="#lib.lists.findfirst">lib.lists.findFirst</a></li>
  <li><a href="#lib.lists.any">lib.lists.any</a></li>
  <li><a href="#lib.lists.all">lib.lists.all</a></li>
  <li><a href="#lib.lists.count">lib.lists.count</a></li>
  <li><a href="#lib.lists.optional">lib.lists.optional</a></li>
  <li><a href="#lib.lists.optionals">lib.lists.optionals</a></li>
  <li><a href="#lib.lists.tolist">lib.lists.toList</a></li>
  <li><a href="#lib.lists.range">lib.lists.range</a></li>
  <li><a href="#lib.lists.partition">lib.lists.partition</a></li>
  <li><a href="#lib.lists.groupby">lib.lists.groupBy’</a></li>
  <li><a href="#lib.lists.ziplistswith">lib.lists.zipListsWith</a></li>
  <li><a href="#lib.lists.ziplists">lib.lists.zipLists</a></li>
  <li><a href="#lib.lists.reverselist">lib.lists.reverseList</a></li>
  <li><a href="#lib.lists.listdfs">lib.lists.listDfs</a></li>
  <li><a href="#lib.lists.toposort">lib.lists.toposort</a></li>
  <li><a href="#lib.lists.sort">lib.lists.sort</a></li>
  <li><a href="#lib.lists.comparelists">lib.lists.compareLists</a></li>
  <li><a href="#lib.lists.naturalsort">lib.lists.naturalSort</a></li>
  <li><a href="#lib.lists.take">lib.lists.take</a></li>
  <li><a href="#lib.lists.drop">lib.lists.drop</a></li>
  <li><a href="#lib.lists.sublist">lib.lists.sublist</a></li>
  <li><a href="#lib.lists.last">lib.lists.last</a></li>
  <li><a href="#lib.lists.init">lib.lists.init</a></li>
  <li><a href="#lib.lists.crosslists">lib.lists.crossLists</a></li>
  <li><a href="#lib.lists.unique">lib.lists.unique</a></li>
  <li><a href="#lib.lists.intersectlists">lib.lists.intersectLists</a></li>
  <li><a href="#lib.lists.subtractlists">lib.lists.subtractLists</a></li>
  <li><a href="#lib.lists.mutuallyexclusive">lib.lists.mutuallyExclusive</a></li>
  </ul></li>
  <li><a href="#nixos-nixpkgs-option-handling">NixOS / nixpkgs option handling</a>
  <ul>
  <li><a href="#lib.options.isoption">lib.options.isOption</a></li>
  <li><a href="#lib.options.mkoption">lib.options.mkOption</a></li>
  <li><a href="#lib.options.mkenableoption">lib.options.mkEnableOption</a></li>
  <li><a href="#lib.options.mksinkundeclaredoptions">lib.options.mkSinkUndeclaredOptions</a></li>
  <li><a href="#lib.options.mergeequaloption">lib.options.mergeEqualOption</a></li>
  <li><a href="#lib.options.getvalues">lib.options.getValues</a></li>
  <li><a href="#lib.options.getfiles">lib.options.getFiles</a></li>
  <li><a href="#lib.options.scruboptionvalue">lib.options.scrubOptionValue</a></li>
  <li><a href="#lib.options.literalexample">lib.options.literalExample</a></li>
  <li><a href="#lib.options.showoption">lib.options.showOption</a></li>
  </ul></li>
  <li><a href="#string-manipulation-functions">String manipulation functions</a>
  <ul>
  <li><a href="#lib.strings.concatstrings">lib.strings.concatStrings</a></li>
  <li><a href="#lib.strings.concatmapstrings">lib.strings.concatMapStrings</a></li>
  <li><a href="#lib.strings.concatimapstrings">lib.strings.concatImapStrings</a></li>
  <li><a href="#lib.strings.intersperse">lib.strings.intersperse</a></li>
  <li><a href="#lib.strings.concatstringssep">lib.strings.concatStringsSep</a></li>
  <li><a href="#lib.strings.concatmapstringssep">lib.strings.concatMapStringsSep</a></li>
  <li><a href="#lib.strings.concatimapstringssep">lib.strings.concatImapStringsSep</a></li>
  <li><a href="#lib.strings.makesearchpath">lib.strings.makeSearchPath</a></li>
  <li><a href="#lib.strings.makesearchpathoutput">lib.strings.makeSearchPathOutput</a></li>
  <li><a href="#lib.strings.makelibrarypath">lib.strings.makeLibraryPath</a></li>
  <li><a href="#lib.strings.makebinpath">lib.strings.makeBinPath</a></li>
  <li><a href="#lib.strings.optionalstring">lib.strings.optionalString</a></li>
  <li><a href="#lib.strings.hasprefix">lib.strings.hasPrefix</a></li>
  <li><a href="#lib.strings.hassuffix">lib.strings.hasSuffix</a></li>
  <li><a href="#lib.strings.hasinfix">lib.strings.hasInfix</a></li>
  <li><a href="#lib.strings.stringtocharacters">lib.strings.stringToCharacters</a></li>
  <li><a href="#lib.strings.stringaschars">lib.strings.stringAsChars</a></li>
  <li><a href="#lib.strings.escape">lib.strings.escape</a></li>
  <li><a href="#lib.strings.escapeshellarg">lib.strings.escapeShellArg</a></li>
  <li><a href="#lib.strings.escapeshellargs">lib.strings.escapeShellArgs</a></li>
  <li><a href="#lib.strings.escapenixstring">lib.strings.escapeNixString</a></li>
  <li><a href="#lib.strings.escaperegex">lib.strings.escapeRegex</a></li>
  <li><a href="#lib.strings.escapenixidentifier">lib.strings.escapeNixIdentifier</a></li>
  <li><a href="#lib.strings.tolower">lib.strings.toLower</a></li>
  <li><a href="#lib.strings.toupper">lib.strings.toUpper</a></li>
  <li><a href="#lib.strings.addcontextfrom">lib.strings.addContextFrom</a></li>
  <li><a href="#lib.strings.splitstring">lib.strings.splitString</a></li>
  <li><a href="#lib.strings.removeprefix">lib.strings.removePrefix</a></li>
  <li><a href="#lib.strings.removesuffix">lib.strings.removeSuffix</a></li>
  <li><a href="#lib.strings.versionolder">lib.strings.versionOlder</a></li>
  <li><a href="#lib.strings.versionatleast">lib.strings.versionAtLeast</a></li>
  <li><a href="#lib.strings.getname">lib.strings.getName</a></li>
  <li><a href="#lib.strings.getversion">lib.strings.getVersion</a></li>
  <li><a href="#lib.strings.namefromurl">lib.strings.nameFromURL</a></li>
  <li><a href="#lib.strings.enablefeature">lib.strings.enableFeature</a></li>
  <li><a href="#lib.strings.enablefeatureas">lib.strings.enableFeatureAs</a></li>
  <li><a href="#lib.strings.withfeature">lib.strings.withFeature</a></li>
  <li><a href="#lib.strings.withfeatureas">lib.strings.withFeatureAs</a></li>
  <li><a href="#lib.strings.fixedwidthstring">lib.strings.fixedWidthString</a></li>
  <li><a href="#lib.strings.fixedwidthnumber">lib.strings.fixedWidthNumber</a></li>
  <li><a href="#lib.strings.floattostring">lib.strings.floatToString</a></li>
  <li><a href="#lib.strings.iscoercibletostring">lib.strings.isCoercibleToString</a></li>
  <li><a href="#lib.strings.isstorepath">lib.strings.isStorePath</a></li>
  <li><a href="#lib.strings.toint">lib.strings.toInt</a></li>
  <li><a href="#lib.strings.readpathsfromfile">lib.strings.readPathsFromFile</a></li>
  <li><a href="#lib.strings.filecontents">lib.strings.fileContents</a></li>
  <li><a href="#lib.strings.sanitizederivationname">lib.strings.sanitizeDerivationName</a></li>
  </ul></li>
  <li><a href="#miscellaneous-functions">Miscellaneous functions</a>
  <ul>
  <li><a href="#lib.trivial.id">lib.trivial.id</a></li>
  <li><a href="#lib.trivial.const">lib.trivial.const</a></li>
  <li><a href="#lib.trivial.pipe">lib.trivial.pipe</a></li>
  <li><a href="#lib.trivial.concat">lib.trivial.concat</a></li>
  <li><a href="#lib.trivial.or">lib.trivial.or</a></li>
  <li><a href="#lib.trivial.and">lib.trivial.and</a></li>
  <li><a href="#lib.trivial.bitand">lib.trivial.bitAnd</a></li>
  <li><a href="#lib.trivial.bitor">lib.trivial.bitOr</a></li>
  <li><a href="#lib.trivial.bitxor">lib.trivial.bitXor</a></li>
  <li><a href="#lib.trivial.bitnot">lib.trivial.bitNot</a></li>
  <li><a href="#lib.trivial.booltostring">lib.trivial.boolToString</a></li>
  <li><a href="#lib.trivial.mergeattrs">lib.trivial.mergeAttrs</a></li>
  <li><a href="#lib.trivial.flip">lib.trivial.flip</a></li>
  <li><a href="#lib.trivial.mapnullable">lib.trivial.mapNullable</a></li>
  <li><a href="#lib.trivial.version">lib.trivial.version</a></li>
  <li><a href="#lib.trivial.release">lib.trivial.release</a></li>
  <li><a href="#lib.trivial.codename">lib.trivial.codeName</a></li>
  <li><a href="#lib.trivial.versionsuffix">lib.trivial.versionSuffix</a></li>
  <li><a href="#lib.trivial.revisionwithdefault">lib.trivial.revisionWithDefault</a></li>
  <li><a href="#lib.trivial.innixshell">lib.trivial.inNixShell</a></li>
  <li><a href="#lib.trivial.min">lib.trivial.min</a></li>
  <li><a href="#lib.trivial.max">lib.trivial.max</a></li>
  <li><a href="#lib.trivial.mod">lib.trivial.mod</a></li>
  <li><a href="#lib.trivial.compare">lib.trivial.compare</a></li>
  <li><a href="#lib.trivial.splitbyandcompare">lib.trivial.splitByAndCompare</a></li>
  <li><a href="#lib.trivial.importjson">lib.trivial.importJSON</a></li>
  <li><a href="#lib.trivial.importtoml">lib.trivial.importTOML</a></li>
  <li><a href="#lib.trivial.setfunctionargs">lib.trivial.setFunctionArgs</a></li>
  <li><a href="#lib.trivial.functionargs">lib.trivial.functionArgs</a></li>
  <li><a href="#lib.trivial.isfunction">lib.trivial.isFunction</a></li>
  <li><a href="#lib.trivial.tohexstring">lib.trivial.toHexString</a></li>
  <li><a href="#lib.trivial.tobasedigits">lib.trivial.toBaseDigits</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>

<main>
<h1 id="nix-builtin-functions">Nix Builtin Functions</h1>
<h2 id="builtins.typeof">builtins.typeOf</h2>
<p><em>e</em></p>
<p>Return a string representing the type of the value <em>e</em>, namely <code>&quot;int&quot;</code>, <code>&quot;bool&quot;</code>, <code>&quot;string&quot;</code>, <code>&quot;path&quot;</code>, <code>&quot;null&quot;</code>, <code>&quot;set&quot;</code>, <code>&quot;list&quot;</code>, <code>&quot;lambda&quot;</code> or <code>&quot;float&quot;</code>.</p>
<h2 id="builtins.tryeval">builtins.tryEval</h2>
<p><em>e</em></p>
<p>Try to shallowly evaluate <em>e</em>. Return a set containing the attributes <code>success</code> (<code>true</code> if <em>e</em> evaluated successfully, <code>false</code> if an error was thrown) and <code>value</code>, equalling <em>e</em> if successful and <code>false</code> otherwise. <code>tryEval</code> will only prevent errors created by <code>throw</code> or <code>assert</code> from being thrown. Errors <code>tryEval</code> will not catch are for example those created by <code>abort</code> and type errors generated by builtins. Also note that this doesn’t evaluate <em>e</em> deeply, so <code>let e = { x = throw &quot;&quot;; }; in (builtins.tryEval e).success</code> will be <code>true</code>. Using <code>builtins.deepSeq</code> one can get the expected result: <code>let e = { x = throw &quot;&quot;; }; in (builtins.tryEval (builtins.deepSeq e e)).success</code> will be <code>false</code>.</p>
<h2 id="builtins.trace">builtins.trace</h2>
<p><em>e1, e2</em></p>
<p>Evaluate <em>e1</em> and print its abstract syntax representation on standard error. Then return <em>e2</em>. This function is useful for debugging.</p>
<h2 id="builtins.toxml">builtins.toXML</h2>
<p><em>e</em></p>
<p>Return a string containing an XML representation of <em>e</em>. The main application for <code>toXML</code> is to communicate information with the builder in a more structured format than plain environment variables.</p>
<p>Here is an example where this is the case:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">{</span> <span class="ex">stdenv,</span> fetchurl, libxslt, jira, uberwiki }:</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="ex">stdenv.mkDerivation</span> <span class="er">(</span><span class="ex">rec</span> {</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="ex">name</span> = <span class="st">&quot;web-server&quot;</span><span class="kw">;</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">buildInputs</span> = [ libxslt ]<span class="kw">;</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="ex">builder</span> = builtins.toFile <span class="st">&quot;builder.sh&quot;</span> <span class="st">&quot;</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="st">    source </span><span class="va">$stdenv</span><span class="st">/setup</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="st">    mkdir </span><span class="va">$out</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="st">    echo &quot;</span><span class="va">$servlets</span><span class="st">&quot; | xsltproc </span><span class="va">${stylesheet}</span><span class="st"> - &gt; </span><span class="va">$out</span><span class="st">/server-conf.xml ①</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="st">  &quot;</span><span class="kw">;</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  <span class="ex">stylesheet</span> = builtins.toFile <span class="st">&quot;stylesheet.xsl&quot;</span> ②</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>   <span class="st">&quot;&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;xsl:stylesheet xmlns:xsl=&#39;http://www.w3.org/1999/XSL/Transform&#39; version=&#39;1.0&#39;&gt;</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="st">      &lt;xsl:template match=&#39;/&#39;&gt;</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;Configure&gt;</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="st">          &lt;xsl:for-each select=&#39;/expr/list/attrs&#39;&gt;</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="st">            &lt;Call name=&#39;addWebApplication&#39;&gt;</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="st">              &lt;Arg&gt;&lt;xsl:value-of select=</span><span class="dt">\&quot;</span><span class="st">attr[@name = &#39;path&#39;]/string/@value</span><span class="dt">\&quot;</span><span class="st"> /&gt;&lt;/Arg&gt;</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="st">              &lt;Arg&gt;&lt;xsl:value-of select=</span><span class="dt">\&quot;</span><span class="st">attr[@name = &#39;war&#39;]/path/@value</span><span class="dt">\&quot;</span><span class="st"> /&gt;&lt;/Arg&gt;</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="st">            &lt;/Call&gt;</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="st">          &lt;/xsl:for-each&gt;</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;/Configure&gt;</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="st">      &lt;/xsl:template&gt;</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;/xsl:stylesheet&gt;</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a><span class="st">  &quot;</span><span class="kw">;</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>  <span class="ex">servlets</span> = builtins.toXML [ ③</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>    <span class="kw">{</span> <span class="ex">path</span> = <span class="st">&quot;/bugtracker&quot;</span><span class="kw">;</span> <span class="ex">war</span> = jira + <span class="st">&quot;/lib/atlassian-jira.war&quot;</span><span class="kw">;</span> <span class="kw">}</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>    <span class="kw">{</span> <span class="ex">path</span> = <span class="st">&quot;/wiki&quot;</span><span class="kw">;</span> <span class="ex">war</span> = uberwiki + <span class="st">&quot;/uberwiki.war&quot;</span><span class="kw">;</span> <span class="kw">}</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>  <span class="ex">]</span><span class="kw">;</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a><span class="er">}</span><span class="kw">)</span></span></code></pre></div>
<p>The builder is supposed to generate the configuration file for a <a href="http://jetty.mortbay.org/">Jetty servlet container</a>. A servlet container contains a number of servlets (<code>*.war</code> files) each exported under a specific URI prefix. So the servlet configuration is a list of sets containing the <code>path</code> and <code>war</code> of the servlet (①). This kind of information is difficult to communicate with the normal method of passing information through an environment variable, which just concatenates everything together into a string (which might just work in this case, but wouldn’t work if fields are optional or contain lists themselves). Instead the Nix expression is converted to an XML representation with <code>toXML</code>, which is unambiguous and can easily be processed with the appropriate tools. For instance, in the example an XSLT stylesheet (at point ②) is applied to it (at point ①) to generate the XML configuration file for the Jetty server. The XML representation produced at point ③ by <code>toXML</code> is as follows:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">&lt;?xml</span><span class="ot"> version=</span><span class="st">&#39;1.0&#39;</span><span class="ot"> encoding=</span><span class="st">&#39;utf-8&#39;</span><span class="fu">?&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">expr</span>&gt;</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">list</span>&gt;</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">attrs</span>&gt;</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>      &lt;<span class="kw">attr</span><span class="ot"> name=</span><span class="st">&quot;path&quot;</span>&gt;</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">string</span><span class="ot"> value=</span><span class="st">&quot;/bugtracker&quot;</span> /&gt;</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>      &lt;/<span class="kw">attr</span>&gt;</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>      &lt;<span class="kw">attr</span><span class="ot"> name=</span><span class="st">&quot;war&quot;</span>&gt;</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">path</span><span class="ot"> value=</span><span class="st">&quot;/nix/store/d1jh9pasa7k2...-jira/lib/atlassian-jira.war&quot;</span> /&gt;</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>      &lt;/<span class="kw">attr</span>&gt;</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    &lt;/<span class="kw">attrs</span>&gt;</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">attrs</span>&gt;</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>      &lt;<span class="kw">attr</span><span class="ot"> name=</span><span class="st">&quot;path&quot;</span>&gt;</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">string</span><span class="ot"> value=</span><span class="st">&quot;/wiki&quot;</span> /&gt;</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>      &lt;/<span class="kw">attr</span>&gt;</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>      &lt;<span class="kw">attr</span><span class="ot"> name=</span><span class="st">&quot;war&quot;</span>&gt;</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">path</span><span class="ot"> value=</span><span class="st">&quot;/nix/store/y6423b1yi4sx...-uberwiki/uberwiki.war&quot;</span> /&gt;</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>      &lt;/<span class="kw">attr</span>&gt;</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    &lt;/<span class="kw">attrs</span>&gt;</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  &lt;/<span class="kw">list</span>&gt;</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">expr</span>&gt;</span></code></pre></div>
<p>Note that we used the <code>toFile</code> built-in to write the builder and the stylesheet “inline” in the Nix expression. The path of the stylesheet is spliced into the builder using the syntax <code>xsltproc ${stylesheet}</code>.</p>
<h2 id="builtins.tostring">builtins.toString</h2>
<p><em>e</em></p>
<p>Convert the expression <em>e</em> to a string. <em>e</em> can be:</p>
<ul>
<li><p>A string (in which case the string is returned unmodified).</p></li>
<li><p>A path (e.g., <code>toString /foo/bar</code> yields <code>&quot;/foo/bar&quot;</code>.</p></li>
<li><p>A set containing <code>{ __toString = self: ...; }</code>.</p></li>
<li><p>An integer.</p></li>
<li><p>A list, in which case the string representations of its elements are joined with spaces.</p></li>
<li><p>A Boolean (<code>false</code> yields <code>&quot;&quot;</code>, <code>true</code> yields <code>&quot;1&quot;</code>).</p></li>
<li><p><code>null</code>, which yields the empty string.</p></li>
</ul>
<h2 id="builtins.topath">builtins.toPath</h2>
<p><em>s</em></p>
<p><strong>DEPRECATED.</strong> Use <code>/. + &quot;/path&quot;</code> to convert a string into an absolute path. For relative paths, use <code>./. + &quot;/path&quot;</code>.</p>
<h2 id="builtins.tojson">builtins.toJSON</h2>
<p><em>e</em></p>
<p>Return a string containing a JSON representation of <em>e</em>. Strings, integers, floats, booleans, nulls and lists are mapped to their JSON equivalents. Sets (except derivations) are represented as objects. Derivations are translated to a JSON string containing the derivation’s output path. Paths are copied to the store and represented as a JSON string of the resulting store path.</p>
<h2 id="builtins.tofile">builtins.toFile</h2>
<p><em>name, s</em></p>
<p>Store the string <em>s</em> in a file in the Nix store and return its path. The file has suffix <em>name</em>. This file can be used as an input to derivations. One application is to write builders “inline”. For instance, the following Nix expression combines the <a href="expression-syntax.md">Nix expression for GNU Hello</a> and its <a href="build-script.md">build script</a> into one file:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">{</span> <span class="ex">stdenv,</span> fetchurl, perl }:</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="ex">stdenv.mkDerivation</span> {</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="ex">name</span> = <span class="st">&quot;hello-2.1.1&quot;</span><span class="kw">;</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">builder</span> = builtins.toFile <span class="st">&quot;builder.sh&quot;</span> <span class="st">&quot;</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="st">    source </span><span class="va">$stdenv</span><span class="st">/setup</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="st">    PATH=</span><span class="va">$perl</span><span class="st">/bin:</span><span class="va">$PATH</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="st">    tar xvfz </span><span class="va">$src</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="st">    cd hello-*</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="st">    ./configure --prefix=</span><span class="va">$out</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="st">    make</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="st">    make install</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="st">  &quot;</span><span class="kw">;</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="ex">src</span> = fetchurl {</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>    <span class="ex">url</span> = <span class="st">&quot;http://ftp.nluug.nl/pub/gnu/hello/hello-2.1.1.tar.gz&quot;</span><span class="kw">;</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    <span class="ex">sha256</span> = <span class="st">&quot;1md7jsfd8pa45z73bz1kszpp01yw6x5ljkjk2hx7wl800any6465&quot;</span><span class="kw">;</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  <span class="kw">};</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>  <span class="ex">inherit</span> perl<span class="kw">;</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code></pre></div>
<p>It is even possible for one file to refer to another, e.g.,</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">builder</span> = let</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">configFile</span> = builtins.toFile <span class="st">&quot;foo.conf&quot;</span> <span class="st">&quot;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="st">    # This is some dummy configuration file.</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="st">    ...</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="st">  &quot;</span><span class="kw">;</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="er">in</span> <span class="ex">builtins.toFile</span> <span class="st">&quot;builder.sh&quot;</span> <span class="st">&quot;</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="st">  source </span><span class="va">$stdenv</span><span class="st">/setup</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="st">  ...</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="st">  cp </span><span class="va">${configFile}</span><span class="st"> </span><span class="va">$out</span><span class="st">/etc/foo.conf</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;</span><span class="kw">;</span></span></code></pre></div>
<p>Note that <code>${configFile}</code> is an <a href="language-values.md">antiquotation</a>, so the result of the expression <code>configFile</code> (i.e., a path like <code>/nix/store/m7p7jfny445k...-foo.conf</code>) will be spliced into the resulting string.</p>
<p>It is however <em>not</em> allowed to have files mutually referring to each other, like so:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="bu">let</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">foo</span> = builtins.toFile <span class="st">&quot;foo&quot;</span> <span class="st">&quot;...</span><span class="va">${bar}</span><span class="st">...&quot;</span><span class="kw">;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">bar</span> = builtins.toFile <span class="st">&quot;bar&quot;</span> <span class="st">&quot;...</span><span class="va">${foo}</span><span class="st">...&quot;</span><span class="kw">;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="er">in</span> <span class="ex">foo</span></span></code></pre></div>
<p>This is not allowed because it would cause a cyclic dependency in the computation of the cryptographic hashes for <code>foo</code> and <code>bar</code>.</p>
<p>It is also not possible to reference the result of a derivation. If you are using Nixpkgs, the <code>writeTextFile</code> function is able to do that.</p>
<h2 id="builtins.throw">builtins.throw</h2>
<p><em>s</em></p>
<p>Throw an error message <em>s</em>. This usually aborts Nix expression evaluation, but in <code>nix-env -qa</code> and other commands that try to evaluate a set of derivations to get information about those derivations, a derivation that throws an error is silently skipped (which is not the case for <code>abort</code>).</p>
<h2 id="builtins.tail">builtins.tail</h2>
<p><em>list</em></p>
<p>Return the second to last elements of a list; abort evaluation if the argument isn’t a list or is an empty list.</p>
<blockquote>
<p><strong>Warning</strong></p>
<p>This function should generally be avoided since it’s inefficient: unlike Haskell’s <code>tail</code>, it takes O(n) time, so recursing over a list by repeatedly calling <code>tail</code> takes O(n^2) time.</p>
</blockquote>
<h2 id="builtins.substring">builtins.substring</h2>
<p><em>start, len, s</em></p>
<p>Return the substring of <em>s</em> from character position <em>start</em> (zero-based) up to but not including <em>start + len</em>. If <em>start</em> is greater than the length of the string, an empty string is returned, and if <em>start + len</em> lies beyond the end of the string, only the substring up to the end of the string is returned. <em>start</em> must be non-negative. For example,</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">builtins.substring</span> 0 3 <span class="st">&quot;nixos&quot;</span></span></code></pre></div>
<p>evaluates to <code>&quot;nix&quot;</code>.</p>
<h2 id="builtins.sub">builtins.sub</h2>
<p><em>e1, e2</em></p>
<p>Return the difference between the numbers <em>e1</em> and <em>e2</em>.</p>
<h2 id="builtins.stringlength">builtins.stringLength</h2>
<p><em>e</em></p>
<p>Return the length of the string <em>e</em>. If <em>e</em> is not a string, evaluation is aborted.</p>
<h2 id="builtins.storepath">builtins.storePath</h2>
<p><em>path</em></p>
<p>This function allows you to define a dependency on an already existing store path. For example, the derivation attribute <code>src = builtins.storePath /nix/store/f1d18v1y…-source</code> causes the derivation to depend on the specified path, which must exist or be substitutable. Note that this differs from a plain path (e.g. <code>src = /nix/store/f1d18v1y…-source</code>) in that the latter causes the path to be <em>copied</em> again to the Nix store, resulting in a new path (e.g. <code>/nix/store/ld01dnzc…-source-source</code>).</p>
<p>This function is not available in pure evaluation mode.</p>
<h2 id="builtins.splitversion">builtins.splitVersion</h2>
<p><em>s</em></p>
<p>Split a string representing a version into its components, by the same version splitting logic underlying the version comparison in <a href="../command-ref/nix-env.md#operation---upgrade"><code>nix-env -u</code></a>.</p>
<h2 id="builtins.split">builtins.split</h2>
<p><em>regex, str</em></p>
<p>Returns a list composed of non matched strings interleaved with the lists of the <a href="http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap09.html#tag_09_04">extended POSIX regular expression</a> <em>regex</em> matches of <em>str</em>. Each item in the lists of matched sequences is a regex group.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">builtins.split</span> <span class="st">&quot;(a)b&quot;</span> <span class="st">&quot;abc&quot;</span></span></code></pre></div>
<p>Evaluates to <code>[ &quot;&quot; [ &quot;a&quot; ] &quot;c&quot; ]</code>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">builtins.split</span> <span class="st">&quot;([ac])&quot;</span> <span class="st">&quot;abc&quot;</span></span></code></pre></div>
<p>Evaluates to <code>[ &quot;&quot; [ &quot;a&quot; ] &quot;b&quot; [ &quot;c&quot; ] &quot;&quot; ]</code>.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">builtins.split</span> <span class="st">&quot;(a)|(c)&quot;</span> <span class="st">&quot;abc&quot;</span></span></code></pre></div>
<p>Evaluates to <code>[ &quot;&quot; [ &quot;a&quot; null ] &quot;b&quot; [ null &quot;c&quot; ] &quot;&quot; ]</code>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">builtins.split</span> <span class="st">&quot;([[:upper:]]+)&quot;</span> <span class="st">&quot;  FOO   &quot;</span></span></code></pre></div>
<p>Evaluates to <code>[ &quot; &quot; [ &quot;FOO&quot; ] &quot; &quot; ]</code>.</p>
<h2 id="builtins.sort">builtins.sort</h2>
<p><em>comparator, list</em></p>
<p>Return <em>list</em> in sorted order. It repeatedly calls the function <em>comparator</em> with two elements. The comparator should return <code>true</code> if the first element is less than the second, and <code>false</code> otherwise. For example,</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">builtins.sort</span> builtins.lessThan [ 483 249 526 147 42 77 ]</span></code></pre></div>
<p>produces the list <code>[ 42 77 147 249 483 526 ]</code>.</p>
<p>This is a stable sort: it preserves the relative order of elements deemed equal by the comparator.</p>
<h2 id="builtins.seq">builtins.seq</h2>
<p><em>e1, e2</em></p>
<p>Evaluate <em>e1</em>, then evaluate and return <em>e2</em>. This ensures that a computation is strict in the value of <em>e1</em>.</p>
<h2 id="builtins.replacestrings">builtins.replaceStrings</h2>
<p><em>from, to, s</em></p>
<p>Given string <em>s</em>, replace every occurrence of the strings in <em>from</em> with the corresponding string in <em>to</em>. For example,</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">builtins.replaceStrings</span> [<span class="st">&quot;oo&quot;</span> <span class="st">&quot;a&quot;</span>] [<span class="st">&quot;a&quot;</span> <span class="st">&quot;i&quot;</span>] <span class="st">&quot;foobar&quot;</span></span></code></pre></div>
<p>evaluates to <code>&quot;fabir&quot;</code>.</p>
<h2 id="builtins.removeattrs">builtins.removeAttrs</h2>
<p><em>set, list</em></p>
<p>Remove the attributes listed in <em>list</em> from <em>set</em>. The attributes don’t have to exist in <em>set</em>. For instance,</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">removeAttrs</span> { x = 1<span class="kw">;</span> <span class="ex">y</span> = 2<span class="kw">;</span> <span class="ex">z</span> = 3<span class="kw">;</span> <span class="er">}</span> <span class="bu">[</span> <span class="st">&quot;a&quot;</span> <span class="st">&quot;x&quot;</span> <span class="st">&quot;z&quot;</span> <span class="bu">]</span></span></code></pre></div>
<p>evaluates to <code>{ y = 2; }</code>.</p>
<h2 id="builtins.readfile">builtins.readFile</h2>
<p><em>path</em></p>
<p>Return the contents of the file <em>path</em> as a string.</p>
<h2 id="builtins.readdir">builtins.readDir</h2>
<p><em>path</em></p>
<p>Return the contents of the directory <em>path</em> as a set mapping directory entries to the corresponding file type. For instance, if directory <code>A</code> contains a regular file <code>B</code> and another directory <code>C</code>, then <code>builtins.readDir ./A</code> will return the set</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">{</span> <span class="ex">B</span> = <span class="st">&quot;regular&quot;</span><span class="kw">;</span> <span class="ex">C</span> = <span class="st">&quot;directory&quot;</span><span class="kw">;</span> <span class="kw">}</span></span></code></pre></div>
<p>The possible values for the file type are <code>&quot;regular&quot;</code>, <code>&quot;directory&quot;</code>, <code>&quot;symlink&quot;</code> and <code>&quot;unknown&quot;</code>.</p>
<h2 id="builtins.placeholder">builtins.placeholder</h2>
<p><em>output</em></p>
<p>Return a placeholder string for the specified <em>output</em> that will be substituted by the corresponding output path at build time. Typical outputs would be <code>&quot;out&quot;</code>, <code>&quot;bin&quot;</code> or <code>&quot;dev&quot;</code>.</p>
<h2 id="builtins.pathexists">builtins.pathExists</h2>
<p><em>path</em></p>
<p>Return <code>true</code> if the path <em>path</em> exists at evaluation time, and <code>false</code> otherwise.</p>
<h2 id="builtins.path">builtins.path</h2>
<p><em>args</em></p>
<p>An enrichment of the built-in path type, based on the attributes present in <em>args</em>. All are optional except <code>path</code>:</p>
<ul>
<li><p>path<br />
The underlying path.</p></li>
<li><p>name<br />
The name of the path when added to the store. This can used to reference paths that have nix-illegal characters in their names, like <code>@</code>.</p></li>
<li><p>filter<br />
A function of the type expected by <code>builtins.filterSource</code>, with the same semantics.</p></li>
<li><p>recursive<br />
When <code>false</code>, when <code>path</code> is added to the store it is with a flat hash, rather than a hash of the NAR serialization of the file. Thus, <code>path</code> must refer to a regular file, not a directory. This allows similar behavior to <code>fetchurl</code>. Defaults to <code>true</code>.</p></li>
<li><p>sha256<br />
When provided, this is the expected hash of the file at the path. Evaluation will fail if the hash is incorrect, and providing a hash allows <code>builtins.path</code> to be used even when the <code>pure-eval</code> nix config option is on.</p></li>
</ul>
<h2 id="builtins.partition">builtins.partition</h2>
<p><em>pred, list</em></p>
<p>Given a predicate function <em>pred</em>, this function returns an attrset containing a list named <code>right</code>, containing the elements in <em>list</em> for which <em>pred</em> returned <code>true</code>, and a list named <code>wrong</code>, containing the elements for which it returned <code>false</code>. For example,</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">builtins.partition</span> <span class="er">(</span><span class="ex">x:</span> x <span class="op">&gt;</span> 10<span class="kw">)</span> <span class="ex">[1</span> 23 9 3 42]</span></code></pre></div>
<p>evaluates to</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">{</span> <span class="ex">right</span> = [ 23 42 ]<span class="kw">;</span> <span class="ex">wrong</span> = [ 1 9 3 ]<span class="kw">;</span> <span class="kw">}</span></span></code></pre></div>
<h2 id="builtins.parsedrvname">builtins.parseDrvName</h2>
<p><em>s</em></p>
<p>Split the string <em>s</em> into a package name and version. The package name is everything up to but not including the first dash followed by a digit, and the version is everything following that dash. The result is returned in a set <code>{ name, version }</code>. Thus, <code>builtins.parseDrvName &quot;nix-0.12pre12876&quot;</code> returns <code>{ name = &quot;nix&quot;; version = &quot;0.12pre12876&quot;; }</code>.</p>
<h2 id="builtins.mul">builtins.mul</h2>
<p><em>e1, e2</em></p>
<p>Return the product of the numbers <em>e1</em> and <em>e2</em>.</p>
<h2 id="builtins.match">builtins.match</h2>
<p><em>regex, str</em></p>
<p>Returns a list if the <a href="http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap09.html#tag_09_04">extended POSIX regular expression</a> <em>regex</em> matches <em>str</em> precisely, otherwise returns <code>null</code>. Each item in the list is a regex group.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">builtins.match</span> <span class="st">&quot;ab&quot;</span> <span class="st">&quot;abc&quot;</span></span></code></pre></div>
<p>Evaluates to <code>null</code>.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="ex">builtins.match</span> <span class="st">&quot;abc&quot;</span> <span class="st">&quot;abc&quot;</span></span></code></pre></div>
<p>Evaluates to <code>[ ]</code>.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">builtins.match</span> <span class="st">&quot;a(b)(c)&quot;</span> <span class="st">&quot;abc&quot;</span></span></code></pre></div>
<p>Evaluates to <code>[ &quot;b&quot; &quot;c&quot; ]</code>.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">builtins.match</span> <span class="st">&quot;[[:space:]]+([[:upper:]]+)[[:space:]]+&quot;</span> <span class="st">&quot;  FOO   &quot;</span></span></code></pre></div>
<p>Evaluates to <code>[ &quot;foo&quot; ]</code>.</p>
<h2 id="builtins.mapattrs">builtins.mapAttrs</h2>
<p><em>f, attrset</em></p>
<p>Apply function <em>f</em> to every element of <em>attrset</em>. For example,</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="ex">builtins.mapAttrs</span> <span class="er">(</span><span class="ex">name:</span> value: value <span class="pp">*</span> 10<span class="kw">)</span> <span class="kw">{</span> <span class="ex">a</span> = 1<span class="kw">;</span> <span class="ex">b</span> = 2<span class="kw">;</span> <span class="kw">}</span></span></code></pre></div>
<p>evaluates to <code>{ a = 10; b = 20; }</code>.</p>
<h2 id="builtins.map">builtins.map</h2>
<p><em>f, list</em></p>
<p>Apply the function <em>f</em> to each element in the list <em>list</em>. For example,</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">map</span> <span class="er">(</span><span class="ex">x:</span> <span class="st">&quot;foo&quot;</span> + x<span class="kw">)</span> <span class="bu">[</span> <span class="st">&quot;bar&quot;</span> <span class="st">&quot;bla&quot;</span> <span class="st">&quot;abc&quot;</span> <span class="bu">]</span></span></code></pre></div>
<p>evaluates to <code>[ &quot;foobar&quot; &quot;foobla&quot; &quot;fooabc&quot; ]</code>.</p>
<h2 id="builtins.listtoattrs">builtins.listToAttrs</h2>
<p><em>e</em></p>
<p>Construct a set from a list specifying the names and values of each attribute. Each element of the list should be a set consisting of a string-valued attribute <code>name</code> specifying the name of the attribute, and an attribute <code>value</code> specifying its value. Example:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="ex">builtins.listToAttrs</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">[</span> { name = <span class="er">&quot;foo&quot;;</span> <span class="ex">value</span> = 123<span class="kw">;</span> <span class="er">}</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">{</span> <span class="ex">name</span> = <span class="st">&quot;bar&quot;</span><span class="kw">;</span> <span class="ex">value</span> = 456<span class="kw">;</span> <span class="kw">}</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="ex">]</span></span></code></pre></div>
<p>evaluates to</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="kw">{</span> <span class="ex">foo</span> = 123<span class="kw">;</span> <span class="ex">bar</span> = 456<span class="kw">;</span> <span class="kw">}</span></span></code></pre></div>
<h2 id="builtins.lessthan">builtins.lessThan</h2>
<p><em>e1, e2</em></p>
<p>Return <code>true</code> if the number <em>e1</em> is less than the number <em>e2</em>, and <code>false</code> otherwise. Evaluation aborts if either <em>e1</em> or <em>e2</em> does not evaluate to a number.</p>
<h2 id="builtins.length">builtins.length</h2>
<p><em>e</em></p>
<p>Return the length of the list <em>e</em>.</p>
<h2 id="builtins.isstring">builtins.isString</h2>
<p><em>e</em></p>
<p>Return <code>true</code> if <em>e</em> evaluates to a string, and <code>false</code> otherwise.</p>
<h2 id="builtins.ispath">builtins.isPath</h2>
<p><em>e</em></p>
<p>Return <code>true</code> if <em>e</em> evaluates to a path, and <code>false</code> otherwise.</p>
<h2 id="builtins.isnull">builtins.isNull</h2>
<p><em>e</em></p>
<p>Return <code>true</code> if <em>e</em> evaluates to <code>null</code>, and <code>false</code> otherwise.</p>
<blockquote>
<p><strong>Warning</strong></p>
<p>This function is <em>deprecated</em>; just write <code>e == null</code> instead.</p>
</blockquote>
<h2 id="builtins.islist">builtins.isList</h2>
<p><em>e</em></p>
<p>Return <code>true</code> if <em>e</em> evaluates to a list, and <code>false</code> otherwise.</p>
<h2 id="builtins.isint">builtins.isInt</h2>
<p><em>e</em></p>
<p>Return <code>true</code> if <em>e</em> evaluates to an integer, and <code>false</code> otherwise.</p>
<h2 id="builtins.isfunction">builtins.isFunction</h2>
<p><em>e</em></p>
<p>Return <code>true</code> if <em>e</em> evaluates to a function, and <code>false</code> otherwise.</p>
<h2 id="builtins.isfloat">builtins.isFloat</h2>
<p><em>e</em></p>
<p>Return <code>true</code> if <em>e</em> evaluates to a float, and <code>false</code> otherwise.</p>
<h2 id="builtins.isbool">builtins.isBool</h2>
<p><em>e</em></p>
<p>Return <code>true</code> if <em>e</em> evaluates to a bool, and <code>false</code> otherwise.</p>
<h2 id="builtins.isattrs">builtins.isAttrs</h2>
<p><em>e</em></p>
<p>Return <code>true</code> if <em>e</em> evaluates to a set, and <code>false</code> otherwise.</p>
<h2 id="builtins.intersectattrs">builtins.intersectAttrs</h2>
<p><em>e1, e2</em></p>
<p>Return a set consisting of the attributes in the set <em>e2</em> that also exist in the set <em>e1</em>.</p>
<h2 id="builtins.import">builtins.import</h2>
<p><em>path</em></p>
<p>Load, parse and return the Nix expression in the file <em>path</em>. If <em>path</em> is a directory, the file <code>default.nix</code> in that directory is loaded. Evaluation aborts if the file doesn’t exist or contains an incorrect Nix expression. <code>import</code> implements Nix’s module system: you can put any Nix expression (such as a set or a function) in a separate file, and use it from Nix expressions in other files.</p>
<blockquote>
<p><strong>Note</strong></p>
<p>Unlike some languages, <code>import</code> is a regular function in Nix. Paths using the angle bracket syntax (e.g., <code>import</code> <em>&lt;foo&gt;</em>) are <a href="language-values.md">normal path values</a>.</p>
</blockquote>
<p>A Nix expression loaded by <code>import</code> must not contain any <em>free variables</em> (identifiers that are not defined in the Nix expression itself and are not built-in). Therefore, it cannot refer to variables that are in scope at the call site. For instance, if you have a calling expression</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="ex">rec</span> {</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">x</span> = 123<span class="kw">;</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">y</span> = import ./foo.nix<span class="kw">;</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code></pre></div>
<p>then the following <code>foo.nix</code> will give an error:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="ex">x</span> + 456</span></code></pre></div>
<p>since <code>x</code> is not in scope in <code>foo.nix</code>. If you want <code>x</code> to be available in <code>foo.nix</code>, you should pass it as a function argument:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="ex">rec</span> {</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">x</span> = 123<span class="kw">;</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">y</span> = import ./foo.nix x<span class="kw">;</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code></pre></div>
<p>and</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="ex">x:</span> x + 456</span></code></pre></div>
<p>(The function argument doesn’t have to be called <code>x</code> in <code>foo.nix</code>; any name would work.)</p>
<h2 id="builtins.head">builtins.head</h2>
<p><em>list</em></p>
<p>Return the first element of a list; abort evaluation if the argument isn’t a list or is an empty list. You can test whether a list is empty by comparing it with <code>[]</code>.</p>
<h2 id="builtins.hashstring">builtins.hashString</h2>
<p><em>type, s</em></p>
<p>Return a base-16 representation of the cryptographic hash of string <em>s</em>. The hash algorithm specified by <em>type</em> must be one of <code>&quot;md5&quot;</code>, <code>&quot;sha1&quot;</code>, <code>&quot;sha256&quot;</code> or <code>&quot;sha512&quot;</code>.</p>
<h2 id="builtins.hashfile">builtins.hashFile</h2>
<p><em>type, p</em></p>
<p>Return a base-16 representation of the cryptographic hash of the file at path <em>p</em>. The hash algorithm specified by <em>type</em> must be one of <code>&quot;md5&quot;</code>, <code>&quot;sha1&quot;</code>, <code>&quot;sha256&quot;</code> or <code>&quot;sha512&quot;</code>.</p>
<h2 id="builtins.hasattr">builtins.hasAttr</h2>
<p><em>s, set</em></p>
<p><code>hasAttr</code> returns <code>true</code> if <em>set</em> has an attribute named <em>s</em>, and <code>false</code> otherwise. This is a dynamic version of the <code>?</code> operator, since <em>s</em> is an expression rather than an identifier.</p>
<h2 id="builtins.getenv">builtins.getEnv</h2>
<p><em>s</em></p>
<p><code>getEnv</code> returns the value of the environment variable <em>s</em>, or an empty string if the variable doesn’t exist. This function should be used with care, as it can introduce all sorts of nasty environment dependencies in your Nix expression.</p>
<p><code>getEnv</code> is used in Nix Packages to locate the file <code>~/.nixpkgs/config.nix</code>, which contains user-local settings for Nix Packages. (That is, it does a <code>getEnv &quot;HOME&quot;</code> to locate the user’s home directory.)</p>
<h2 id="builtins.getattr">builtins.getAttr</h2>
<p><em>s, set</em></p>
<p><code>getAttr</code> returns the attribute named <em>s</em> from <em>set</em>. Evaluation aborts if the attribute doesn’t exist. This is a dynamic version of the <code>.</code> operator, since <em>s</em> is an expression rather than an identifier.</p>
<h2 id="builtins.genlist">builtins.genList</h2>
<p><em>generator, length</em></p>
<p>Generate list of size <em>length</em>, with each element <em>i</em> equal to the value returned by <em>generator</em> <code>i</code>. For example,</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="ex">builtins.genList</span> <span class="er">(</span><span class="ex">x:</span> x <span class="pp">*</span> x<span class="kw">)</span> <span class="ex">5</span></span></code></pre></div>
<p>returns the list <code>[ 0 1 4 9 16 ]</code>.</p>
<h2 id="builtins.functionargs">builtins.functionArgs</h2>
<p><em>f</em></p>
<p>Return a set containing the names of the formal arguments expected by the function <em>f</em>. The value of each attribute is a Boolean denoting whether the corresponding argument has a default value. For instance, <code>functionArgs ({ x, y ? 123}: ...) = { x = false; y = true; }</code>.</p>
<p>“Formal argument” here refers to the attributes pattern-matched by the function. Plain lambdas are not included, e.g. <code>functionArgs (x: ...) = { }</code>.</p>
<h2 id="builtins.fromjson">builtins.fromJSON</h2>
<p><em>e</em></p>
<p>Convert a JSON string to a Nix value. For example,</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="ex">builtins.fromJSON</span> <span class="st">&#39;&#39;</span>{<span class="st">&quot;x&quot;</span>: [1, 2, 3], <span class="st">&quot;y&quot;</span>: null}<span class="st">&#39;&#39;</span></span></code></pre></div>
<p>returns the value <code>{ x = [ 1 2 3 ]; y = null; }</code>.</p>
<h2 id="builtins.foldl">builtins.foldl’</h2>
<p><em>op, nul, list</em></p>
<p>Reduce a list by applying a binary operator, from left to right, e.g. <code>foldl’ op nul [x0 x1 x2 ...] = op (op (op nul x0) x1) x2) ...</code>. The operator is applied strictly, i.e., its arguments are evaluated first. For example, <code>foldl’ (x: y: x + y) 0 [1 2 3]</code> evaluates to 6.</p>
<h2 id="builtins.filtersource">builtins.filterSource</h2>
<p><em>e1, e2</em></p>
<p>This function allows you to copy sources into the Nix store while filtering certain files. For instance, suppose that you want to use the directory <code>source-dir</code> as an input to a Nix expression, e.g.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="ex">stdenv.mkDerivation</span> {</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">...</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">src</span> = ./source-dir<span class="kw">;</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code></pre></div>
<p>However, if <code>source-dir</code> is a Subversion working copy, then all those annoying <code>.svn</code> subdirectories will also be copied to the store. Worse, the contents of those directories may change a lot, causing lots of spurious rebuilds. With <code>filterSource</code> you can filter out the <code>.svn</code> directories:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="ex">src</span> = builtins.filterSource</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">(</span><span class="ex">path:</span> type: type != <span class="st">&quot;directory&quot;</span> <span class="kw">||</span> <span class="ex">baseNameOf</span> path != <span class="st">&quot;.svn&quot;</span><span class="kw">)</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">./source-dir</span><span class="kw">;</span></span></code></pre></div>
<p>Thus, the first argument <em>e1</em> must be a predicate function that is called for each regular file, directory or symlink in the source tree <em>e2</em>. If the function returns <code>true</code>, the file is copied to the Nix store, otherwise it is omitted. The function is called with two arguments. The first is the full path of the file. The second is a string that identifies the type of the file, which is either <code>&quot;regular&quot;</code>, <code>&quot;directory&quot;</code>, <code>&quot;symlink&quot;</code> or <code>&quot;unknown&quot;</code> (for other kinds of files such as device nodes or fifos — but note that those cannot be copied to the Nix store, so if the predicate returns <code>true</code> for them, the copy will fail). If you exclude a directory, the entire corresponding subtree of <em>e2</em> will be excluded.</p>
<h2 id="builtins.filter">builtins.filter</h2>
<p><em>f, list</em></p>
<p>Return a list consisting of the elements of <em>list</em> for which the function <em>f</em> returns <code>true</code>.</p>
<h2 id="builtins.fetchurl">builtins.fetchurl</h2>
<p><em>url</em></p>
<p>Download the specified URL and return the path of the downloaded file. This function is not available if <a href="../command-ref/conf-file.md">restricted evaluation mode</a> is enabled.</p>
<h2 id="builtins.fetchtarball">builtins.fetchTarball</h2>
<p><em>args</em></p>
<p>Download the specified URL, unpack it and return the path of the unpacked tree. The file must be a tape archive (<code>.tar</code>) compressed with <code>gzip</code>, <code>bzip2</code> or <code>xz</code>. The top-level path component of the files in the tarball is removed, so it is best if the tarball contains a single directory at top level. The typical use of the function is to obtain external Nix expression dependencies, such as a particular version of Nixpkgs, e.g.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="ex">with</span> import <span class="er">(</span><span class="ex">fetchTarball</span> https://github.com/NixOS/nixpkgs/archive/nixos-14.12.tar.gz<span class="kw">)</span> <span class="ex">{}</span><span class="kw">;</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="ex">stdenv.mkDerivation</span> { … }</span></code></pre></div>
<p>The fetched tarball is cached for a certain amount of time (1 hour by default) in <code>~/.cache/nix/tarballs/</code>. You can change the cache timeout either on the command line with <code>--option tarball-ttl number of seconds</code> or in the Nix configuration file with this option: <code>number of seconds to cache</code>.</p>
<p>Note that when obtaining the hash with <code>nix-prefetch-url</code> the option <code>--unpack</code> is required.</p>
<p>This function can also verify the contents against a hash. In that case, the function takes a set instead of a URL. The set requires the attribute <code>url</code> and the attribute <code>sha256</code>, e.g.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="ex">with</span> import <span class="er">(</span><span class="ex">fetchTarball</span> {</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">url</span> = <span class="st">&quot;https://github.com/NixOS/nixpkgs/archive/nixos-14.12.tar.gz&quot;</span><span class="kw">;</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">sha256</span> = <span class="st">&quot;1jppksrfvbk5ypiqdz4cddxdl8z6zyzdb2srq8fcffr327ld5jj2&quot;</span><span class="kw">;</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="er">}</span><span class="kw">)</span> <span class="ex">{}</span><span class="kw">;</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="ex">stdenv.mkDerivation</span> { … }</span></code></pre></div>
<p>This function is not available if <a href="../command-ref/conf-file.md">restricted evaluation mode</a> is enabled.</p>
<h2 id="builtins.fetchgit">builtins.fetchGit</h2>
<p><em>args</em></p>
<p>Fetch a path from git. <em>args</em> can be a URL, in which case the HEAD of the repo at that URL is fetched. Otherwise, it can be an attribute with the following attributes (all except <code>url</code> optional):</p>
<ul>
<li><p>url<br />
The URL of the repo.</p></li>
<li><p>name<br />
The name of the directory the repo should be exported to in the store. Defaults to the basename of the URL.</p></li>
<li><p>rev<br />
The git revision to fetch. Defaults to the tip of <code>ref</code>.</p></li>
<li><p>ref<br />
The git ref to look for the requested revision under. This is often a branch or tag name. Defaults to <code>HEAD</code>.</p>
<p>By default, the <code>ref</code> value is prefixed with <code>refs/heads/</code>. As of Nix 2.3.0 Nix will not prefix <code>refs/heads/</code> if <code>ref</code> starts with <code>refs/</code>.</p></li>
<li><p>submodules<br />
A Boolean parameter that specifies whether submodules should be checked out. Defaults to <code>false</code>.</p></li>
<li><p>allRefs<br />
Whether to fetch all refs of the repository. With this argument being true, it’s possible to load a <code>rev</code> from <em>any</em> <code>ref</code> (by default only <code>rev</code>s from the specified <code>ref</code> are supported).</p></li>
</ul>
<p>Here are some examples of how to use <code>fetchGit</code>.</p>
<ul>
<li><p>To fetch a private repository over SSH:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="ex">builtins.fetchGit</span> {</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">url</span> = <span class="st">&quot;git@github.com:my-secret/repository.git&quot;</span><span class="kw">;</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">ref</span> = <span class="st">&quot;master&quot;</span><span class="kw">;</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rev</span> = <span class="st">&quot;adab8b916a45068c044658c4158d81878f9ed1c3&quot;</span><span class="kw">;</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code></pre></div></li>
<li><p>To fetch an arbitrary reference:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="ex">builtins.fetchGit</span> {</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">url</span> = <span class="st">&quot;https://github.com/NixOS/nix.git&quot;</span><span class="kw">;</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">ref</span> = <span class="st">&quot;refs/heads/0.5-release&quot;</span><span class="kw">;</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code></pre></div></li>
<li><p>If the revision you’re looking for is in the default branch of the git repository you don’t strictly need to specify the branch name in the <code>ref</code> attribute.</p>
<p>However, if the revision you’re looking for is in a future branch for the non-default branch you will need to specify the the <code>ref</code> attribute as well.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="ex">builtins.fetchGit</span> {</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">url</span> = <span class="st">&quot;https://github.com/nixos/nix.git&quot;</span><span class="kw">;</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rev</span> = <span class="st">&quot;841fcbd04755c7a2865c51c1e2d3b045976b7452&quot;</span><span class="kw">;</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="ex">ref</span> = <span class="st">&quot;1.11-maintenance&quot;</span><span class="kw">;</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code></pre></div>
<blockquote>
<p><strong>Note</strong></p>
<p>It is nice to always specify the branch which a revision belongs to. Without the branch being specified, the fetcher might fail if the default branch changes. Additionally, it can be confusing to try a commit from a non-default branch and see the fetch fail. If the branch is specified the fault is much more obvious.</p>
</blockquote></li>
<li><p>If the revision you’re looking for is in the default branch of the git repository you may omit the <code>ref</code> attribute.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="ex">builtins.fetchGit</span> {</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">url</span> = <span class="st">&quot;https://github.com/nixos/nix.git&quot;</span><span class="kw">;</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rev</span> = <span class="st">&quot;841fcbd04755c7a2865c51c1e2d3b045976b7452&quot;</span><span class="kw">;</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code></pre></div></li>
<li><p>To fetch a specific tag:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="ex">builtins.fetchGit</span> {</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">url</span> = <span class="st">&quot;https://github.com/nixos/nix.git&quot;</span><span class="kw">;</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">ref</span> = <span class="st">&quot;refs/tags/1.9&quot;</span><span class="kw">;</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code></pre></div></li>
<li><p>To fetch the latest version of a remote branch:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="ex">builtins.fetchGit</span> {</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">url</span> = <span class="st">&quot;ssh://git@github.com/nixos/nix.git&quot;</span><span class="kw">;</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">ref</span> = <span class="st">&quot;master&quot;</span><span class="kw">;</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code></pre></div>
<blockquote>
<p><strong>Note</strong></p>
<p>Nix will refetch the branch in accordance with the option <code>tarball-ttl</code>.</p>
</blockquote>
<blockquote>
<p><strong>Note</strong></p>
<p>This behavior is disabled in <em>Pure evaluation mode</em>.</p>
</blockquote></li>
</ul>
<h2 id="builtins.elemat">builtins.elemAt</h2>
<p><em>xs, n</em></p>
<p>Return element <em>n</em> from the list <em>xs</em>. Elements are counted starting from 0. A fatal error occurs if the index is out of bounds.</p>
<h2 id="builtins.elem">builtins.elem</h2>
<p><em>x, xs</em></p>
<p>Return <code>true</code> if a value equal to <em>x</em> occurs in the list <em>xs</em>, and <code>false</code> otherwise.</p>
<h2 id="builtins.div">builtins.div</h2>
<p><em>e1, e2</em></p>
<p>Return the quotient of the numbers <em>e1</em> and <em>e2</em>.</p>
<h2 id="builtins.dirof">builtins.dirOf</h2>
<p><em>s</em></p>
<p>Return the directory part of the string <em>s</em>, that is, everything before the final slash in the string. This is similar to the GNU <code>dirname</code> command.</p>
<h2 id="builtins.deepseq">builtins.deepSeq</h2>
<p><em>e1, e2</em></p>
<p>This is like <code>seq e1 e2</code>, except that <em>e1</em> is evaluated <em>deeply</em>: if it’s a list or set, its elements or attributes are also evaluated recursively.</p>
<h2 id="builtins.concatstringssep">builtins.concatStringsSep</h2>
<p><em>separator, list</em></p>
<p>Concatenate a list of strings with a separator between each element, e.g. <code>concatStringsSep &quot;/&quot; [&quot;usr&quot; &quot;local&quot; &quot;bin&quot;] == &quot;usr/local/bin&quot;</code>.</p>
<h2 id="builtins.concatmap">builtins.concatMap</h2>
<p><em>f, list</em></p>
<p>This function is equivalent to <code>builtins.concatLists (map f list)</code> but is more efficient.</p>
<h2 id="builtins.concatlists">builtins.concatLists</h2>
<p><em>lists</em></p>
<p>Concatenate a list of lists into a single list.</p>
<h2 id="builtins.compareversions">builtins.compareVersions</h2>
<p><em>s1, s2</em></p>
<p>Compare two strings representing versions and return <code>-1</code> if version <em>s1</em> is older than version <em>s2</em>, <code>0</code> if they are the same, and <code>1</code> if <em>s1</em> is newer than <em>s2</em>. The version comparison algorithm is the same as the one used by <a href="../command-ref/nix-env.md#operation---upgrade"><code>nix-env -u</code></a>.</p>
<h2 id="builtins.catattrs">builtins.catAttrs</h2>
<p><em>attr, list</em></p>
<p>Collect each attribute named <em>attr</em> from a list of attribute sets. Attrsets that don’t contain the named attribute are ignored. For example,</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="ex">builtins.catAttrs</span> <span class="st">&quot;a&quot;</span> [{a = 1<span class="kw">;</span><span class="er">}</span> <span class="ex">{b</span> = 0<span class="kw">;</span><span class="er">}</span> <span class="ex">{a</span> = 2<span class="kw">;</span><span class="er">}</span><span class="ex">]</span></span></code></pre></div>
<p>evaluates to <code>[1 2]</code>.</p>
<h2 id="builtins.bitxor">builtins.bitXor</h2>
<p><em>e1, e2</em></p>
<p>Return the bitwise XOR of the integers <em>e1</em> and <em>e2</em>.</p>
<h2 id="builtins.bitor">builtins.bitOr</h2>
<p><em>e1, e2</em></p>
<p>Return the bitwise OR of the integers <em>e1</em> and <em>e2</em>.</p>
<h2 id="builtins.bitand">builtins.bitAnd</h2>
<p><em>e1, e2</em></p>
<p>Return the bitwise AND of the integers <em>e1</em> and <em>e2</em>.</p>
<h2 id="builtins.basenameof">builtins.baseNameOf</h2>
<p><em>s</em></p>
<p>Return the <em>base name</em> of the string <em>s</em>, that is, everything following the final slash in the string. This is similar to the GNU <code>basename</code> command.</p>
<h2 id="builtins.attrvalues">builtins.attrValues</h2>
<p><em>set</em></p>
<p>Return the values of the attributes in the set <em>set</em> in the order corresponding to the sorted attribute names.</p>
<h2 id="builtins.attrnames">builtins.attrNames</h2>
<p><em>set</em></p>
<p>Return the names of the attributes in the set <em>set</em> in an alphabetically sorted list. For instance, <code>builtins.attrNames { y = 1; x = &quot;foo&quot;; }</code> evaluates to <code>[ &quot;x&quot; &quot;y&quot; ]</code>.</p>
<h2 id="builtins.any">builtins.any</h2>
<p><em>pred, list</em></p>
<p>Return <code>true</code> if the function <em>pred</em> returns <code>true</code> for at least one element of <em>list</em>, and <code>false</code> otherwise.</p>
<h2 id="builtins.all">builtins.all</h2>
<p><em>pred, list</em></p>
<p>Return <code>true</code> if the function <em>pred</em> returns <code>true</code> for all elements of <em>list</em>, and <code>false</code> otherwise.</p>
<h2 id="builtins.add">builtins.add</h2>
<p><em>e1, e2</em></p>
<p>Return the sum of the numbers <em>e1</em> and <em>e2</em>.</p>
<h2 id="builtins.abort">builtins.abort</h2>
<p><em>s</em></p>
<p>Abort Nix expression evaluation and print the error message <em>s</em>.</p>
<h1 id="nixpkgs-library-functions">Nixpkgs Library Functions</h1>
<h2 id="assert-functions">Assert functions</h2>
<h3 id="lib.asserts.assertmsg">lib.asserts.assertMsg</h3>
<p><em>pred, msg</em></p>
<p><code>assertMsg :: Bool -&gt; String -&gt; Bool</code></p>
<p>Print a trace message if pred is false.</p>
<ul>
<li><p><code>pred</code></p>
<p>Condition under which the <var>msg</var> should <emphasis>not</emphasis> be printed.</p></li>
<li><p><code>msg</code></p>
<p>Message to print.</p></li>
</ul>
<p>Printing when the predicate is false:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="ex">assert</span> lib.asserts.assertMsg <span class="er">(</span><span class="st">&quot;foo&quot;</span> == <span class="st">&quot;bar&quot;</span><span class="kw">)</span> <span class="st">&quot;foo is not bar, silly&quot;</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="ex">stderr</span><span class="op">&gt;</span> trace: foo is not bar, silly</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="ex">stderr</span><span class="op">&gt;</span> assert failed</span></code></pre></div>
<h3 id="lib.asserts.assertoneof">lib.asserts.assertOneOf</h3>
<p><em>name, val, xs</em></p>
<p><code>assertOneOf :: String -&gt; String -&gt;       StringList -&gt; Bool</code></p>
<p>Specialized asserts.assertMsg for checking if val is one of the elements of xs. Useful for checking enums.</p>
<ul>
<li><p><code>name</code></p>
<p>The name of the variable the user entered <var>val</var> into, for inclusion in the error message.</p></li>
<li><p><code>val</code></p>
<p>The value of what the user provided, to be compared against the values in <var>xs</var>.</p></li>
<li><p><code>xs</code></p>
<p>The list of valid values.</p></li>
</ul>
<p>Ensuring a user provided a possible value:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="bu">let</span> <span class="va">sslLibrary</span> <span class="op">=</span> <span class="st">&quot;bearssl&quot;</span><span class="kw">;</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="er">in</span> <span class="ex">lib.asserts.assertOneOf</span> <span class="st">&quot;sslLibrary&quot;</span> sslLibrary [ <span class="st">&quot;openssl&quot;</span> <span class="st">&quot;libressl&quot;</span> ]<span class="kw">;</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> false</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="ex">stderr</span><span class="op">&gt;</span> trace: sslLibrary must be one of <span class="st">&quot;openssl&quot;</span>, <span class="st">&quot;libressl&quot;</span>, but is: <span class="st">&quot;bearssl&quot;</span></span></code></pre></div>
<h2 id="attribute-set-functions">Attribute-Set Functions</h2>
<h3 id="lib.attrset.attrbypath">lib.attrset.attrByPath</h3>
<p><em>attrPath, default, set</em></p>
<p><code>attrByPath :: [String] -&gt; Any -&gt; AttrSet -&gt; Any</code></p>
<p>Return an attribute from within nested attribute sets.</p>
<ul>
<li><p><code>attrPath</code></p>
<p>A list of strings representing the path through the nested attribute set <var>set</var>.</p></li>
<li><p><code>default</code></p>
<p>Default value if <var>attrPath</var> does not resolve to an existing value.</p></li>
<li><p><code>set</code></p>
<p>The nested attributeset to select values from.</p></li>
</ul>
<p>Extracting a value from a nested attribute set:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="bu">let</span> <span class="va">set</span> <span class="op">=</span> { <span class="va">a</span> <span class="op">=</span> { <span class="va">b</span> <span class="op">=</span> <span class="dv">3</span><span class="kw">;</span> <span class="er">}</span><span class="kw">;</span> <span class="er">}</span><span class="kw">;</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="er">in</span> <span class="ex">lib.attrsets.attrByPath</span> [ <span class="st">&quot;a&quot;</span> <span class="st">&quot;b&quot;</span> ] 0 set</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> 3</span></code></pre></div>
<p>No value at the path, instead using the default:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lib.attrsets.attrByPath</span> [ <span class="st">&quot;a&quot;</span> <span class="st">&quot;b&quot;</span> ] 0 {}</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> 0</span></code></pre></div>
<h3 id="lib.attrsets.hasattrbypath">lib.attrsets.hasAttrByPath</h3>
<p><em>attrPath, set</em></p>
<p><code>hasAttrByPath :: [String] -&gt; AttrSet -&gt; Bool</code></p>
<p>Determine if an attribute exists within a nested attribute set.</p>
<ul>
<li><p><code>attrPath</code></p>
<p>A list of strings representing the path through the nested attribute set <var>set</var>.</p></li>
<li><p><code>set</code></p>
<p>The nested attributeset to check.</p></li>
</ul>
<p>A nested value does exist inside a set:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lib.attrsets.hasAttrByPath</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">[</span> <span class="st">&quot;a&quot;</span> <span class="st">&quot;b&quot;</span> <span class="st">&quot;c&quot;</span> <span class="er">&quot;d&quot;</span> <span class="ex">]</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">{</span> <span class="ex">a</span> = { b = { c = { d = 123<span class="kw">;</span> <span class="kw">};</span> <span class="er">}</span><span class="kw">;</span> <span class="er">}</span><span class="kw">;</span> <span class="er">}</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> true</span></code></pre></div>
<h3 id="lib.attrsets.setattrbypath">lib.attrsets.setAttrByPath</h3>
<p><em>attrPath, value</em></p>
<p><code>setAttrByPath :: [String] -&gt; Any -&gt; AttrSet</code></p>
<p>Create a new attribute set with value set at the nested attribute location specified in attrPath.</p>
<ul>
<li><p><code>attrPath</code></p>
<p>A list of strings representing the path through the nested attribute set.</p></li>
<li><p><code>value</code></p>
<p>The value to set at the location described by <var>attrPath</var>.</p></li>
</ul>
<p>Creating a new nested attribute set:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lib.attrsets.setAttrByPath</span> [ <span class="st">&quot;a&quot;</span> <span class="st">&quot;b&quot;</span> ] 3</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> { a = { b = 3<span class="kw">;</span> <span class="er">}</span><span class="kw">;</span> <span class="er">}</span></span></code></pre></div>
<h3 id="lib.attrsets.getattrfrompath">lib.attrsets.getAttrFromPath</h3>
<p><em>attrPath, set</em></p>
<p><code>getAttrFromPath :: [String] -&gt; AttrSet -&gt; Value</code></p>
<p>Like <a href="#function-library-lib.attrsets.attrByPath"></a> except without a default, and it will throw if the value doesn’t exist.</p>
<ul>
<li><p><code>attrPath</code></p>
<p>A list of strings representing the path through the nested attribute set <var>set</var>.</p></li>
<li><p><code>set</code></p>
<p>The nested attribute set to find the value in.</p></li>
</ul>
<p>Succesfully getting a value from an attribute set:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lib.attrsets.getAttrFromPath</span> [ <span class="st">&quot;a&quot;</span> <span class="st">&quot;b&quot;</span> ] { a = { b = 3<span class="kw">;</span> <span class="er">}</span><span class="kw">;</span> <span class="er">}</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> 3</span></code></pre></div>
<p>Throwing after failing to get a value from an attribute set:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lib.attrsets.getAttrFromPath</span> [ <span class="st">&quot;x&quot;</span> <span class="st">&quot;y&quot;</span> ] { }</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> error: cannot find attribute <span class="kw">`</span><span class="ex">x.y</span><span class="st">&#39;</span></span></code></pre></div>
<h3 id="lib.attrsets.attrvals">lib.attrsets.attrVals</h3>
<p><em>nameList, set</em></p>
<p><code>attrVals :: [String] -&gt; AttrSet -&gt; [Any]</code></p>
<p>Return the specified attributes from a set. All values must exist.</p>
<ul>
<li><p><code>nameList</code></p>
<p>The list of attributes to fetch from <var>set</var>. Each attribute name must exist on the attrbitue set.</p></li>
<li><p><code>set</code></p>
<p>The set to get attribute values from.</p></li>
</ul>
<p>Getting several values from an attribute set:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lib.attrsets.attrVals</span> [ <span class="st">&quot;a&quot;</span> <span class="st">&quot;b&quot;</span> <span class="st">&quot;c&quot;</span> ] { a = 1<span class="kw">;</span> <span class="ex">b</span> = 2<span class="kw">;</span> <span class="ex">c</span> = 3<span class="kw">;</span> <span class="er">}</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ 1 2 3 ]</span></code></pre></div>
<p>Getting missing values from an attribute set:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lib.attrsets.attrVals</span> [ <span class="st">&quot;d&quot;</span> ] { }</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="ex">error:</span> attribute <span class="st">&#39;d&#39;</span> missing</span></code></pre></div>
<h3 id="lib.attrsets.attrvalues">lib.attrsets.attrValues</h3>
<p><em>attrs</em></p>
<p><code>attrValues :: AttrSet -&gt; [Any]</code></p>
<p>Get all the attribute values from an attribute set.</p>
<ul>
<li><p><code>attrs</code></p>
<p>The attribute set.</p></li>
</ul>
<p>:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lib.attrsets.attrValues</span> { a = 1<span class="kw">;</span> <span class="ex">b</span> = 2<span class="kw">;</span> <span class="ex">c</span> = 3<span class="kw">;</span> <span class="er">}</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ 1 2 3 ]</span></code></pre></div>
<h3 id="lib.attrsets.catattrs">lib.attrsets.catAttrs</h3>
<p><em>attr, sets</em></p>
<p><code>catAttrs :: String -&gt; [AttrSet] -&gt; [Any]</code></p>
<p>Collect each attribute named `attr’ from the list of attribute sets, sets. Sets that don’t contain the named attribute are ignored.</p>
<ul>
<li><p><code>attr</code></p>
<p>Attribute name to select from each attribute set in <var>sets</var>.</p></li>
<li><p><code>sets</code></p>
<p>The list of attribute sets to select <var>attr</var> from.</p></li>
</ul>
<p>Collect an attribute from a list of attribute sets.:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="ex">catAttrs</span> <span class="st">&quot;a&quot;</span> [{a = 1<span class="kw">;</span><span class="er">}</span> <span class="ex">{b</span> = 0<span class="kw">;</span><span class="er">}</span> <span class="ex">{a</span> = 2<span class="kw">;</span><span class="er">}</span><span class="ex">]</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ 1 2 ]</span></code></pre></div>
<h3 id="lib.attrsets.filterattrs">lib.attrsets.filterAttrs</h3>
<p><em>pred, name, value, set, name, value</em></p>
<p><code>filterAttrs :: (String -&gt; Any -&gt; Bool) -&gt; AttrSet -&gt; AttrSet</code></p>
<p>Filter an attribute set by removing all attributes for which the given predicate return false.</p>
<ul>
<li><p><code>pred</code></p>
<p><literal>String -&gt; Any -&gt; Bool</literal></p></li>
<li><p><code>name</code></p>
<p>The attribute’s name</p></li>
<li><p><code>value</code></p>
<p>The attribute’s value</p></li>
<li><p><code>set</code></p>
<p>The attribute set to filter</p></li>
<li><p><code>name</code></p>
<p>The attribute’s name</p></li>
<li><p><code>value</code></p>
<p>The attribute’s value</p></li>
</ul>
<p>Filtering an attributeset:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="ex">filterAttrs</span> <span class="er">(</span><span class="ex">n:</span> v: n == <span class="st">&quot;foo&quot;</span><span class="kw">)</span> <span class="kw">{</span> <span class="ex">foo</span> = 1<span class="kw">;</span> <span class="ex">bar</span> = 2<span class="kw">;</span> <span class="kw">}</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> { foo = 1<span class="kw">;</span> <span class="er">}</span></span></code></pre></div>
<h3 id="lib.attrsets.filterattrsrecursive">lib.attrsets.filterAttrsRecursive</h3>
<p><em>pred, name, value, set, name, value</em></p>
<p><code>filterAttrsRecursive :: (String -&gt; Any -&gt; Bool) -&gt; AttrSet -&gt; AttrSet</code></p>
<p>Filter an attribute set recursively by removing all attributes for which the given predicate return false.</p>
<ul>
<li><p><code>pred</code></p>
<p><literal>String -&gt; Any -&gt; Bool</literal></p></li>
<li><p><code>name</code></p>
<p>The attribute’s name</p></li>
<li><p><code>value</code></p>
<p>The attribute’s value</p></li>
<li><p><code>set</code></p>
<p>The attribute set to filter</p></li>
<li><p><code>name</code></p>
<p>The attribute’s name</p></li>
<li><p><code>value</code></p>
<p>The attribute’s value</p></li>
</ul>
<p>Recursively filtering an attribute set:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lib.attrsets.filterAttrsRecursive</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">(</span><span class="ex">n:</span> v: v != null<span class="kw">)</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">{</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>    <span class="ex">levelA</span> = {</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>      <span class="ex">example</span> = <span class="st">&quot;hi&quot;</span><span class="kw">;</span></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>      <span class="ex">levelB</span> = {</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>        <span class="ex">hello</span> = <span class="st">&quot;there&quot;</span><span class="kw">;</span></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>        <span class="ex">this-one-is-present</span> = {</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>          <span class="ex">this-is-excluded</span> = null<span class="kw">;</span></span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>        <span class="kw">};</span></span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>      <span class="er">}</span><span class="kw">;</span></span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>      <span class="ex">this-one-is-also-excluded</span> = null<span class="kw">;</span></span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>    <span class="er">}</span><span class="kw">;</span></span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>    <span class="ex">also-excluded</span> = null<span class="kw">;</span></span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a>  <span class="er">}</span></span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> {</span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a>     <span class="ex">levelA</span> = {</span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a>       <span class="ex">example</span> = <span class="st">&quot;hi&quot;</span><span class="kw">;</span></span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a>       <span class="ex">levelB</span> = {</span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a>         <span class="ex">hello</span> = <span class="st">&quot;there&quot;</span><span class="kw">;</span></span>
<span id="cb55-21"><a href="#cb55-21" aria-hidden="true" tabindex="-1"></a>         <span class="ex">this-one-is-present</span> = { }<span class="kw">;</span></span>
<span id="cb55-22"><a href="#cb55-22" aria-hidden="true" tabindex="-1"></a>       <span class="er">}</span><span class="kw">;</span></span>
<span id="cb55-23"><a href="#cb55-23" aria-hidden="true" tabindex="-1"></a>     <span class="er">}</span><span class="kw">;</span></span>
<span id="cb55-24"><a href="#cb55-24" aria-hidden="true" tabindex="-1"></a>   <span class="er">}</span></span></code></pre></div>
<h3 id="lib.attrsets.foldattrs">lib.attrsets.foldAttrs</h3>
<p><em>op, val, col, nul, list_of_attrs, val, col</em></p>
<p><code>foldAttrs :: (Any -&gt; Any -&gt; Any) -&gt; Any -&gt; [AttrSets] -&gt; Any</code></p>
<p>Apply fold function to values grouped by key.</p>
<ul>
<li><p><code>op</code></p>
<p><literal>Any -&gt; Any -&gt; Any</literal></p></li>
<li><p><code>val</code></p>
<p>An attribute’s value</p></li>
<li><p><code>col</code></p>
<p>The result of previous <function>op</function> calls with other values and <function>nul</function>.</p></li>
<li><p><code>nul</code></p>
<p>The null-value, the starting value.</p></li>
<li><p><code>list_of_attrs</code></p>
<p>A list of attribute sets to fold together by key.</p></li>
<li><p><code>val</code></p>
<p>An attribute’s value</p></li>
<li><p><code>col</code></p>
<p>The result of previous <function>op</function> calls with other values and <function>nul</function>.</p></li>
</ul>
<p>Combining an attribute of lists in to one attribute set:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lib.attrsets.foldAttrs</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">(</span><span class="ex">n:</span> a: [n] ++ a<span class="kw">)</span> <span class="ex">[]</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="bu">[</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>    { a = <span class="er">2;</span> <span class="ex">b</span> = 7<span class="kw">;</span> <span class="er">}</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">{</span> <span class="ex">a</span> = 3<span class="kw">;</span> <span class="kw">}</span></span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">{</span> <span class="ex">b</span> = 6<span class="kw">;</span> <span class="kw">}</span></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">]</span></span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> { a = [ 2 3 ]<span class="kw">;</span> <span class="ex">b</span> = [ 7 6 ]<span class="kw">;</span> <span class="er">}</span></span></code></pre></div>
<h3 id="lib.attrsets.collect">lib.attrsets.collect</h3>
<p><em>pred, value, attrs, value</em></p>
<p><code>collect :: (Any -&gt; Bool) -&gt; AttrSet -&gt; [Any]</code></p>
<p>Recursively collect sets that verify a given predicate named pred from the set attrs. The recursion stops when pred returns true.</p>
<ul>
<li><p><code>pred</code></p>
<p><literal>Any -&gt; Bool</literal></p></li>
<li><p><code>value</code></p>
<p>The attribute set value.</p></li>
<li><p><code>attrs</code></p>
<p>The attribute set to recursively collect.</p></li>
<li><p><code>value</code></p>
<p>The attribute set value.</p></li>
</ul>
<p>Collecting all lists from an attribute set:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lib.attrsets.collect</span> isList { a = { b = [<span class="st">&quot;b&quot;</span>]<span class="kw">;</span> <span class="er">}</span><span class="kw">;</span> <span class="ex">c</span> = [1]<span class="kw">;</span> <span class="er">}</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [[<span class="st">&quot;b&quot;</span>] [1]]</span></code></pre></div>
<p>Collecting all attribute-sets which contain the outPath attribute name.:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="ex">collect</span> <span class="er">(</span><span class="ex">x:</span> x <span class="pp">?</span> outPath<span class="kw">)</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">{</span> <span class="ex">a</span> = { outPath = <span class="st">&quot;a/&quot;</span><span class="kw">;</span> <span class="kw">};</span> <span class="ex">b</span> = { outPath = <span class="st">&quot;b/&quot;</span><span class="kw">;</span> <span class="er">}</span><span class="kw">;</span> <span class="er">}</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [{ outPath = <span class="st">&quot;a/&quot;</span><span class="kw">;</span> <span class="er">}</span> <span class="kw">{</span> <span class="ex">outPath</span> = <span class="st">&quot;b/&quot;</span><span class="kw">;</span> <span class="ex">}]</span></span></code></pre></div>
<h3 id="lib.attrsets.namevaluepair">lib.attrsets.nameValuePair</h3>
<p><em>name, value</em></p>
<p><code>nameValuePair :: String -&gt; Any -&gt; AttrSet</code></p>
<p>Utility function that creates a {name, value} pair as expected by builtins.listToAttrs.</p>
<ul>
<li><p><code>name</code></p>
<p>The attribute name.</p></li>
<li><p><code>value</code></p>
<p>The attribute value.</p></li>
</ul>
<p>Creating a name value pair:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="ex">nameValuePair</span> <span class="st">&quot;some&quot;</span> 6</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> { name = <span class="st">&quot;some&quot;</span><span class="kw">;</span> <span class="ex">value</span> = 6<span class="kw">;</span> <span class="er">}</span></span></code></pre></div>
<h3 id="lib.attrsets.mapattrs">lib.attrsets.mapAttrs</h3>
<p><em>fn, name, value, name, value</em></p>
<p>``</p>
<p>Apply a function to each element in an attribute set, creating a new attribute set.</p>
<ul>
<li><p><code>fn</code></p>
<p><literal>String -&gt; Any -&gt; Any</literal></p></li>
<li><p><code>name</code></p>
<p>The name of the attribute.</p></li>
<li><p><code>value</code></p>
<p>The attribute’s value.</p></li>
<li><p><code>name</code></p>
<p>The name of the attribute.</p></li>
<li><p><code>value</code></p>
<p>The attribute’s value.</p></li>
</ul>
<p>Modifying each value of an attribute set:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lib.attrsets.mapAttrs</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">(</span><span class="ex">name:</span> value: name + <span class="st">&quot;-&quot;</span> value<span class="kw">)</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">{</span> <span class="ex">x</span> = <span class="st">&quot;foo&quot;</span><span class="kw">;</span> <span class="ex">y</span> = <span class="st">&quot;bar&quot;</span><span class="kw">;</span> <span class="kw">}</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> { x = <span class="st">&quot;x-foo&quot;</span><span class="kw">;</span> <span class="ex">y</span> = <span class="st">&quot;y-bar&quot;</span><span class="kw">;</span> <span class="er">}</span></span></code></pre></div>
<h3 id="lib.attrsets.mapattrs-1">lib.attrsets.mapAttrs’</h3>
<p><em>fn, name, value, set, name, value</em></p>
<p><code>mapAttrs&#39; :: (String -&gt; Any -&gt; { name = String; value = Any }) -&gt; AttrSet -&gt; AttrSet</code></p>
<p>Like mapAttrs, but allows the name of each attribute to be changed in addition to the value. The applied function should return both the new name and value as a nameValuePair.</p>
<ul>
<li><p><code>fn</code></p>
<p><literal>String -&gt; Any -&gt; { name = String; value = Any }</literal></p></li>
<li><p><code>name</code></p>
<p>The name of the attribute.</p></li>
<li><p><code>value</code></p>
<p>The attribute’s value.</p></li>
<li><p><code>set</code></p>
<p>The attribute set to map over.</p></li>
<li><p><code>name</code></p>
<p>The name of the attribute.</p></li>
<li><p><code>value</code></p>
<p>The attribute’s value.</p></li>
</ul>
<p>Change the name and value of each attribute of an attribute set:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lib.attrsets.mapAttrs</span><span class="st">&#39; (name: value: lib.attrsets.nameValuePair (&quot;foo_&quot; + name) (&quot;bar-&quot; + value))</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="st">   { x = &quot;a&quot;; y = &quot;b&quot;; }</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a><span class="st">=&gt; { foo_x = &quot;bar-a&quot;; foo_y = &quot;bar-b&quot;; }</span></span></code></pre></div>
<h3 id="lib.attrsets.mapattrstolist">lib.attrsets.mapAttrsToList</h3>
<p><em>fn, name, value, set, name, value</em></p>
<p><code>mapAttrsToList :: (String -&gt; Any -&gt; Any) -&gt;    AttrSet -&gt; [Any]</code></p>
<p>Call fn for each attribute in the given set and return the result in a list.</p>
<ul>
<li><p><code>fn</code></p>
<p><literal>String -&gt; Any -&gt; Any</literal></p></li>
<li><p><code>name</code></p>
<p>The name of the attribute.</p></li>
<li><p><code>value</code></p>
<p>The attribute’s value.</p></li>
<li><p><code>set</code></p>
<p>The attribute set to map over.</p></li>
<li><p><code>name</code></p>
<p>The name of the attribute.</p></li>
<li><p><code>value</code></p>
<p>The attribute’s value.</p></li>
</ul>
<p>Combine attribute values and names in to a list:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lib.attrsets.mapAttrsToList</span> <span class="er">(</span><span class="ex">name:</span> value: <span class="st">&quot;</span><span class="va">${name}</span><span class="st">=</span><span class="va">${value}</span><span class="st">&quot;</span><span class="kw">)</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>   <span class="kw">{</span> <span class="ex">x</span> = <span class="st">&quot;a&quot;</span><span class="kw">;</span> <span class="ex">y</span> = <span class="st">&quot;b&quot;</span><span class="kw">;</span> <span class="kw">}</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ <span class="st">&quot;x=a&quot;</span> <span class="st">&quot;y=b&quot;</span> ]</span></code></pre></div>
<h3 id="lib.attrsets.mapattrsrecursive">lib.attrsets.mapAttrsRecursive</h3>
<p><em>f, name_path, value, set, name_path, value</em></p>
<p><code>mapAttrsRecursive :: ([String] &gt; Any -&gt; Any) -&gt; AttrSet -&gt; AttrSet</code></p>
<p>Like mapAttrs, except that it recursively applies itself to attribute sets. Also, the first argument of the argument function is a list of the names of the containing attributes.</p>
<ul>
<li><p><code>f</code></p>
<p><literal>[ String ] -&gt; Any -&gt; Any</literal></p></li>
<li><p><code>name_path</code></p>
<p>The list of attribute names to this value.</p></li>
<li><p><code>value</code></p>
<p>The attribute’s value.</p></li>
<li><p><code>set</code></p>
<p>The attribute set to recursively map over.</p></li>
<li><p><code>name_path</code></p>
<p>The list of attribute names to this value.</p></li>
<li><p><code>value</code></p>
<p>The attribute’s value.</p></li>
</ul>
<p>A contrived example of using lib.attrsets.mapAttrsRecursive:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mapAttrsRecursive</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">(</span><span class="ex">path:</span> value: concatStringsSep <span class="st">&quot;-&quot;</span> <span class="er">(</span><span class="ex">path</span> ++ [value]<span class="kw">))</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">{</span></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>    <span class="ex">n</span> = {</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>      <span class="ex">a</span> = <span class="st">&quot;A&quot;</span><span class="kw">;</span></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>      <span class="ex">m</span> = {</span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>        <span class="ex">b</span> = <span class="st">&quot;B&quot;</span><span class="kw">;</span></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>        <span class="ex">c</span> = <span class="st">&quot;C&quot;</span><span class="kw">;</span></span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>      <span class="kw">};</span></span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a>    <span class="er">}</span><span class="kw">;</span></span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true" tabindex="-1"></a>    <span class="ex">d</span> = <span class="st">&quot;D&quot;</span><span class="kw">;</span></span>
<span id="cb63-12"><a href="#cb63-12" aria-hidden="true" tabindex="-1"></a>  <span class="er">}</span></span>
<span id="cb63-13"><a href="#cb63-13" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> {</span>
<span id="cb63-14"><a href="#cb63-14" aria-hidden="true" tabindex="-1"></a>     <span class="ex">n</span> = {</span>
<span id="cb63-15"><a href="#cb63-15" aria-hidden="true" tabindex="-1"></a>       <span class="ex">a</span> = <span class="st">&quot;n-a-A&quot;</span><span class="kw">;</span></span>
<span id="cb63-16"><a href="#cb63-16" aria-hidden="true" tabindex="-1"></a>       <span class="ex">m</span> = {</span>
<span id="cb63-17"><a href="#cb63-17" aria-hidden="true" tabindex="-1"></a>         <span class="ex">b</span> = <span class="st">&quot;n-m-b-B&quot;</span><span class="kw">;</span></span>
<span id="cb63-18"><a href="#cb63-18" aria-hidden="true" tabindex="-1"></a>         <span class="ex">c</span> = <span class="st">&quot;n-m-c-C&quot;</span><span class="kw">;</span></span>
<span id="cb63-19"><a href="#cb63-19" aria-hidden="true" tabindex="-1"></a>       <span class="er">}</span><span class="kw">;</span></span>
<span id="cb63-20"><a href="#cb63-20" aria-hidden="true" tabindex="-1"></a>     <span class="er">}</span><span class="kw">;</span></span>
<span id="cb63-21"><a href="#cb63-21" aria-hidden="true" tabindex="-1"></a>     <span class="ex">d</span> = <span class="st">&quot;d-D&quot;</span><span class="kw">;</span></span>
<span id="cb63-22"><a href="#cb63-22" aria-hidden="true" tabindex="-1"></a>   <span class="er">}</span></span></code></pre></div>
<h3 id="lib.attrsets.mapattrsrecursivecond">lib.attrsets.mapAttrsRecursiveCond</h3>
<p><em>cond, attributeset, f, name_path, value, set, attributeset, name_path, value</em></p>
<p><code>mapAttrsRecursiveCond :: (AttrSet -&gt; Bool) -&gt; ([ String ] -&gt; Any -&gt; Any) -&gt; AttrSet -&gt; AttrSet</code></p>
<p>Like mapAttrsRecursive, but it takes an additional predicate function that tells it whether to recursive into an attribute set. If it returns false, mapAttrsRecursiveCond does not recurse, but does apply the map function. It is returns true, it does recurse, and does not apply the map function.</p>
<ul>
<li><p><code>cond</code></p>
<p><literal>(AttrSet -&gt; Bool)</literal></p></li>
<li><p><code>attributeset</code></p>
<p>An attribute set.</p></li>
<li><p><code>f</code></p>
<p><literal>[ String ] -&gt; Any -&gt; Any</literal></p></li>
<li><p><code>name_path</code></p>
<p>The list of attribute names to this value.</p></li>
<li><p><code>value</code></p>
<p>The attribute’s value.</p></li>
<li><p><code>set</code></p>
<p>The attribute set to recursively map over.</p></li>
<li><p><code>attributeset</code></p>
<p>An attribute set.</p></li>
<li><p><code>name_path</code></p>
<p>The list of attribute names to this value.</p></li>
<li><p><code>value</code></p>
<p>The attribute’s value.</p></li>
</ul>
<p>Only convert attribute values to JSON if the containing attribute set is marked for recursion:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lib.attrsets.mapAttrsRecursiveCond</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">({</span> <span class="ex">recurse</span> <span class="pp">?</span> false, ... }: recurse<span class="er">)</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">(</span><span class="ex">name:</span> value: builtins.toJSON value<span class="kw">)</span></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">{</span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>    <span class="ex">dorecur</span> = {</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>      <span class="ex">recurse</span> = true<span class="kw">;</span></span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>      <span class="ex">hello</span> = <span class="st">&quot;there&quot;</span><span class="kw">;</span></span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">};</span></span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>    <span class="ex">dontrecur</span> = {</span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a>      <span class="ex">converted-to-</span> = <span class="st">&quot;json&quot;</span><span class="kw">;</span></span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">};</span></span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a>  <span class="er">}</span></span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> {</span>
<span id="cb64-14"><a href="#cb64-14" aria-hidden="true" tabindex="-1"></a>     <span class="ex">dorecur</span> = {</span>
<span id="cb64-15"><a href="#cb64-15" aria-hidden="true" tabindex="-1"></a>       <span class="ex">hello</span> = <span class="st">&quot;</span><span class="dt">\&quot;</span><span class="st">there</span><span class="dt">\&quot;</span><span class="st">&quot;</span><span class="kw">;</span></span>
<span id="cb64-16"><a href="#cb64-16" aria-hidden="true" tabindex="-1"></a>       <span class="ex">recurse</span> = <span class="st">&quot;true&quot;</span><span class="kw">;</span></span>
<span id="cb64-17"><a href="#cb64-17" aria-hidden="true" tabindex="-1"></a>     <span class="er">}</span><span class="kw">;</span></span>
<span id="cb64-18"><a href="#cb64-18" aria-hidden="true" tabindex="-1"></a>     <span class="ex">dontrecur</span> = <span class="st">&quot;{</span><span class="dt">\&quot;</span><span class="st">converted-to</span><span class="dt">\&quot;</span><span class="st">:</span><span class="dt">\&quot;</span><span class="st">json</span><span class="dt">\&quot;</span><span class="st">}&quot;</span><span class="kw">;</span></span>
<span id="cb64-19"><a href="#cb64-19" aria-hidden="true" tabindex="-1"></a>   <span class="er">}</span></span></code></pre></div>
<h3 id="lib.attrsets.genattrs">lib.attrsets.genAttrs</h3>
<p><em>names, f, name, name</em></p>
<p><code>genAttrs :: [ String ] -&gt; (String -&gt; Any) -&gt; AttrSet</code></p>
<p>Generate an attribute set by mapping a function over a list of attribute names.</p>
<ul>
<li><p><code>names</code></p>
<p>Names of values in the resulting attribute set.</p></li>
<li><p><code>f</code></p>
<p><literal>String -&gt; Any</literal></p></li>
<li><p><code>name</code></p>
<p>The name of the attribute to generate a value for.</p></li>
<li><p><code>name</code></p>
<p>The name of the attribute to generate a value for.</p></li>
</ul>
<p>Generate an attrset based on names only:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lib.attrsets.genAttrs</span> [ <span class="st">&quot;foo&quot;</span> <span class="st">&quot;bar&quot;</span> ] <span class="er">(</span><span class="ex">name:</span> <span class="st">&quot;x_</span><span class="va">${name}</span><span class="st">&quot;</span><span class="kw">)</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> { foo = <span class="st">&quot;x_foo&quot;</span><span class="kw">;</span> <span class="ex">bar</span> = <span class="st">&quot;x_bar&quot;</span><span class="kw">;</span> <span class="er">}</span></span></code></pre></div>
<h3 id="lib.attrsets.isderivation">lib.attrsets.isDerivation</h3>
<p><em>value</em></p>
<p><code>isDerivation :: Any -&gt; Bool</code></p>
<p>Check whether the argument is a derivation. Any set with { type = “derivation”; } counts as a derivation.</p>
<ul>
<li><p><code>value</code></p>
<p>The value which is possibly a derivation.</p></li>
</ul>
<p>A package is a derivation:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lib.attrsets.isDerivation</span> <span class="er">(</span><span class="ex">import</span> <span class="op">&lt;</span>nixpkgs<span class="op">&gt;</span> {}<span class="kw">)</span><span class="ex">.ruby</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> true</span></code></pre></div>
<p>Anything else is not a derivation:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lib.attrsets.isDerivation</span> <span class="st">&quot;foobar&quot;</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> false</span></code></pre></div>
<h3 id="lib.attrsets.toderivation">lib.attrsets.toDerivation</h3>
<p><em>path</em></p>
<p><code>toDerivation :: Path -&gt; Derivation</code></p>
<p>Converts a store path to a fake derivation.</p>
<ul>
<li><p><code>path</code></p>
<p>A store path to convert to a derivation.</p></li>
</ul>
<h3 id="lib.attrsets.optionalattrs">lib.attrsets.optionalAttrs</h3>
<p><em>cond, as</em></p>
<p><code>optionalAttrs :: Bool -&gt; AttrSet</code></p>
<p>Conditionally return an attribute set or an empty attribute set.</p>
<ul>
<li><p><code>cond</code></p>
<p>Condition under which the <var>as</var> attribute set is returned.</p></li>
<li><p><code>as</code></p>
<p>The attribute set to return if <var>cond</var> is true.</p></li>
</ul>
<p>Return the provided attribute set when cond is true:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lib.attrsets.optionalAttrs</span> true { my = <span class="st">&quot;set&quot;</span><span class="kw">;</span> <span class="er">}</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> { my = <span class="st">&quot;set&quot;</span><span class="kw">;</span> <span class="er">}</span></span></code></pre></div>
<p>Return an empty attribute set when cond is false:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lib.attrsets.optionalAttrs</span> false { my = <span class="st">&quot;set&quot;</span><span class="kw">;</span> <span class="er">}</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> { }</span></code></pre></div>
<h3 id="lib.attrsets.zipattrswithnames">lib.attrsets.zipAttrsWithNames</h3>
<p><em>names, f, name, vs, sets, name, vs</em></p>
<p><code>zipAttrsWithNames :: [ String ] -&gt; (String -&gt; [ Any ] -&gt; Any) -&gt; [ AttrSet ] -&gt; AttrSet</code></p>
<p>Merge sets of attributes and use the function f to merge attribute values where the attribute name is in names.</p>
<ul>
<li><p><code>names</code></p>
<p>A list of attribute names to zip.</p></li>
<li><p><code>f</code></p>
<p><literal>(String -&gt; [ Any ] -&gt; Any</literal></p></li>
<li><p><code>name</code></p>
<p>The name of the attribute each value came from.</p></li>
<li><p><code>vs</code></p>
<p>A list of values collected from the list of attribute sets.</p></li>
<li><p><code>sets</code></p>
<p>A list of attribute sets to zip together.</p></li>
<li><p><code>name</code></p>
<p>The name of the attribute each value came from.</p></li>
<li><p><code>vs</code></p>
<p>A list of values collected from the list of attribute sets.</p></li>
</ul>
<p>Summing a list of attribute sets of numbers:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lib.attrsets.zipAttrsWithNames</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">[</span> <span class="st">&quot;a&quot;</span> <span class="st">&quot;b&quot;</span> <span class="bu">]</span></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">(</span><span class="ex">name:</span> vals: <span class="st">&quot;</span><span class="va">${name}</span><span class="st"> </span><span class="va">${toString</span><span class="er"> (builtins.foldl&#39; (a: b: a + b) 0 vals)</span><span class="va">}</span><span class="st">&quot;</span><span class="kw">)</span></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>  <span class="bu">[</span></span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>    { a = <span class="er">1;</span> <span class="ex">b</span> = 1<span class="kw">;</span> <span class="ex">c</span> = 1<span class="kw">;</span> <span class="er">}</span></span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">{</span> <span class="ex">a</span> = 10<span class="kw">;</span> <span class="kw">}</span></span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">{</span> <span class="ex">b</span> = 100<span class="kw">;</span> <span class="kw">}</span></span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">{</span> <span class="ex">c</span> = 1000<span class="kw">;</span> <span class="kw">}</span></span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a>  <span class="ex">]</span></span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> { a = <span class="st">&quot;a 11&quot;</span><span class="kw">;</span> <span class="ex">b</span> = <span class="st">&quot;b 101&quot;</span><span class="kw">;</span> <span class="er">}</span></span></code></pre></div>
<h3 id="lib.attrsets.zipattrswith">lib.attrsets.zipAttrsWith</h3>
<p><em>f, name, vs, sets, name, vs</em></p>
<p><code>zipAttrsWith :: (String -&gt; [ Any ] -&gt; Any) -&gt; [ AttrSet ] -&gt; AttrSet</code></p>
<p>Merge sets of attributes and use the function f to merge attribute values. Similar to where all key names are passed for names.</p>
<ul>
<li><p><code>f</code></p>
<p><literal>(String -&gt; [ Any ] -&gt; Any</literal></p></li>
<li><p><code>name</code></p>
<p>The name of the attribute each value came from.</p></li>
<li><p><code>vs</code></p>
<p>A list of values collected from the list of attribute sets.</p></li>
<li><p><code>sets</code></p>
<p>A list of attribute sets to zip together.</p></li>
<li><p><code>name</code></p>
<p>The name of the attribute each value came from.</p></li>
<li><p><code>vs</code></p>
<p>A list of values collected from the list of attribute sets.</p></li>
</ul>
<p>Summing a list of attribute sets of numbers:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lib.attrsets.zipAttrsWith</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">(</span><span class="ex">name:</span> vals: <span class="st">&quot;</span><span class="va">${name}</span><span class="st"> </span><span class="va">${toString</span><span class="er"> (builtins.foldl&#39; (a: b: a + b) 0 vals)</span><span class="va">}</span><span class="st">&quot;</span><span class="kw">)</span></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>  <span class="bu">[</span></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>    { a = <span class="er">1;</span> <span class="ex">b</span> = 1<span class="kw">;</span> <span class="ex">c</span> = 1<span class="kw">;</span> <span class="er">}</span></span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">{</span> <span class="ex">a</span> = 10<span class="kw">;</span> <span class="kw">}</span></span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">{</span> <span class="ex">b</span> = 100<span class="kw">;</span> <span class="kw">}</span></span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">{</span> <span class="ex">c</span> = 1000<span class="kw">;</span> <span class="kw">}</span></span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a>  <span class="ex">]</span></span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> { a = <span class="st">&quot;a 11&quot;</span><span class="kw">;</span> <span class="ex">b</span> = <span class="st">&quot;b 101&quot;</span><span class="kw">;</span> <span class="ex">c</span> = <span class="st">&quot;c 1001&quot;</span><span class="kw">;</span> <span class="er">}</span></span></code></pre></div>
<h3 id="lib.attrsets.zipattrs">lib.attrsets.zipAttrs</h3>
<p><em>sets</em></p>
<p><code>zipAttrsWith :: [ AttrSet ] -&gt; AttrSet</code></p>
<p>Merge sets of attributes and combine each attribute value in to a list. Similar to <a href="#function-library-lib.attrsets.zipAttrsWith"></a> where the merge function returns a list of all values.</p>
<ul>
<li><p><code>sets</code></p>
<p>A list of attribute sets to zip together.</p></li>
</ul>
<p>Combining a list of attribute sets:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lib.attrsets.zipAttrs</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">[</span></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>    { a = <span class="er">1;</span> <span class="ex">b</span> = 1<span class="kw">;</span> <span class="ex">c</span> = 1<span class="kw">;</span> <span class="er">}</span></span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">{</span> <span class="ex">a</span> = 10<span class="kw">;</span> <span class="kw">}</span></span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">{</span> <span class="ex">b</span> = 100<span class="kw">;</span> <span class="kw">}</span></span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">{</span> <span class="ex">c</span> = 1000<span class="kw">;</span> <span class="kw">}</span></span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">]</span></span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> { a = [ 1 10 ]<span class="kw">;</span> <span class="ex">b</span> = [ 1 100 ]<span class="kw">;</span> <span class="ex">c</span> = [ 1 1000 ]<span class="kw">;</span> <span class="er">}</span></span></code></pre></div>
<h3 id="lib.attrsets.recursiveupdateuntil">lib.attrsets.recursiveUpdateUntil</h3>
<p><em>pred, path, l, r, lhs, rhs, path, l, r</em></p>
<p><code>recursiveUpdateUntil :: ( [ String ] -&gt; AttrSet -&gt; AttrSet -&gt; Bool ) -&gt; AttrSet -&gt; AttrSet -&gt; AttrSet</code></p>
<p>Does the same as the update operator // except that attributes are merged until the given predicate is verified. The predicate should accept 3 arguments which are the path to reach the attribute, a part of the first attribute set and a part of the second attribute set. When the predicate is verified, the value of the first attribute set is replaced by the value of the second attribute set.</p>
<ul>
<li><p><code>pred</code></p>
<p><literal>[ String ] -&gt; AttrSet -&gt; AttrSet -&gt; Bool</literal></p></li>
<li><p><code>path</code></p>
<p>The path to the values in the left and right hand sides.</p></li>
<li><p><code>l</code></p>
<p>The left hand side value.</p></li>
<li><p><code>r</code></p>
<p>The right hand side value.</p></li>
<li><p><code>lhs</code></p>
<p>The left hand attribute set of the merge.</p></li>
<li><p><code>rhs</code></p>
<p>The right hand attribute set of the merge.</p></li>
<li><p><code>path</code></p>
<p>The path to the values in the left and right hand sides.</p></li>
<li><p><code>l</code></p>
<p>The left hand side value.</p></li>
<li><p><code>r</code></p>
<p>The right hand side value.</p></li>
</ul>
<p>Recursively merging two attribute sets:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lib.attrsets.recursiveUpdateUntil</span> <span class="er">(</span><span class="ex">path:</span> l: r: path == [<span class="st">&quot;foo&quot;</span>]<span class="kw">)</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">{</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># first attribute set</span></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>    <span class="ex">foo.bar</span> = 1<span class="kw">;</span></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>    <span class="ex">foo.baz</span> = 2<span class="kw">;</span></span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>    <span class="ex">bar</span> = 3<span class="kw">;</span></span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">}</span></span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">{</span></span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">#second attribute set</span></span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a>    <span class="ex">foo.bar</span> = 1<span class="kw">;</span></span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a>    <span class="ex">foo.quz</span> = 2<span class="kw">;</span></span>
<span id="cb73-12"><a href="#cb73-12" aria-hidden="true" tabindex="-1"></a>    <span class="ex">baz</span> = 4<span class="kw">;</span></span>
<span id="cb73-13"><a href="#cb73-13" aria-hidden="true" tabindex="-1"></a>  <span class="kw">}</span></span>
<span id="cb73-14"><a href="#cb73-14" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> {</span>
<span id="cb73-15"><a href="#cb73-15" aria-hidden="true" tabindex="-1"></a>  <span class="ex">foo.bar</span> = 1<span class="kw">;</span> <span class="co"># &#39;foo.*&#39; from the second set</span></span>
<span id="cb73-16"><a href="#cb73-16" aria-hidden="true" tabindex="-1"></a>  <span class="ex">foo.quz</span> = 2<span class="kw">;</span> <span class="co">#</span></span>
<span id="cb73-17"><a href="#cb73-17" aria-hidden="true" tabindex="-1"></a>  <span class="ex">bar</span> = 3<span class="kw">;</span>     <span class="co"># &#39;bar&#39; from the first set</span></span>
<span id="cb73-18"><a href="#cb73-18" aria-hidden="true" tabindex="-1"></a>  <span class="ex">baz</span> = 4<span class="kw">;</span>     <span class="co"># &#39;baz&#39; from the second set</span></span>
<span id="cb73-19"><a href="#cb73-19" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code></pre></div>
<h3 id="lib.attrsets.recursiveupdate">lib.attrsets.recursiveUpdate</h3>
<p><em>lhs, rhs</em></p>
<p><code>recursiveUpdate :: AttrSet -&gt; AttrSet -&gt; AttrSet</code></p>
<p>A recursive variant of the update operator //. The recursion stops when one of the attribute values is not an attribute set, in which case the right hand side value takes precedence over the left hand side value.</p>
<ul>
<li><p><code>lhs</code></p>
<p>The left hand attribute set of the merge.</p></li>
<li><p><code>rhs</code></p>
<p>The right hand attribute set of the merge.</p></li>
</ul>
<p>Recursively merging two attribute sets:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="ex">recursiveUpdate</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">{</span></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>    <span class="ex">boot.loader.grub.enable</span> = true<span class="kw">;</span></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>    <span class="ex">boot.loader.grub.device</span> = <span class="st">&quot;/dev/hda&quot;</span><span class="kw">;</span></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">}</span></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">{</span></span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>    <span class="ex">boot.loader.grub.device</span> = <span class="st">&quot;&quot;</span><span class="kw">;</span></span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">}</span></span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> {</span>
<span id="cb74-10"><a href="#cb74-10" aria-hidden="true" tabindex="-1"></a>  <span class="ex">boot.loader.grub.enable</span> = true<span class="kw">;</span></span>
<span id="cb74-11"><a href="#cb74-11" aria-hidden="true" tabindex="-1"></a>  <span class="ex">boot.loader.grub.device</span> = <span class="st">&quot;&quot;</span><span class="kw">;</span></span>
<span id="cb74-12"><a href="#cb74-12" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code></pre></div>
<h3 id="lib.attrsets.recurseintoattrs">lib.attrsets.recurseIntoAttrs</h3>
<p><em>attrs</em></p>
<p><code>recurseIntoAttrs :: AttrSet -&gt; AttrSet</code></p>
<p>Make various Nix tools consider the contents of the resulting attribute set when looking for what to build, find, etc.</p>
<ul>
<li><p><code>attrs</code></p>
<p>An attribute set to scan for derivations.</p></li>
</ul>
<p>Making Nix look inside an attribute set:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="kw">{</span> <span class="ex">pkgs</span> <span class="pp">?</span> import <span class="op">&lt;</span>nixpkgs<span class="op">&gt;</span> {} }:</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="kw">{</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">myTools</span> = pkgs.lib.recurseIntoAttrs {</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>    <span class="ex">inherit</span> <span class="er">(</span><span class="ex">pkgs</span><span class="kw">)</span> <span class="ex">hello</span> figlet<span class="kw">;</span></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">};</span></span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span></code></pre></div>
<h3 id="lib.attrsets.cartesianproductofsets">lib.attrsets.cartesianProductOfSets</h3>
<p><em>set</em></p>
<p><code>cartesianProductOfSets :: AttrSet -&gt; [ AttrSet ]</code></p>
<p>Return the cartesian product of attribute set value combinations.</p>
<ul>
<li><p><code>set</code></p>
<p>An attribute set with attributes that carry lists of values.</p></li>
</ul>
<p>Creating the cartesian product of a list of attribute values:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="ex">cartesianProductOfSets</span> { a = [ 1 2 ]<span class="kw">;</span> <span class="ex">b</span> = [ 10 20 ]<span class="kw">;</span> <span class="er">}</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>     <span class="kw">{</span> <span class="ex">a</span> = 1<span class="kw">;</span> <span class="ex">b</span> = 10<span class="kw">;</span> <span class="kw">}</span></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>     <span class="kw">{</span> <span class="ex">a</span> = 1<span class="kw">;</span> <span class="ex">b</span> = 20<span class="kw">;</span> <span class="kw">}</span></span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>     <span class="kw">{</span> <span class="ex">a</span> = 2<span class="kw">;</span> <span class="ex">b</span> = 10<span class="kw">;</span> <span class="kw">}</span></span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>     <span class="kw">{</span> <span class="ex">a</span> = 2<span class="kw">;</span> <span class="ex">b</span> = 20<span class="kw">;</span> <span class="kw">}</span></span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>   <span class="ex">]</span></span></code></pre></div>
<h2 id="debugging-functions">Debugging functions</h2>
<h3 id="lib.debug.traceif">lib.debug.traceIf</h3>
<p><em>pred, msg, x</em></p>
<p><code>traceIf :: bool -&gt; string -&gt; a -&gt; a</code></p>
<p>Conditionally trace the supplied message, based on a predicate.</p>
<ul>
<li><p><code>pred</code></p>
<p>Predicate to check</p></li>
<li><p><code>msg</code></p>
<p>Message that should be traced</p></li>
<li><p><code>x</code></p>
<p>Value to return</p></li>
</ul>
<p>lib.debug.traceIf usage example:</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="ex">traceIf</span> true <span class="st">&quot;hello&quot;</span> 3</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="ex">trace:</span> hello</span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> 3</span></code></pre></div>
<h3 id="lib.debug.tracevalfn">lib.debug.traceValFn</h3>
<p><em>f, x</em></p>
<p><code>traceValFn :: (a -&gt; b) -&gt; a -&gt; a</code></p>
<p>Trace the supplied value after applying a function to it, and return the original value.</p>
<ul>
<li><p><code>f</code></p>
<p>Function to apply</p></li>
<li><p><code>x</code></p>
<p>Value to trace and return</p></li>
</ul>
<p>lib.debug.traceValFn usage example:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="ex">traceValFn</span> <span class="er">(</span><span class="ex">v:</span> <span class="st">&quot;mystring </span><span class="va">${v}</span><span class="st">&quot;</span><span class="kw">)</span> <span class="st">&quot;foo&quot;</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="ex">trace:</span> mystring foo</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;foo&quot;</span></span></code></pre></div>
<h3 id="lib.debug.traceval">lib.debug.traceVal</h3>
<p>__</p>
<p><code>traceVal :: a -&gt; a</code></p>
<p>Trace the supplied value and return it.</p>
<p>lib.debug.traceVal usage example:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="ex">traceVal</span> 42</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="co"># trace: 42</span></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> 42</span></code></pre></div>
<h3 id="lib.debug.traceseq">lib.debug.traceSeq</h3>
<p><em>x, y</em></p>
<p><code>traceSeq :: a -&gt; b -&gt; b</code></p>
<p><code>builtins.trace</code>, but the value is <code>builtins.deepSeq</code>ed first.</p>
<ul>
<li><p><code>x</code></p>
<p>The value to trace</p></li>
<li><p><code>y</code></p>
<p>The value to return</p></li>
</ul>
<p>lib.debug.traceSeq usage example:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="ex">trace</span> { a.b.c = 3<span class="kw">;</span> <span class="er">}</span> <span class="ex">null</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="ex">trace:</span> { a = <span class="op">&lt;</span>CODE<span class="op">&gt;</span><span class="kw">;</span> <span class="er">}</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> null</span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a><span class="ex">traceSeq</span> { a.b.c = 3<span class="kw">;</span> <span class="er">}</span> <span class="ex">null</span></span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a><span class="ex">trace:</span> { a = { b = { c = 3<span class="kw">;</span> <span class="er">}</span><span class="kw">;</span> <span class="er">}</span><span class="kw">;</span> <span class="er">}</span></span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> null</span></code></pre></div>
<h3 id="lib.debug.traceseqn">lib.debug.traceSeqN</h3>
<p><em>depth, x, y</em></p>
<p>Like <code>traceSeq</code>, but only evaluate down to depth n. This is very useful because lots of <code>traceSeq</code> usages lead to an infinite recursion.</p>
<ul>
<li><p><code>depth</code></p>
<p>Function argument</p></li>
<li><p><code>x</code></p>
<p>Function argument</p></li>
<li><p><code>y</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.debug.traceSeqN usage example:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="ex">traceSeqN</span> 2 { a.b.c = 3<span class="kw">;</span> <span class="er">}</span> <span class="ex">null</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="ex">trace:</span> { a = { b = {…}<span class="kw">;</span> <span class="er">}</span><span class="kw">;</span> <span class="er">}</span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> null</span></code></pre></div>
<h3 id="lib.debug.tracevalseqfn">lib.debug.traceValSeqFn</h3>
<p><em>f, v</em></p>
<p>A combination of <code>traceVal</code> and <code>traceSeq</code> that applies a provided function to the value to be traced after <code>deepSeq</code>ing it.</p>
<ul>
<li><p><code>f</code></p>
<p>Function to apply</p></li>
<li><p><code>v</code></p>
<p>Value to trace</p></li>
</ul>
<h3 id="lib.debug.tracevalseq">lib.debug.traceValSeq</h3>
<p>__</p>
<p>A combination of <code>traceVal</code> and <code>traceSeq</code>.</p>
<h3 id="lib.debug.tracevalseqnfn">lib.debug.traceValSeqNFn</h3>
<p><em>f, depth, v</em></p>
<p>A combination of <code>traceVal</code> and <code>traceSeqN</code> that applies a provided function to the value to be traced.</p>
<ul>
<li><p><code>f</code></p>
<p>Function to apply</p></li>
<li><p><code>depth</code></p>
<p>Function argument</p></li>
<li><p><code>v</code></p>
<p>Value to trace</p></li>
</ul>
<h3 id="lib.debug.tracevalseqn">lib.debug.traceValSeqN</h3>
<p>__</p>
<p>A combination of <code>traceVal</code> and <code>traceSeqN</code>.</p>
<h3 id="lib.debug.tracefnseqn">lib.debug.traceFnSeqN</h3>
<p><em>depth, name, f, v</em></p>
<p>Trace the input and output of a function <code>f</code> named <code>name</code>, both down to <code>depth</code>.</p>
<ul>
<li><p><code>depth</code></p>
<p>Function argument</p></li>
<li><p><code>name</code></p>
<p>Function argument</p></li>
<li><p><code>f</code></p>
<p>Function argument</p></li>
<li><p><code>v</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.debug.traceFnSeqN usage example:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="ex">traceFnSeqN</span> 2 <span class="st">&quot;id&quot;</span> <span class="er">(</span><span class="ex">x:</span> x<span class="kw">)</span> <span class="kw">{</span> <span class="ex">a.b.c</span> = 3<span class="kw">;</span> <span class="kw">}</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="ex">trace:</span> { fn = <span class="st">&quot;id&quot;</span><span class="kw">;</span> <span class="ex">from</span> = { a.b = {…}<span class="kw">;</span> <span class="er">}</span><span class="kw">;</span> <span class="ex">to</span> = { a.b = {…}<span class="kw">;</span> <span class="er">}</span><span class="kw">;</span> <span class="er">}</span></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> { a.b.c = 3<span class="kw">;</span> <span class="er">}</span></span></code></pre></div>
<h3 id="lib.debug.runtests">lib.debug.runTests</h3>
<p><em>tests</em></p>
<p>Evaluate a set of tests. A test is an attribute set <code>{expr, expected}</code>, denoting an expression and its expected result. The result is a list of failed tests, each represented as <code>{name, expected, actual}</code>, denoting the attribute name of the failing test and its expected and actual results.</p>
<ul>
<li><p><code>tests</code></p>
<p>Tests to run</p></li>
</ul>
<h3 id="lib.debug.testalltrue">lib.debug.testAllTrue</h3>
<p><em>expr</em></p>
<p>Create a test assuming that list elements are <code>true</code>.</p>
<ul>
<li><p><code>expr</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.debug.testAllTrue usage example:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="kw">{</span> <span class="ex">testX</span> = allTrue [ true ]<span class="kw">;</span> <span class="kw">}</span></span></code></pre></div>
<h2 id="list-manipulation-functions">List manipulation functions</h2>
<h3 id="lib.lists.singleton">lib.lists.singleton</h3>
<p><em>x</em></p>
<p><code>singleton :: a -&gt; [a]</code></p>
<p>Create a list consisting of a single element. <code>singleton x</code> is sometimes more convenient with respect to indentation than <code>[x]</code> when x spans multiple lines.</p>
<ul>
<li><p><code>x</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.lists.singleton usage example:</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="ex">singleton</span> <span class="st">&quot;foo&quot;</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ <span class="st">&quot;foo&quot;</span> ]</span></code></pre></div>
<h3 id="lib.lists.foreach">lib.lists.forEach</h3>
<p><em>xs, f</em></p>
<p><code>forEach :: [a] -&gt; (a -&gt; b) -&gt; [b]</code></p>
<p>Apply the function to each element in the list. Same as <code>map</code>, but arguments flipped.</p>
<ul>
<li><p><code>xs</code></p>
<p>Function argument</p></li>
<li><p><code>f</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.lists.forEach usage example:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="ex">forEach</span> [ 1 2 ] <span class="er">(</span><span class="ex">x:</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a><span class="ex">toString</span> x</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a><span class="kw">)</span></span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ <span class="st">&quot;1&quot;</span> <span class="st">&quot;2&quot;</span> ]</span></code></pre></div>
<h3 id="lib.lists.foldr">lib.lists.foldr</h3>
<p><em>op, nul, list</em></p>
<p><code>foldr :: (a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b</code></p>
<p>“right fold” a binary function <code>op</code> between successive elements of <code>list</code> with <code>nul&#39; as the starting value, i.e.,</code>foldr op nul [x_1 x_2 … x_n] == op x_1 (op x_2 … (op x_n nul))`.</p>
<ul>
<li><p><code>op</code></p>
<p>Function argument</p></li>
<li><p><code>nul</code></p>
<p>Function argument</p></li>
<li><p><code>list</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.lists.foldr usage example:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="ex">concat</span> = foldr <span class="er">(</span><span class="ex">a:</span> b: a + b<span class="kw">)</span> <span class="st">&quot;z&quot;</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="ex">concat</span> [ <span class="st">&quot;a&quot;</span> <span class="st">&quot;b&quot;</span> <span class="st">&quot;c&quot;</span> ]</span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;abcz&quot;</span></span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a><span class="co"># different types</span></span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a><span class="ex">strange</span> = foldr <span class="er">(</span><span class="ex">int:</span> str: toString <span class="er">(</span><span class="ex">int</span> + 1<span class="kw">)</span> <span class="ex">+</span> str<span class="kw">)</span> <span class="st">&quot;a&quot;</span></span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a><span class="ex">strange</span> [ 1 2 3 4 ]</span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;2345a&quot;</span></span></code></pre></div>
<h3 id="lib.lists.fold">lib.lists.fold</h3>
<p>__</p>
<p><code>fold</code> is an alias of <code>foldr</code> for historic reasons</p>
<h3 id="lib.lists.foldl">lib.lists.foldl</h3>
<p><em>op, nul, list</em></p>
<p><code>foldl :: (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b</code></p>
<p>“left fold”, like <code>foldr</code>, but from the left: <code>foldl op nul [x_1 x_2 ... x_n] == op (... (op (op nul x_1) x_2) ... x_n)</code>.</p>
<ul>
<li><p><code>op</code></p>
<p>Function argument</p></li>
<li><p><code>nul</code></p>
<p>Function argument</p></li>
<li><p><code>list</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.lists.foldl usage example:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lconcat</span> = foldl <span class="er">(</span><span class="ex">a:</span> b: a + b<span class="kw">)</span> <span class="st">&quot;z&quot;</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="ex">lconcat</span> [ <span class="st">&quot;a&quot;</span> <span class="st">&quot;b&quot;</span> <span class="st">&quot;c&quot;</span> ]</span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;zabc&quot;</span></span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a><span class="co"># different types</span></span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a><span class="ex">lstrange</span> = foldl <span class="er">(</span><span class="ex">str:</span> int: str + toString <span class="er">(</span><span class="ex">int</span> + 1<span class="kw">))</span> <span class="st">&quot;a&quot;</span></span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a><span class="ex">lstrange</span> [ 1 2 3 4 ]</span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;a2345&quot;</span></span></code></pre></div>
<h3 id="lib.lists.foldl-1">lib.lists.foldl’</h3>
<p>__</p>
<p><code>foldl&#39; :: (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b</code></p>
<p>Strict version of <code>foldl</code>.</p>
<h3 id="lib.lists.imap0">lib.lists.imap0</h3>
<p><em>f, list</em></p>
<p><code>imap0 :: (int -&gt; a -&gt; b) -&gt; [a] -&gt; [b]</code></p>
<p>Map with index starting from 0</p>
<ul>
<li><p><code>f</code></p>
<p>Function argument</p></li>
<li><p><code>list</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.lists.imap0 usage example:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="ex">imap0</span> <span class="er">(</span><span class="ex">i:</span> v: <span class="st">&quot;</span><span class="va">${v}</span><span class="st">-</span><span class="va">${toString</span><span class="er"> i</span><span class="va">}</span><span class="st">&quot;</span><span class="kw">)</span> <span class="ex">[</span><span class="st">&quot;a&quot;</span> <span class="st">&quot;b&quot;</span>]</span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ <span class="st">&quot;a-0&quot;</span> <span class="st">&quot;b-1&quot;</span> ]</span></code></pre></div>
<h3 id="lib.lists.imap1">lib.lists.imap1</h3>
<p><em>f, list</em></p>
<p><code>imap1 :: (int -&gt; a -&gt; b) -&gt; [a] -&gt; [b]</code></p>
<p>Map with index starting from 1</p>
<ul>
<li><p><code>f</code></p>
<p>Function argument</p></li>
<li><p><code>list</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.lists.imap1 usage example:</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="ex">imap1</span> <span class="er">(</span><span class="ex">i:</span> v: <span class="st">&quot;</span><span class="va">${v}</span><span class="st">-</span><span class="va">${toString</span><span class="er"> i</span><span class="va">}</span><span class="st">&quot;</span><span class="kw">)</span> <span class="ex">[</span><span class="st">&quot;a&quot;</span> <span class="st">&quot;b&quot;</span>]</span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ <span class="st">&quot;a-1&quot;</span> <span class="st">&quot;b-2&quot;</span> ]</span></code></pre></div>
<h3 id="lib.lists.concatmap">lib.lists.concatMap</h3>
<p>__</p>
<p><code>concatMap :: (a -&gt; [b]) -&gt; [a] -&gt; [b]</code></p>
<p>Map and concatenate the result.</p>
<p>lib.lists.concatMap usage example:</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="ex">concatMap</span> <span class="er">(</span><span class="ex">x:</span> [x] ++ [<span class="st">&quot;z&quot;</span>]<span class="kw">)</span> <span class="ex">[</span><span class="st">&quot;a&quot;</span> <span class="st">&quot;b&quot;</span>]</span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ <span class="st">&quot;a&quot;</span> <span class="st">&quot;z&quot;</span> <span class="st">&quot;b&quot;</span> <span class="st">&quot;z&quot;</span> ]</span></code></pre></div>
<h3 id="lib.lists.flatten">lib.lists.flatten</h3>
<p><em>x</em></p>
<p>Flatten the argument into a single list; that is, nested lists are spliced into the top-level lists.</p>
<ul>
<li><p><code>x</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.lists.flatten usage example:</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="ex">flatten</span> [1 [2 [3] 4] 5]</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [1 2 3 4 5]</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a><span class="ex">flatten</span> 1</span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [1]</span></code></pre></div>
<h3 id="lib.lists.remove">lib.lists.remove</h3>
<p><em>e</em></p>
<p><code>remove :: a -&gt; [a] -&gt; [a]</code></p>
<p>Remove elements equal to ‘e’ from a list. Useful for buildInputs.</p>
<ul>
<li><p><code>e</code></p>
<p>Element to remove from the list</p></li>
</ul>
<p>lib.lists.remove usage example:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="ex">remove</span> 3 [ 1 3 4 3 ]</span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ 1 4 ]</span></code></pre></div>
<h3 id="lib.lists.findsingle">lib.lists.findSingle</h3>
<p><em>pred, default, multiple, list</em></p>
<p><code>findSingle :: (a -&gt; bool) -&gt; a -&gt; a -&gt; [a] -&gt; a</code></p>
<p>Find the sole element in the list matching the specified predicate, returns <code>default</code> if no such element exists, or <code>multiple</code> if there are multiple matching elements.</p>
<ul>
<li><p><code>pred</code></p>
<p>Predicate</p></li>
<li><p><code>default</code></p>
<p>Default value to return if element was not found.</p></li>
<li><p><code>multiple</code></p>
<p>Default value to return if more than one element was found</p></li>
<li><p><code>list</code></p>
<p>Input list</p></li>
</ul>
<p>lib.lists.findSingle usage example:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="ex">findSingle</span> <span class="er">(</span><span class="ex">x:</span> x == 3<span class="kw">)</span> <span class="st">&quot;none&quot;</span> <span class="st">&quot;multiple&quot;</span> [ 1 3 3 ]</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;multiple&quot;</span></span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a><span class="ex">findSingle</span> <span class="er">(</span><span class="ex">x:</span> x == 3<span class="kw">)</span> <span class="st">&quot;none&quot;</span> <span class="st">&quot;multiple&quot;</span> [ 1 3 ]</span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> 3</span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a><span class="ex">findSingle</span> <span class="er">(</span><span class="ex">x:</span> x == 3<span class="kw">)</span> <span class="st">&quot;none&quot;</span> <span class="st">&quot;multiple&quot;</span> [ 1 9 ]</span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;none&quot;</span></span></code></pre></div>
<h3 id="lib.lists.findfirst">lib.lists.findFirst</h3>
<p><em>pred, default, list</em></p>
<p><code>findFirst :: (a -&gt; bool) -&gt; a -&gt; [a] -&gt; a</code></p>
<p>Find the first element in the list matching the specified predicate or return <code>default</code> if no such element exists.</p>
<ul>
<li><p><code>pred</code></p>
<p>Predicate</p></li>
<li><p><code>default</code></p>
<p>Default value to return</p></li>
<li><p><code>list</code></p>
<p>Input list</p></li>
</ul>
<p>lib.lists.findFirst usage example:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="ex">findFirst</span> <span class="er">(</span><span class="ex">x:</span> x <span class="op">&gt;</span> 3<span class="kw">)</span> <span class="ex">7</span> [ 1 6 4 ]</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> 6</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a><span class="ex">findFirst</span> <span class="er">(</span><span class="ex">x:</span> x <span class="op">&gt;</span> 9<span class="kw">)</span> <span class="ex">7</span> [ 1 6 4 ]</span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> 7</span></code></pre></div>
<h3 id="lib.lists.any">lib.lists.any</h3>
<p>__</p>
<p><code>any :: (a -&gt; bool) -&gt; [a] -&gt; bool</code></p>
<p>Return true if function <code>pred</code> returns true for at least one element of <code>list</code>.</p>
<p>lib.lists.any usage example:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="ex">any</span> isString [ 1 <span class="st">&quot;a&quot;</span> { } ]</span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> true</span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a><span class="ex">any</span> isString [ 1 { } ]</span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> false</span></code></pre></div>
<h3 id="lib.lists.all">lib.lists.all</h3>
<p>__</p>
<p><code>all :: (a -&gt; bool) -&gt; [a] -&gt; bool</code></p>
<p>Return true if function <code>pred</code> returns true for all elements of <code>list</code>.</p>
<p>lib.lists.all usage example:</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="ex">all</span> <span class="er">(</span><span class="ex">x:</span> x <span class="op">&lt;</span> 3<span class="kw">)</span> <span class="bu">[</span> 1 2 <span class="bu">]</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> true</span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a><span class="ex">all</span> <span class="er">(</span><span class="ex">x:</span> x <span class="op">&lt;</span> 3<span class="kw">)</span> <span class="bu">[</span> 1 2 3 <span class="bu">]</span></span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> false</span></code></pre></div>
<h3 id="lib.lists.count">lib.lists.count</h3>
<p><em>pred</em></p>
<p><code>count :: (a -&gt; bool) -&gt; [a] -&gt; int</code></p>
<p>Count how many elements of <code>list</code> match the supplied predicate function.</p>
<ul>
<li><p><code>pred</code></p>
<p>Predicate</p></li>
</ul>
<p>lib.lists.count usage example:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="ex">count</span> <span class="er">(</span><span class="ex">x:</span> x == 3<span class="kw">)</span> <span class="bu">[</span> 3 2 3 <span class="er">4</span> <span class="ex">6</span> ]</span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> 2</span></code></pre></div>
<h3 id="lib.lists.optional">lib.lists.optional</h3>
<p><em>cond, elem</em></p>
<p><code>optional :: bool -&gt; a -&gt; [a]</code></p>
<p>Return a singleton list or an empty list, depending on a boolean value. Useful when building lists with optional elements (e.g. `++ optional (system == “i686-linux”) firefox’).</p>
<ul>
<li><p><code>cond</code></p>
<p>Function argument</p></li>
<li><p><code>elem</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.lists.optional usage example:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="ex">optional</span> true <span class="st">&quot;foo&quot;</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ <span class="st">&quot;foo&quot;</span> ]</span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a><span class="ex">optional</span> false <span class="st">&quot;foo&quot;</span></span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ ]</span></code></pre></div>
<h3 id="lib.lists.optionals">lib.lists.optionals</h3>
<p><em>cond, elems</em></p>
<p><code>optionals :: bool -&gt; [a] -&gt; [a]</code></p>
<p>Return a list or an empty list, depending on a boolean value.</p>
<ul>
<li><p><code>cond</code></p>
<p>Condition</p></li>
<li><p><code>elems</code></p>
<p>List to return if condition is true</p></li>
</ul>
<p>lib.lists.optionals usage example:</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="ex">optionals</span> true [ 2 3 ]</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ 2 3 ]</span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a><span class="ex">optionals</span> false [ 2 3 ]</span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ ]</span></code></pre></div>
<h3 id="lib.lists.tolist">lib.lists.toList</h3>
<p><em>x</em></p>
<p>If argument is a list, return it; else, wrap it in a singleton list. If you’re using this, you should almost certainly reconsider if there isn’t a more “well-typed” approach.</p>
<ul>
<li><p><code>x</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.lists.toList usage example:</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="ex">toList</span> [ 1 2 ]</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ 1 2 ]</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a><span class="ex">toList</span> <span class="st">&quot;hi&quot;</span></span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ <span class="st">&quot;hi &quot;</span>]</span></code></pre></div>
<h3 id="lib.lists.range">lib.lists.range</h3>
<p><em>first, last</em></p>
<p><code>range :: int -&gt; int -&gt; [int]</code></p>
<p>Return a list of integers from <code>first&#39; up to and including</code>last’.</p>
<ul>
<li><p><code>first</code></p>
<p>First integer in the range</p></li>
<li><p><code>last</code></p>
<p>Last integer in the range</p></li>
</ul>
<p>lib.lists.range usage example:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="ex">range</span> 2 4</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ 2 3 4 ]</span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a><span class="ex">range</span> 3 2</span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ ]</span></code></pre></div>
<h3 id="lib.lists.partition">lib.lists.partition</h3>
<p>__</p>
<p><code>(a -&gt; bool) -&gt; [a] -&gt; { right :: [a], wrong :: [a] }</code></p>
<p>Splits the elements of a list in two lists, <code>right</code> and <code>wrong</code>, depending on the evaluation of a predicate.</p>
<p>lib.lists.partition usage example:</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="ex">partition</span> <span class="er">(</span><span class="ex">x:</span> x <span class="op">&gt;</span> 2<span class="kw">)</span> <span class="bu">[</span> 5 1 2 <span class="er">3</span> <span class="ex">4</span> ]</span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> { right = [ 5 3 4 ]<span class="kw">;</span> <span class="ex">wrong</span> = [ 1 2 ]<span class="kw">;</span> <span class="er">}</span></span></code></pre></div>
<h3 id="lib.lists.groupby">lib.lists.groupBy’</h3>
<p><em>op, nul, pred, lst</em></p>
<p>Splits the elements of a list into many lists, using the return value of a predicate. Predicate should return a string which becomes keys of attrset `groupBy’ returns.</p>
<ul>
<li><p><code>op</code></p>
<p>Function argument</p></li>
<li><p><code>nul</code></p>
<p>Function argument</p></li>
<li><p><code>pred</code></p>
<p>Function argument</p></li>
<li><p><code>lst</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.lists.groupBy’ usage example:</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="ex">groupBy</span> <span class="er">(</span><span class="ex">x:</span> boolToString <span class="er">(</span><span class="ex">x</span> <span class="op">&gt;</span> 2<span class="kw">))</span> <span class="bu">[</span> 5 1 2 <span class="er">3</span> <span class="ex">4</span> ]</span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> { true = [ 5 3 4 ]<span class="kw">;</span> <span class="fu">false</span> = [ 1 2 ]<span class="kw">;</span> <span class="er">}</span></span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a><span class="ex">groupBy</span> <span class="er">(</span><span class="ex">x:</span> x.name<span class="kw">)</span> <span class="bu">[</span> {name <span class="ot">=</span> <span class="st">&quot;icewm&quot;</span><span class="er">;</span> <span class="er">script</span> <span class="ex">=</span> <span class="st">&quot;icewm &amp;&quot;</span><span class="kw">;</span><span class="er">}</span></span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a><span class="ex">{name</span> = <span class="st">&quot;xfce&quot;</span><span class="kw">;</span>  <span class="ex">script</span> = <span class="st">&quot;xfce4-session &amp;&quot;</span><span class="kw">;</span><span class="er">}</span></span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a><span class="ex">{name</span> = <span class="st">&quot;icewm&quot;</span><span class="kw">;</span> <span class="ex">script</span> = <span class="st">&quot;icewmbg &amp;&quot;</span><span class="kw">;</span><span class="er">}</span></span>
<span id="cb103-6"><a href="#cb103-6" aria-hidden="true" tabindex="-1"></a><span class="ex">{name</span> = <span class="st">&quot;mate&quot;</span><span class="kw">;</span>  <span class="ex">script</span> = <span class="st">&quot;gnome-session &amp;&quot;</span><span class="kw">;</span><span class="er">}</span></span>
<span id="cb103-7"><a href="#cb103-7" aria-hidden="true" tabindex="-1"></a><span class="ex">]</span></span>
<span id="cb103-8"><a href="#cb103-8" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> { icewm = [ { name = <span class="st">&quot;icewm&quot;</span><span class="kw">;</span> <span class="ex">script</span> = <span class="st">&quot;icewm &amp;&quot;</span><span class="kw">;</span> <span class="er">}</span></span>
<span id="cb103-9"><a href="#cb103-9" aria-hidden="true" tabindex="-1"></a><span class="kw">{</span> <span class="ex">name</span> = <span class="st">&quot;icewm&quot;</span><span class="kw">;</span> <span class="ex">script</span> = <span class="st">&quot;icewmbg &amp;&quot;</span><span class="kw">;</span> <span class="kw">}</span> <span class="ex">]</span><span class="kw">;</span></span>
<span id="cb103-10"><a href="#cb103-10" aria-hidden="true" tabindex="-1"></a><span class="ex">mate</span>  = [ { name = <span class="st">&quot;mate&quot;</span><span class="kw">;</span>  <span class="ex">script</span> = <span class="st">&quot;gnome-session &amp;&quot;</span><span class="kw">;</span> <span class="er">}</span> <span class="ex">]</span><span class="kw">;</span></span>
<span id="cb103-11"><a href="#cb103-11" aria-hidden="true" tabindex="-1"></a><span class="ex">xfce</span>  = [ { name = <span class="st">&quot;xfce&quot;</span><span class="kw">;</span>  <span class="ex">script</span> = <span class="st">&quot;xfce4-session &amp;&quot;</span><span class="kw">;</span> <span class="er">}</span> <span class="ex">]</span><span class="kw">;</span></span>
<span id="cb103-12"><a href="#cb103-12" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb103-13"><a href="#cb103-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-14"><a href="#cb103-14" aria-hidden="true" tabindex="-1"></a><span class="ex">groupBy</span><span class="st">&#39; builtins.add 0 (x: boolToString (x &gt; 2)) [ 5 1 2 3 4 ]</span></span>
<span id="cb103-15"><a href="#cb103-15" aria-hidden="true" tabindex="-1"></a><span class="st">=&gt; { true = 12; false = 3; }</span></span></code></pre></div>
<h3 id="lib.lists.ziplistswith">lib.lists.zipListsWith</h3>
<p><em>f, fst, snd</em></p>
<p><code>zipListsWith :: (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]</code></p>
<p>Merges two lists of the same size together. If the sizes aren’t the same the merging stops at the shortest. How both lists are merged is defined by the first argument.</p>
<ul>
<li><p><code>f</code></p>
<p>Function to zip elements of both lists</p></li>
<li><p><code>fst</code></p>
<p>First list</p></li>
<li><p><code>snd</code></p>
<p>Second list</p></li>
</ul>
<p>lib.lists.zipListsWith usage example:</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="ex">zipListsWith</span> <span class="er">(</span><span class="ex">a:</span> b: a + b<span class="kw">)</span> <span class="ex">[</span><span class="st">&quot;h&quot;</span> <span class="st">&quot;l&quot;</span>] [<span class="st">&quot;e&quot;</span> <span class="st">&quot;o&quot;</span>]</span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [<span class="st">&quot;he&quot;</span> <span class="st">&quot;lo&quot;</span>]</span></code></pre></div>
<h3 id="lib.lists.ziplists">lib.lists.zipLists</h3>
<p>__</p>
<p><code>zipLists :: [a] -&gt; [b] -&gt; [{ fst :: a, snd :: b}]</code></p>
<p>Merges two lists of the same size together. If the sizes aren’t the same the merging stops at the shortest.</p>
<p>lib.lists.zipLists usage example:</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="ex">zipLists</span> [ 1 2 ] [ <span class="st">&quot;a&quot;</span> <span class="st">&quot;b&quot;</span> ]</span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ { fst = 1<span class="kw">;</span> <span class="ex">snd</span> = <span class="st">&quot;a&quot;</span><span class="kw">;</span> <span class="er">}</span> <span class="kw">{</span> <span class="ex">fst</span> = 2<span class="kw">;</span> <span class="ex">snd</span> = <span class="st">&quot;b&quot;</span><span class="kw">;</span> <span class="kw">}</span> <span class="ex">]</span></span></code></pre></div>
<h3 id="lib.lists.reverselist">lib.lists.reverseList</h3>
<p><em>xs</em></p>
<p><code>reverseList :: [a] -&gt; [a]</code></p>
<p>Reverse the order of the elements of a list.</p>
<ul>
<li><p><code>xs</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.lists.reverseList usage example:</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="ex">reverseList</span> [ <span class="st">&quot;b&quot;</span> <span class="st">&quot;o&quot;</span> <span class="st">&quot;j&quot;</span> ]</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ <span class="st">&quot;j&quot;</span> <span class="st">&quot;o&quot;</span> <span class="st">&quot;b&quot;</span> ]</span></code></pre></div>
<h3 id="lib.lists.listdfs">lib.lists.listDfs</h3>
<p><em>stopOnCycles, before, list</em></p>
<p>Depth-First Search (DFS) for lists <code>list != []</code>.</p>
<ul>
<li><p><code>stopOnCycles</code></p>
<p>Function argument</p></li>
<li><p><code>before</code></p>
<p>Function argument</p></li>
<li><p><code>list</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.lists.listDfs usage example:</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="ex">listDfs</span> true hasPrefix [ <span class="st">&quot;/home/user&quot;</span> <span class="st">&quot;other&quot;</span> <span class="st">&quot;/&quot;</span> <span class="st">&quot;/home&quot;</span> ]</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a><span class="ex">==</span> { minimal = <span class="st">&quot;/&quot;</span><span class="kw">;</span>                  <span class="co"># minimal element</span></span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a><span class="ex">visited</span> = [ <span class="st">&quot;/home/user&quot;</span> ]<span class="kw">;</span>     <span class="co"># seen elements (in reverse order)</span></span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a><span class="ex">rest</span>    = [ <span class="st">&quot;/home&quot;</span> <span class="st">&quot;other&quot;</span> ]<span class="kw">;</span>  <span class="co"># everything else</span></span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb107-6"><a href="#cb107-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-7"><a href="#cb107-7" aria-hidden="true" tabindex="-1"></a><span class="ex">listDfs</span> true hasPrefix [ <span class="st">&quot;/home/user&quot;</span> <span class="st">&quot;other&quot;</span> <span class="st">&quot;/&quot;</span> <span class="st">&quot;/home&quot;</span> <span class="st">&quot;/&quot;</span> ]</span>
<span id="cb107-8"><a href="#cb107-8" aria-hidden="true" tabindex="-1"></a><span class="ex">==</span> { cycle   = <span class="st">&quot;/&quot;</span><span class="kw">;</span>                  <span class="co"># cycle encountered at this element</span></span>
<span id="cb107-9"><a href="#cb107-9" aria-hidden="true" tabindex="-1"></a><span class="ex">loops</span>   = [ <span class="st">&quot;/&quot;</span> ]<span class="kw">;</span>              <span class="co"># and continues to these elements</span></span>
<span id="cb107-10"><a href="#cb107-10" aria-hidden="true" tabindex="-1"></a><span class="ex">visited</span> = [ <span class="st">&quot;/&quot;</span> <span class="st">&quot;/home/user&quot;</span> ]<span class="kw">;</span> <span class="co"># elements leading to the cycle (in reverse order)</span></span>
<span id="cb107-11"><a href="#cb107-11" aria-hidden="true" tabindex="-1"></a><span class="ex">rest</span>    = [ <span class="st">&quot;/home&quot;</span> <span class="st">&quot;other&quot;</span> ]<span class="kw">;</span>  <span class="co"># everything else</span></span></code></pre></div>
<h3 id="lib.lists.toposort">lib.lists.toposort</h3>
<p><em>before, list</em></p>
<p>Sort a list based on a partial ordering using DFS. This implementation is O(N^2), if your ordering is linear, use <code>sort</code> instead.</p>
<ul>
<li><p><code>before</code></p>
<p>Function argument</p></li>
<li><p><code>list</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.lists.toposort usage example:</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="ex">toposort</span> hasPrefix [ <span class="st">&quot;/home/user&quot;</span> <span class="st">&quot;other&quot;</span> <span class="st">&quot;/&quot;</span> <span class="st">&quot;/home&quot;</span> ]</span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a><span class="ex">==</span> { result = [ <span class="st">&quot;/&quot;</span> <span class="st">&quot;/home&quot;</span> <span class="st">&quot;/home/user&quot;</span> <span class="st">&quot;other&quot;</span> ]<span class="kw">;</span> <span class="er">}</span></span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a><span class="ex">toposort</span> hasPrefix [ <span class="st">&quot;/home/user&quot;</span> <span class="st">&quot;other&quot;</span> <span class="st">&quot;/&quot;</span> <span class="st">&quot;/home&quot;</span> <span class="st">&quot;/&quot;</span> ]</span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true" tabindex="-1"></a><span class="ex">==</span> { cycle = [ <span class="st">&quot;/home/user&quot;</span> <span class="st">&quot;/&quot;</span> <span class="st">&quot;/&quot;</span> ]<span class="kw">;</span> <span class="co"># path leading to a cycle</span></span>
<span id="cb108-6"><a href="#cb108-6" aria-hidden="true" tabindex="-1"></a><span class="ex">loops</span> = [ <span class="st">&quot;/&quot;</span> ]<span class="kw">;</span> <span class="er">}</span>                <span class="co"># loops back to these elements</span></span>
<span id="cb108-7"><a href="#cb108-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-8"><a href="#cb108-8" aria-hidden="true" tabindex="-1"></a><span class="ex">toposort</span> hasPrefix [ <span class="st">&quot;other&quot;</span> <span class="st">&quot;/home/user&quot;</span> <span class="st">&quot;/home&quot;</span> <span class="st">&quot;/&quot;</span> ]</span>
<span id="cb108-9"><a href="#cb108-9" aria-hidden="true" tabindex="-1"></a><span class="ex">==</span> { result = [ <span class="st">&quot;other&quot;</span> <span class="st">&quot;/&quot;</span> <span class="st">&quot;/home&quot;</span> <span class="st">&quot;/home/user&quot;</span> ]<span class="kw">;</span> <span class="er">}</span></span>
<span id="cb108-10"><a href="#cb108-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-11"><a href="#cb108-11" aria-hidden="true" tabindex="-1"></a><span class="ex">toposort</span> <span class="er">(</span><span class="ex">a:</span> b: a <span class="op">&lt;</span> b<span class="kw">)</span> <span class="bu">[</span> 3 2 1 <span class="bu">]</span> <span class="ex">==</span> { result = [ 1 2 3 ]<span class="kw">;</span> <span class="er">}</span></span></code></pre></div>
<h3 id="lib.lists.sort">lib.lists.sort</h3>
<p>__</p>
<p>Sort a list based on a comparator function which compares two elements and returns true if the first argument is strictly below the second argument. The returned list is sorted in an increasing order. The implementation does a quick-sort.</p>
<p>lib.lists.sort usage example:</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span> <span class="er">(</span><span class="ex">a:</span> b: a <span class="op">&lt;</span> b<span class="kw">)</span> <span class="bu">[</span> 5 3 7 <span class="bu">]</span></span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ 3 5 7 ]</span></code></pre></div>
<h3 id="lib.lists.comparelists">lib.lists.compareLists</h3>
<p><em>cmp, a, b</em></p>
<p>Compare two lists element-by-element.</p>
<ul>
<li><p><code>cmp</code></p>
<p>Function argument</p></li>
<li><p><code>a</code></p>
<p>Function argument</p></li>
<li><p><code>b</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.lists.compareLists usage example:</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="ex">compareLists</span> compare [] []</span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> 0</span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a><span class="ex">compareLists</span> compare [] [ <span class="st">&quot;a&quot;</span> ]</span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> -1</span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a><span class="ex">compareLists</span> compare [ <span class="st">&quot;a&quot;</span> ] []</span>
<span id="cb110-6"><a href="#cb110-6" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> 1</span>
<span id="cb110-7"><a href="#cb110-7" aria-hidden="true" tabindex="-1"></a><span class="ex">compareLists</span> compare [ <span class="st">&quot;a&quot;</span> <span class="st">&quot;b&quot;</span> ] [ <span class="st">&quot;a&quot;</span> <span class="st">&quot;c&quot;</span> ]</span>
<span id="cb110-8"><a href="#cb110-8" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> 1</span></code></pre></div>
<h3 id="lib.lists.naturalsort">lib.lists.naturalSort</h3>
<p><em>lst</em></p>
<p>Sort list using “Natural sorting”. Numeric portions of strings are sorted in numeric order.</p>
<ul>
<li><p><code>lst</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.lists.naturalSort usage example:</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="ex">naturalSort</span> [<span class="st">&quot;disk11&quot;</span> <span class="st">&quot;disk8&quot;</span> <span class="st">&quot;disk100&quot;</span> <span class="st">&quot;disk9&quot;</span>]</span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [<span class="st">&quot;disk8&quot;</span> <span class="st">&quot;disk9&quot;</span> <span class="st">&quot;disk11&quot;</span> <span class="st">&quot;disk100&quot;</span>]</span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a><span class="ex">naturalSort</span> [<span class="st">&quot;10.46.133.149&quot;</span> <span class="st">&quot;10.5.16.62&quot;</span> <span class="st">&quot;10.54.16.25&quot;</span>]</span>
<span id="cb111-4"><a href="#cb111-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [<span class="st">&quot;10.5.16.62&quot;</span> <span class="st">&quot;10.46.133.149&quot;</span> <span class="st">&quot;10.54.16.25&quot;</span>]</span>
<span id="cb111-5"><a href="#cb111-5" aria-hidden="true" tabindex="-1"></a><span class="ex">naturalSort</span> [<span class="st">&quot;v0.2&quot;</span> <span class="st">&quot;v0.15&quot;</span> <span class="st">&quot;v0.0.9&quot;</span>]</span>
<span id="cb111-6"><a href="#cb111-6" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ <span class="st">&quot;v0.0.9&quot;</span> <span class="st">&quot;v0.2&quot;</span> <span class="st">&quot;v0.15&quot;</span> ]</span></code></pre></div>
<h3 id="lib.lists.take">lib.lists.take</h3>
<p><em>count</em></p>
<p><code>take :: int -&gt; [a] -&gt; [a]</code></p>
<p>Return the first (at most) N elements of a list.</p>
<ul>
<li><p><code>count</code></p>
<p>Number of elements to take</p></li>
</ul>
<p>lib.lists.take usage example:</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="ex">take</span> 2 [ <span class="st">&quot;a&quot;</span> <span class="st">&quot;b&quot;</span> <span class="st">&quot;c&quot;</span> <span class="st">&quot;d&quot;</span> ]</span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ <span class="st">&quot;a&quot;</span> <span class="st">&quot;b&quot;</span> ]</span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a><span class="ex">take</span> 2 [ ]</span>
<span id="cb112-4"><a href="#cb112-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ ]</span></code></pre></div>
<h3 id="lib.lists.drop">lib.lists.drop</h3>
<p><em>count, list</em></p>
<p><code>drop :: int -&gt; [a] -&gt; [a]</code></p>
<p>Remove the first (at most) N elements of a list.</p>
<ul>
<li><p><code>count</code></p>
<p>Number of elements to drop</p></li>
<li><p><code>list</code></p>
<p>Input list</p></li>
</ul>
<p>lib.lists.drop usage example:</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="ex">drop</span> 2 [ <span class="st">&quot;a&quot;</span> <span class="st">&quot;b&quot;</span> <span class="st">&quot;c&quot;</span> <span class="st">&quot;d&quot;</span> ]</span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ <span class="st">&quot;c&quot;</span> <span class="st">&quot;d&quot;</span> ]</span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a><span class="ex">drop</span> 2 [ ]</span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ ]</span></code></pre></div>
<h3 id="lib.lists.sublist">lib.lists.sublist</h3>
<p><em>start, count, list</em></p>
<p><code>sublist :: int -&gt; int -&gt; [a] -&gt; [a]</code></p>
<p>Return a list consisting of at most <code>count</code> elements of <code>list</code>, starting at index <code>start</code>.</p>
<ul>
<li><p><code>start</code></p>
<p>Index at which to start the sublist</p></li>
<li><p><code>count</code></p>
<p>Number of elements to take</p></li>
<li><p><code>list</code></p>
<p>Input list</p></li>
</ul>
<p>lib.lists.sublist usage example:</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="ex">sublist</span> 1 3 [ <span class="st">&quot;a&quot;</span> <span class="st">&quot;b&quot;</span> <span class="st">&quot;c&quot;</span> <span class="st">&quot;d&quot;</span> <span class="st">&quot;e&quot;</span> ]</span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ <span class="st">&quot;b&quot;</span> <span class="st">&quot;c&quot;</span> <span class="st">&quot;d&quot;</span> ]</span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a><span class="ex">sublist</span> 1 3 [ ]</span>
<span id="cb114-4"><a href="#cb114-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ ]</span></code></pre></div>
<h3 id="lib.lists.last">lib.lists.last</h3>
<p><em>list</em></p>
<p><code>last :: [a] -&gt; a</code></p>
<p>Return the last element of a list.</p>
<ul>
<li><p><code>list</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.lists.last usage example:</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="fu">last</span> [ 1 2 3 ]</span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> 3</span></code></pre></div>
<h3 id="lib.lists.init">lib.lists.init</h3>
<p><em>list</em></p>
<p><code>init :: [a] -&gt; [a]</code></p>
<p>Return all elements but the last.</p>
<ul>
<li><p><code>list</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.lists.init usage example:</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="ex">init</span> [ 1 2 3 ]</span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ 1 2 ]</span></code></pre></div>
<h3 id="lib.lists.crosslists">lib.lists.crossLists</h3>
<p>__</p>
<p>Return the image of the cross product of some lists by a function.</p>
<p>lib.lists.crossLists usage example:</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="ex">crossLists</span> <span class="er">(</span><span class="ex">x:y:</span> <span class="st">&quot;</span><span class="va">${toString</span><span class="er"> x</span><span class="va">}${toString</span><span class="er"> y</span><span class="va">}</span><span class="st">&quot;</span><span class="kw">)</span> <span class="ex">[[1</span> 2] [3 4]]</span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ <span class="st">&quot;13&quot;</span> <span class="st">&quot;14&quot;</span> <span class="st">&quot;23&quot;</span> <span class="st">&quot;24&quot;</span> ]</span></code></pre></div>
<h3 id="lib.lists.unique">lib.lists.unique</h3>
<p>__</p>
<p><code>unique :: [a] -&gt; [a]</code></p>
<p>Remove duplicate elements from the list. O(n^2) complexity.</p>
<p>lib.lists.unique usage example:</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="ex">unique</span> [ 3 2 3 4 ]</span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ 3 2 4 ]</span></code></pre></div>
<h3 id="lib.lists.intersectlists">lib.lists.intersectLists</h3>
<p><em>e</em></p>
<p>Intersects list ‘e’ and another list. O(nm) complexity.</p>
<ul>
<li><p><code>e</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.lists.intersectLists usage example:</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="ex">intersectLists</span> [ 1 2 3 ] [ 6 3 2 ]</span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ 3 2 ]</span></code></pre></div>
<h3 id="lib.lists.subtractlists">lib.lists.subtractLists</h3>
<p><em>e</em></p>
<p>Subtracts list ‘e’ from another list. O(nm) complexity.</p>
<ul>
<li><p><code>e</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.lists.subtractLists usage example:</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="ex">subtractLists</span> [ 3 2 ] [ 1 2 3 4 5 3 ]</span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ 1 4 5 ]</span></code></pre></div>
<h3 id="lib.lists.mutuallyexclusive">lib.lists.mutuallyExclusive</h3>
<p><em>a, b</em></p>
<p>Test if two lists have no common element. It should be slightly more efficient than (intersectLists a b == [])</p>
<ul>
<li><p><code>a</code></p>
<p>Function argument</p></li>
<li><p><code>b</code></p>
<p>Function argument</p></li>
</ul>
<h2 id="nixos-nixpkgs-option-handling">NixOS / nixpkgs option handling</h2>
<h3 id="lib.options.isoption">lib.options.isOption</h3>
<p>__</p>
<p><code>isOption :: a -&gt; bool</code></p>
<p>Returns true when the given argument is an option</p>
<p>lib.options.isOption usage example:</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="ex">isOption</span> 1             // =<span class="op">&gt;</span> false</span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a><span class="ex">isOption</span> <span class="er">(</span><span class="ex">mkOption</span> {}<span class="kw">)</span> <span class="ex">//</span> =<span class="op">&gt;</span> true</span></code></pre></div>
<h3 id="lib.options.mkoption">lib.options.mkOption</h3>
<p><em>pattern, default, defaultText, example, description, relatedPackages, type, apply, internal, visible, readOnly, options, default, defaultText, example, description, relatedPackages, type, apply, internal, visible, readOnly, options</em></p>
<p>Creates an Option attribute set. mkOption accepts an attribute set with the following keys:</p>
<ul>
<li><p><code>pattern</code></p>
<p>Structured function argument</p></li>
<li><p><code>default</code></p>
<p>Default value used when no definition is given in the configuration.</p></li>
<li><p><code>defaultText</code></p>
<p>Textual representation of the default, for the manual.</p></li>
<li><p><code>example</code></p>
<p>Example value used in the manual.</p></li>
<li><p><code>description</code></p>
<p>String describing the option.</p></li>
<li><p><code>relatedPackages</code></p>
<p>Related packages used in the manual (see <code>genRelatedPackages</code> in ../nixos/lib/make-options-doc/default.nix).</p></li>
<li><p><code>type</code></p>
<p>Option type, providing type-checking and value merging.</p></li>
<li><p><code>apply</code></p>
<p>Function that converts the option value to something else.</p></li>
<li><p><code>internal</code></p>
<p>Whether the option is for NixOS developers only.</p></li>
<li><p><code>visible</code></p>
<p>Whether the option shows up in the manual.</p></li>
<li><p><code>readOnly</code></p>
<p>Whether the option can be set only once</p></li>
<li><p><code>options</code></p>
<p>Deprecated, used by types.optionSet.</p></li>
<li><p><code>default</code></p>
<p>Default value used when no definition is given in the configuration.</p></li>
<li><p><code>defaultText</code></p>
<p>Textual representation of the default, for the manual.</p></li>
<li><p><code>example</code></p>
<p>Example value used in the manual.</p></li>
<li><p><code>description</code></p>
<p>String describing the option.</p></li>
<li><p><code>relatedPackages</code></p>
<p>Related packages used in the manual (see <code>genRelatedPackages</code> in ../nixos/lib/make-options-doc/default.nix).</p></li>
<li><p><code>type</code></p>
<p>Option type, providing type-checking and value merging.</p></li>
<li><p><code>apply</code></p>
<p>Function that converts the option value to something else.</p></li>
<li><p><code>internal</code></p>
<p>Whether the option is for NixOS developers only.</p></li>
<li><p><code>visible</code></p>
<p>Whether the option shows up in the manual.</p></li>
<li><p><code>readOnly</code></p>
<p>Whether the option can be set only once</p></li>
<li><p><code>options</code></p>
<p>Deprecated, used by types.optionSet.</p></li>
</ul>
<p>lib.options.mkOption usage example:</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mkOption</span> { }  // =<span class="op">&gt;</span> { _type = <span class="st">&quot;option&quot;</span><span class="kw">;</span> <span class="er">}</span></span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a><span class="ex">mkOption</span> { defaultText = <span class="st">&quot;foo&quot;</span><span class="kw">;</span> <span class="er">}</span> <span class="ex">//</span> =<span class="op">&gt;</span> { _type = <span class="st">&quot;option&quot;</span><span class="kw">;</span> <span class="ex">defaultText</span> = <span class="st">&quot;foo&quot;</span><span class="kw">;</span> <span class="er">}</span></span></code></pre></div>
<h3 id="lib.options.mkenableoption">lib.options.mkEnableOption</h3>
<p><em>name</em></p>
<p>Creates an Option attribute set for a boolean value option i.e an option to be toggled on or off:</p>
<ul>
<li><p><code>name</code></p>
<p>Name for the created option</p></li>
</ul>
<p>lib.options.mkEnableOption usage example:</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mkEnableOption</span> <span class="st">&quot;foo&quot;</span></span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> { _type = <span class="st">&quot;option&quot;</span><span class="kw">;</span> <span class="ex">default</span> = false<span class="kw">;</span> <span class="ex">description</span> = <span class="st">&quot;Whether to enable foo.&quot;</span><span class="kw">;</span> <span class="ex">example</span> = true<span class="kw">;</span> <span class="bu">type</span> = { ... }<span class="kw">;</span> <span class="er">}</span></span></code></pre></div>
<h3 id="lib.options.mksinkundeclaredoptions">lib.options.mkSinkUndeclaredOptions</h3>
<p><em>attrs</em></p>
<p>This option accepts anything, but it does not produce any result.</p>
<ul>
<li><p><code>attrs</code></p>
<p>Function argument</p></li>
</ul>
<h3 id="lib.options.mergeequaloption">lib.options.mergeEqualOption</h3>
<p><em>loc, defs</em></p>
<p>“Merge” option definitions by checking that they all have the same value.</p>
<ul>
<li><p><code>loc</code></p>
<p>Function argument</p></li>
<li><p><code>defs</code></p>
<p>Function argument</p></li>
</ul>
<h3 id="lib.options.getvalues">lib.options.getValues</h3>
<p>__</p>
<p><code>getValues :: [ { value :: a } ] -&gt; [a]</code></p>
<p>Extracts values of all “value” keys of the given list.</p>
<p>lib.options.getValues usage example:</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="ex">getValues</span> [ { value = 1<span class="kw">;</span> <span class="er">}</span> <span class="kw">{</span> <span class="ex">value</span> = 2<span class="kw">;</span> <span class="kw">}</span> <span class="ex">]</span> // =<span class="op">&gt;</span> [ 1 2 ]</span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a><span class="ex">getValues</span> [ ]                               // =<span class="op">&gt;</span> [ ]</span></code></pre></div>
<h3 id="lib.options.getfiles">lib.options.getFiles</h3>
<p>__</p>
<p><code>getFiles :: [ { file :: a } ] -&gt; [a]</code></p>
<p>Extracts values of all “file” keys of the given list</p>
<p>lib.options.getFiles usage example:</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="ex">getFiles</span> [ { file = <span class="st">&quot;file1&quot;</span><span class="kw">;</span> <span class="er">}</span> <span class="kw">{</span> <span class="fu">file</span> = <span class="st">&quot;file2&quot;</span><span class="kw">;</span> <span class="kw">}</span> <span class="ex">]</span> // =<span class="op">&gt;</span> [ <span class="st">&quot;file1&quot;</span> <span class="st">&quot;file2&quot;</span> ]</span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a><span class="ex">getFiles</span> [ ]                                         // =<span class="op">&gt;</span> [ ]</span></code></pre></div>
<h3 id="lib.options.scruboptionvalue">lib.options.scrubOptionValue</h3>
<p><em>x</em></p>
<p>This function recursively removes all derivation attributes from <code>x</code> except for the <code>name</code> attribute.</p>
<ul>
<li><p><code>x</code></p>
<p>Function argument</p></li>
</ul>
<h3 id="lib.options.literalexample">lib.options.literalExample</h3>
<p><em>text</em></p>
<p>For use in the <code>example</code> option attribute. It causes the given text to be included verbatim in documentation. This is necessary for example values that are not simple values, e.g., functions.</p>
<ul>
<li><p><code>text</code></p>
<p>Function argument</p></li>
</ul>
<h3 id="lib.options.showoption">lib.options.showOption</h3>
<p><em>parts</em></p>
<p>Convert an option, described as a list of the option parts in to a safe, human readable version.</p>
<ul>
<li><p><code>parts</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.options.showOption usage example:</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="ex">showOption</span> [<span class="st">&quot;foo&quot;</span> <span class="st">&quot;bar&quot;</span> <span class="st">&quot;baz&quot;</span>]<span class="kw">)</span> <span class="ex">==</span> <span class="st">&quot;foo.bar.baz&quot;</span></span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="ex">showOption</span> [<span class="st">&quot;foo&quot;</span> <span class="st">&quot;bar.baz&quot;</span> <span class="st">&quot;tux&quot;</span>]<span class="kw">)</span> <span class="ex">==</span> <span class="st">&quot;foo.bar.baz.tux&quot;</span></span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-4"><a href="#cb126-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Placeholders</span> will not be quoted as they are not actual values:</span>
<span id="cb126-5"><a href="#cb126-5" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="ex">showOption</span> [<span class="st">&quot;foo&quot;</span> <span class="st">&quot;*&quot;</span> <span class="st">&quot;bar&quot;</span>]<span class="kw">)</span> <span class="ex">==</span> <span class="st">&quot;foo.*.bar&quot;</span></span>
<span id="cb126-6"><a href="#cb126-6" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="ex">showOption</span> [<span class="st">&quot;foo&quot;</span> <span class="st">&quot;&lt;name&gt;&quot;</span> <span class="st">&quot;bar&quot;</span>]<span class="kw">)</span> <span class="ex">==</span> <span class="st">&quot;foo.&lt;name&gt;.bar&quot;</span></span>
<span id="cb126-7"><a href="#cb126-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-8"><a href="#cb126-8" aria-hidden="true" tabindex="-1"></a><span class="ex">Unlike</span> attributes, options can also start with numbers:</span>
<span id="cb126-9"><a href="#cb126-9" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="ex">showOption</span> [<span class="st">&quot;windowManager&quot;</span> <span class="st">&quot;2bwm&quot;</span> <span class="st">&quot;enable&quot;</span>]<span class="kw">)</span> <span class="ex">==</span> <span class="st">&quot;windowManager.2bwm.enable&quot;</span></span></code></pre></div>
<h2 id="string-manipulation-functions">String manipulation functions</h2>
<h3 id="lib.strings.concatstrings">lib.strings.concatStrings</h3>
<p>__</p>
<p><code>concatStrings :: [string] -&gt; string</code></p>
<p>Concatenate a list of strings.</p>
<p>lib.strings.concatStrings usage example:</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="ex">concatStrings</span> [<span class="st">&quot;foo&quot;</span> <span class="st">&quot;bar&quot;</span>]</span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;foobar&quot;</span></span></code></pre></div>
<h3 id="lib.strings.concatmapstrings">lib.strings.concatMapStrings</h3>
<p><em>f, list</em></p>
<p><code>concatMapStrings :: (a -&gt; string) -&gt; [a] -&gt; string</code></p>
<p>Map a function over a list and concatenate the resulting strings.</p>
<ul>
<li><p><code>f</code></p>
<p>Function argument</p></li>
<li><p><code>list</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.strings.concatMapStrings usage example:</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="ex">concatMapStrings</span> <span class="er">(</span><span class="ex">x:</span> <span class="st">&quot;a&quot;</span> + x<span class="kw">)</span> <span class="ex">[</span><span class="st">&quot;foo&quot;</span> <span class="st">&quot;bar&quot;</span>]</span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;afooabar&quot;</span></span></code></pre></div>
<h3 id="lib.strings.concatimapstrings">lib.strings.concatImapStrings</h3>
<p><em>f, list</em></p>
<p><code>concatImapStrings :: (int -&gt; a -&gt; string) -&gt; [a] -&gt; string</code></p>
<p>Like <code>concatMapStrings</code> except that the f functions also gets the position as a parameter.</p>
<ul>
<li><p><code>f</code></p>
<p>Function argument</p></li>
<li><p><code>list</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.strings.concatImapStrings usage example:</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="ex">concatImapStrings</span> <span class="er">(</span><span class="ex">pos:</span> x: <span class="st">&quot;</span><span class="va">${toString</span><span class="er"> pos</span><span class="va">}</span><span class="st">-</span><span class="va">${x}</span><span class="st">&quot;</span><span class="kw">)</span> <span class="ex">[</span><span class="st">&quot;foo&quot;</span> <span class="st">&quot;bar&quot;</span>]</span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;1-foo2-bar&quot;</span></span></code></pre></div>
<h3 id="lib.strings.intersperse">lib.strings.intersperse</h3>
<p><em>separator, list</em></p>
<p><code>intersperse :: a -&gt; [a] -&gt; [a]</code></p>
<p>Place an element between each element of a list</p>
<ul>
<li><p><code>separator</code></p>
<p>Separator to add between elements</p></li>
<li><p><code>list</code></p>
<p>Input list</p></li>
</ul>
<p>lib.strings.intersperse usage example:</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="ex">intersperse</span> <span class="st">&quot;/&quot;</span> [<span class="st">&quot;usr&quot;</span> <span class="st">&quot;local&quot;</span> <span class="st">&quot;bin&quot;</span>]</span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [<span class="st">&quot;usr&quot;</span> <span class="st">&quot;/&quot;</span> <span class="st">&quot;local&quot;</span> <span class="st">&quot;/&quot;</span> <span class="st">&quot;bin&quot;</span>].</span></code></pre></div>
<h3 id="lib.strings.concatstringssep">lib.strings.concatStringsSep</h3>
<p>__</p>
<p><code>concatStringsSep :: string -&gt; [string] -&gt; string</code></p>
<p>Concatenate a list of strings with a separator between each element</p>
<p>lib.strings.concatStringsSep usage example:</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="ex">concatStringsSep</span> <span class="st">&quot;/&quot;</span> [<span class="st">&quot;usr&quot;</span> <span class="st">&quot;local&quot;</span> <span class="st">&quot;bin&quot;</span>]</span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;usr/local/bin&quot;</span></span></code></pre></div>
<h3 id="lib.strings.concatmapstringssep">lib.strings.concatMapStringsSep</h3>
<p><em>sep, f, list</em></p>
<p><code>concatMapStringsSep :: string -&gt; (a -&gt; string) -&gt; [a] -&gt; string</code></p>
<p>Maps a function over a list of strings and then concatenates the result with the specified separator interspersed between elements.</p>
<ul>
<li><p><code>sep</code></p>
<p>Separator to add between elements</p></li>
<li><p><code>f</code></p>
<p>Function to map over the list</p></li>
<li><p><code>list</code></p>
<p>List of input strings</p></li>
</ul>
<p>lib.strings.concatMapStringsSep usage example:</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="ex">concatMapStringsSep</span> <span class="st">&quot;-&quot;</span> <span class="er">(</span><span class="ex">x:</span> toUpper x<span class="kw">)</span>  <span class="ex">[</span><span class="st">&quot;foo&quot;</span> <span class="st">&quot;bar&quot;</span> <span class="st">&quot;baz&quot;</span>]</span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;FOO-BAR-BAZ&quot;</span></span></code></pre></div>
<h3 id="lib.strings.concatimapstringssep">lib.strings.concatImapStringsSep</h3>
<p><em>sep, f, list</em></p>
<p><code>concatIMapStringsSep :: string -&gt; (int -&gt; a -&gt; string) -&gt; [a] -&gt; string</code></p>
<p>Same as <code>concatMapStringsSep</code>, but the mapping function additionally receives the position of its argument.</p>
<ul>
<li><p><code>sep</code></p>
<p>Separator to add between elements</p></li>
<li><p><code>f</code></p>
<p>Function that receives elements and their positions</p></li>
<li><p><code>list</code></p>
<p>List of input strings</p></li>
</ul>
<p>lib.strings.concatImapStringsSep usage example:</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="ex">concatImapStringsSep</span> <span class="st">&quot;-&quot;</span> <span class="er">(</span><span class="ex">pos:</span> x: toString <span class="er">(</span><span class="ex">x</span> / pos<span class="kw">))</span> <span class="bu">[</span> 6 6 6 <span class="bu">]</span></span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;6-3-2&quot;</span></span></code></pre></div>
<h3 id="lib.strings.makesearchpath">lib.strings.makeSearchPath</h3>
<p><em>subDir, paths</em></p>
<p><code>makeSearchPath :: string -&gt; [string] -&gt; string</code></p>
<p>Construct a Unix-style, colon-separated search path consisting of the given <code>subDir</code> appended to each of the given paths.</p>
<ul>
<li><p><code>subDir</code></p>
<p>Directory name to append</p></li>
<li><p><code>paths</code></p>
<p>List of base paths</p></li>
</ul>
<p>lib.strings.makeSearchPath usage example:</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="ex">makeSearchPath</span> <span class="st">&quot;bin&quot;</span> [<span class="st">&quot;/root&quot;</span> <span class="st">&quot;/usr&quot;</span> <span class="st">&quot;/usr/local&quot;</span>]</span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;/root/bin:/usr/bin:/usr/local/bin&quot;</span></span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a><span class="ex">makeSearchPath</span> <span class="st">&quot;bin&quot;</span> [<span class="st">&quot;&quot;</span>]</span>
<span id="cb134-4"><a href="#cb134-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;/bin&quot;</span></span></code></pre></div>
<h3 id="lib.strings.makesearchpathoutput">lib.strings.makeSearchPathOutput</h3>
<p><em>output, subDir, pkgs</em></p>
<p><code>string -&gt; string -&gt; [package] -&gt; string</code></p>
<p>Construct a Unix-style search path by appending the given <code>subDir</code> to the specified <code>output</code> of each of the packages. If no output by the given name is found, fallback to <code>.out</code> and then to the default.</p>
<ul>
<li><p><code>output</code></p>
<p>Package output to use</p></li>
<li><p><code>subDir</code></p>
<p>Directory name to append</p></li>
<li><p><code>pkgs</code></p>
<p>List of packages</p></li>
</ul>
<p>lib.strings.makeSearchPathOutput usage example:</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="ex">makeSearchPathOutput</span> <span class="st">&quot;dev&quot;</span> <span class="st">&quot;bin&quot;</span> [ pkgs.openssl pkgs.zlib ]</span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;/nix/store/9rz8gxhzf8sw4kf2j2f1grr49w8zx5vj-openssl-1.0.1r-dev/bin:/nix/store/wwh7mhwh269sfjkm6k5665b5kgp7jrk2-zlib-1.2.8/bin&quot;</span></span></code></pre></div>
<h3 id="lib.strings.makelibrarypath">lib.strings.makeLibraryPath</h3>
<p>__</p>
<p>Construct a library search path (such as RPATH) containing the libraries for a set of packages</p>
<p>lib.strings.makeLibraryPath usage example:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="ex">makeLibraryPath</span> [ <span class="st">&quot;/usr&quot;</span> <span class="st">&quot;/usr/local&quot;</span> ]</span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;/usr/lib:/usr/local/lib&quot;</span></span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true" tabindex="-1"></a><span class="ex">pkgs</span> = import <span class="op">&lt;</span>nixpkgs<span class="op">&gt;</span> { }</span>
<span id="cb136-4"><a href="#cb136-4" aria-hidden="true" tabindex="-1"></a><span class="ex">makeLibraryPath</span> [ pkgs.openssl pkgs.zlib ]</span>
<span id="cb136-5"><a href="#cb136-5" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;/nix/store/9rz8gxhzf8sw4kf2j2f1grr49w8zx5vj-openssl-1.0.1r/lib:/nix/store/wwh7mhwh269sfjkm6k5665b5kgp7jrk2-zlib-1.2.8/lib&quot;</span></span></code></pre></div>
<h3 id="lib.strings.makebinpath">lib.strings.makeBinPath</h3>
<p>__</p>
<p>Construct a binary search path (such as $PATH) containing the binaries for a set of packages.</p>
<p>lib.strings.makeBinPath usage example:</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="ex">makeBinPath</span> [<span class="st">&quot;/root&quot;</span> <span class="st">&quot;/usr&quot;</span> <span class="st">&quot;/usr/local&quot;</span>]</span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;/root/bin:/usr/bin:/usr/local/bin&quot;</span></span></code></pre></div>
<h3 id="lib.strings.optionalstring">lib.strings.optionalString</h3>
<p><em>cond, string</em></p>
<p><code>optionalString :: bool -&gt; string -&gt; string</code></p>
<p>Depending on the boolean `cond’, return either the given string or the empty string. Useful to concatenate against a bigger string.</p>
<ul>
<li><p><code>cond</code></p>
<p>Condition</p></li>
<li><p><code>string</code></p>
<p>String to return if condition is true</p></li>
</ul>
<p>lib.strings.optionalString usage example:</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="ex">optionalString</span> true <span class="st">&quot;some-string&quot;</span></span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;some-string&quot;</span></span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a><span class="ex">optionalString</span> false <span class="st">&quot;some-string&quot;</span></span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;&quot;</span></span></code></pre></div>
<h3 id="lib.strings.hasprefix">lib.strings.hasPrefix</h3>
<p><em>pref, str</em></p>
<p><code>hasPrefix :: string -&gt; string -&gt; bool</code></p>
<p>Determine whether a string has given prefix.</p>
<ul>
<li><p><code>pref</code></p>
<p>Prefix to check for</p></li>
<li><p><code>str</code></p>
<p>Input string</p></li>
</ul>
<p>lib.strings.hasPrefix usage example:</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="ex">hasPrefix</span> <span class="st">&quot;foo&quot;</span> <span class="st">&quot;foobar&quot;</span></span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> true</span>
<span id="cb139-3"><a href="#cb139-3" aria-hidden="true" tabindex="-1"></a><span class="ex">hasPrefix</span> <span class="st">&quot;foo&quot;</span> <span class="st">&quot;barfoo&quot;</span></span>
<span id="cb139-4"><a href="#cb139-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> false</span></code></pre></div>
<h3 id="lib.strings.hassuffix">lib.strings.hasSuffix</h3>
<p><em>suffix, content</em></p>
<p><code>hasSuffix :: string -&gt; string -&gt; bool</code></p>
<p>Determine whether a string has given suffix.</p>
<ul>
<li><p><code>suffix</code></p>
<p>Suffix to check for</p></li>
<li><p><code>content</code></p>
<p>Input string</p></li>
</ul>
<p>lib.strings.hasSuffix usage example:</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="ex">hasSuffix</span> <span class="st">&quot;foo&quot;</span> <span class="st">&quot;foobar&quot;</span></span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> false</span>
<span id="cb140-3"><a href="#cb140-3" aria-hidden="true" tabindex="-1"></a><span class="ex">hasSuffix</span> <span class="st">&quot;foo&quot;</span> <span class="st">&quot;barfoo&quot;</span></span>
<span id="cb140-4"><a href="#cb140-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> true</span></code></pre></div>
<h3 id="lib.strings.hasinfix">lib.strings.hasInfix</h3>
<p><em>infix, content</em></p>
<p><code>hasInfix :: string -&gt; string -&gt; bool</code></p>
<p>Determine whether a string contains the given infix</p>
<ul>
<li><p><code>infix</code></p>
<p>Function argument</p></li>
<li><p><code>content</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.strings.hasInfix usage example:</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="ex">hasInfix</span> <span class="st">&quot;bc&quot;</span> <span class="st">&quot;abcd&quot;</span></span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> true</span>
<span id="cb141-3"><a href="#cb141-3" aria-hidden="true" tabindex="-1"></a><span class="ex">hasInfix</span> <span class="st">&quot;ab&quot;</span> <span class="st">&quot;abcd&quot;</span></span>
<span id="cb141-4"><a href="#cb141-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> true</span>
<span id="cb141-5"><a href="#cb141-5" aria-hidden="true" tabindex="-1"></a><span class="ex">hasInfix</span> <span class="st">&quot;cd&quot;</span> <span class="st">&quot;abcd&quot;</span></span>
<span id="cb141-6"><a href="#cb141-6" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> true</span>
<span id="cb141-7"><a href="#cb141-7" aria-hidden="true" tabindex="-1"></a><span class="ex">hasInfix</span> <span class="st">&quot;foo&quot;</span> <span class="st">&quot;abcd&quot;</span></span>
<span id="cb141-8"><a href="#cb141-8" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> false</span></code></pre></div>
<h3 id="lib.strings.stringtocharacters">lib.strings.stringToCharacters</h3>
<p><em>s</em></p>
<p><code>stringToCharacters :: string -&gt; [string]</code></p>
<p>Convert a string to a list of characters (i.e. singleton strings). This allows you to, e.g., map a function over each character. However, note that this will likely be horribly inefficient; Nix is not a general purpose programming language. Complex string manipulations should, if appropriate, be done in a derivation. Also note that Nix treats strings as a list of bytes and thus doesn’t handle unicode.</p>
<ul>
<li><p><code>s</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.strings.stringToCharacters usage example:</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="ex">stringToCharacters</span> <span class="st">&quot;&quot;</span></span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ ]</span>
<span id="cb142-3"><a href="#cb142-3" aria-hidden="true" tabindex="-1"></a><span class="ex">stringToCharacters</span> <span class="st">&quot;abc&quot;</span></span>
<span id="cb142-4"><a href="#cb142-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ <span class="st">&quot;a&quot;</span> <span class="st">&quot;b&quot;</span> <span class="st">&quot;c&quot;</span> ]</span>
<span id="cb142-5"><a href="#cb142-5" aria-hidden="true" tabindex="-1"></a><span class="ex">stringToCharacters</span> <span class="st">&quot;💩&quot;</span></span>
<span id="cb142-6"><a href="#cb142-6" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ <span class="st">&quot;�&quot;</span> <span class="st">&quot;�&quot;</span> <span class="st">&quot;�&quot;</span> <span class="st">&quot;�&quot;</span> ]</span></code></pre></div>
<h3 id="lib.strings.stringaschars">lib.strings.stringAsChars</h3>
<p><em>f, s</em></p>
<p><code>stringAsChars :: (string -&gt; string) -&gt; string -&gt; string</code></p>
<p>Manipulate a string character by character and replace them by strings before concatenating the results.</p>
<ul>
<li><p><code>f</code></p>
<p>Function to map over each individual character</p></li>
<li><p><code>s</code></p>
<p>Input string</p></li>
</ul>
<p>lib.strings.stringAsChars usage example:</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="ex">stringAsChars</span> <span class="er">(</span><span class="ex">x:</span> if x == <span class="st">&quot;a&quot;</span> then <span class="st">&quot;i&quot;</span> else x<span class="kw">)</span> <span class="st">&quot;nax&quot;</span></span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;nix&quot;</span></span></code></pre></div>
<h3 id="lib.strings.escape">lib.strings.escape</h3>
<p><em>list</em></p>
<p><code>escape :: [string] -&gt; string -&gt; string</code></p>
<p>Escape occurrence of the elements of <code>list</code> in <code>string</code> by prefixing it with a backslash.</p>
<ul>
<li><p><code>list</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.strings.escape usage example:</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="ex">escape</span> [<span class="st">&quot;(&quot;</span> <span class="st">&quot;)&quot;</span>] <span class="st">&quot;(foo)&quot;</span></span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;</span><span class="dt">\\</span><span class="st">(foo</span><span class="dt">\\</span><span class="st">)&quot;</span></span></code></pre></div>
<h3 id="lib.strings.escapeshellarg">lib.strings.escapeShellArg</h3>
<p><em>arg</em></p>
<p><code>escapeShellArg :: string -&gt; string</code></p>
<p>Quote string to be used safely within the Bourne shell.</p>
<ul>
<li><p><code>arg</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.strings.escapeShellArg usage example:</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="ex">escapeShellArg</span> <span class="st">&quot;esc&#39;ape\nme&quot;</span></span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;&#39;esc&#39;</span><span class="dt">\\</span><span class="st">&#39;&#39;ape\nme&#39;&quot;</span></span></code></pre></div>
<h3 id="lib.strings.escapeshellargs">lib.strings.escapeShellArgs</h3>
<p>__</p>
<p><code>escapeShellArgs :: [string] -&gt; string</code></p>
<p>Quote all arguments to be safely passed to the Bourne shell.</p>
<p>lib.strings.escapeShellArgs usage example:</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="ex">escapeShellArgs</span> [<span class="st">&quot;one&quot;</span> <span class="st">&quot;two three&quot;</span> <span class="st">&quot;four&#39;five&quot;</span>]</span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;&#39;one&#39; &#39;two three&#39; &#39;four&#39;</span><span class="dt">\\</span><span class="st">&#39;&#39;five&#39;&quot;</span></span></code></pre></div>
<h3 id="lib.strings.escapenixstring">lib.strings.escapeNixString</h3>
<p><em>s</em></p>
<p><code>string -&gt; string</code></p>
<p>Turn a string into a Nix expression representing that string</p>
<ul>
<li><p><code>s</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.strings.escapeNixString usage example:</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="ex">escapeNixString</span> <span class="st">&quot;hello</span><span class="dt">\$</span><span class="st">{}\n&quot;</span></span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;</span><span class="dt">\&quot;</span><span class="st">hello</span><span class="dt">\\\$</span><span class="st">{}</span><span class="dt">\\</span><span class="st">n</span><span class="dt">\&quot;</span><span class="st">&quot;</span></span></code></pre></div>
<h3 id="lib.strings.escaperegex">lib.strings.escapeRegex</h3>
<p>__</p>
<p><code>string -&gt; string</code></p>
<p>Turn a string into an exact regular expression</p>
<p>lib.strings.escapeRegex usage example:</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="ex">escapeRegex</span> <span class="st">&quot;[^a-z]*&quot;</span></span>
<span id="cb148-2"><a href="#cb148-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;</span><span class="dt">\\</span><span class="st">[</span><span class="dt">\\</span><span class="st">^a-z]</span><span class="dt">\\</span><span class="st">*&quot;</span></span></code></pre></div>
<h3 id="lib.strings.escapenixidentifier">lib.strings.escapeNixIdentifier</h3>
<p><em>s</em></p>
<p><code>string -&gt; string</code></p>
<p>Quotes a string if it can’t be used as an identifier directly.</p>
<ul>
<li><p><code>s</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.strings.escapeNixIdentifier usage example:</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="ex">escapeNixIdentifier</span> <span class="st">&quot;hello&quot;</span></span>
<span id="cb149-2"><a href="#cb149-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;hello&quot;</span></span>
<span id="cb149-3"><a href="#cb149-3" aria-hidden="true" tabindex="-1"></a><span class="ex">escapeNixIdentifier</span> <span class="st">&quot;0abc&quot;</span></span>
<span id="cb149-4"><a href="#cb149-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;</span><span class="dt">\&quot;</span><span class="st">0abc</span><span class="dt">\&quot;</span><span class="st">&quot;</span></span></code></pre></div>
<h3 id="lib.strings.tolower">lib.strings.toLower</h3>
<p>__</p>
<p><code>toLower :: string -&gt; string</code></p>
<p>Converts an ASCII string to lower-case.</p>
<p>lib.strings.toLower usage example:</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="ex">toLower</span> <span class="st">&quot;HOME&quot;</span></span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;home&quot;</span></span></code></pre></div>
<h3 id="lib.strings.toupper">lib.strings.toUpper</h3>
<p>__</p>
<p><code>toUpper :: string -&gt; string</code></p>
<p>Converts an ASCII string to upper-case.</p>
<p>lib.strings.toUpper usage example:</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="ex">toUpper</span> <span class="st">&quot;home&quot;</span></span>
<span id="cb151-2"><a href="#cb151-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;HOME&quot;</span></span></code></pre></div>
<h3 id="lib.strings.addcontextfrom">lib.strings.addContextFrom</h3>
<p><em>a, b</em></p>
<p>Appends string context from another string. This is an implementation detail of Nix.</p>
<ul>
<li><p><code>a</code></p>
<p>Function argument</p></li>
<li><p><code>b</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.strings.addContextFrom usage example:</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pkgs</span> = import <span class="op">&lt;</span>nixpkgs<span class="op">&gt;</span> { }<span class="kw">;</span></span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a><span class="ex">addContextFrom</span> pkgs.coreutils <span class="st">&quot;bar&quot;</span></span>
<span id="cb152-3"><a href="#cb152-3" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;bar&quot;</span></span></code></pre></div>
<h3 id="lib.strings.splitstring">lib.strings.splitString</h3>
<p>__sep, <em>s</em></p>
<p>Cut a string with a separator and produces a list of strings which were separated by this separator.</p>
<ul>
<li><p><code>_sep</code></p>
<p>Function argument</p></li>
<li><p><code>_s</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.strings.splitString usage example:</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="ex">splitString</span> <span class="st">&quot;.&quot;</span> <span class="st">&quot;foo.bar.baz&quot;</span></span>
<span id="cb153-2"><a href="#cb153-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ <span class="st">&quot;foo&quot;</span> <span class="st">&quot;bar&quot;</span> <span class="st">&quot;baz&quot;</span> ]</span>
<span id="cb153-3"><a href="#cb153-3" aria-hidden="true" tabindex="-1"></a><span class="ex">splitString</span> <span class="st">&quot;/&quot;</span> <span class="st">&quot;/usr/local/bin&quot;</span></span>
<span id="cb153-4"><a href="#cb153-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ <span class="st">&quot;&quot;</span> <span class="st">&quot;usr&quot;</span> <span class="st">&quot;local&quot;</span> <span class="st">&quot;bin&quot;</span> ]</span></code></pre></div>
<h3 id="lib.strings.removeprefix">lib.strings.removePrefix</h3>
<p><em>prefix, str</em></p>
<p><code>string -&gt; string -&gt; string</code></p>
<p>Return a string without the specified prefix, if the prefix matches.</p>
<ul>
<li><p><code>prefix</code></p>
<p>Prefix to remove if it matches</p></li>
<li><p><code>str</code></p>
<p>Input string</p></li>
</ul>
<p>lib.strings.removePrefix usage example:</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="ex">removePrefix</span> <span class="st">&quot;foo.&quot;</span> <span class="st">&quot;foo.bar.baz&quot;</span></span>
<span id="cb154-2"><a href="#cb154-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;bar.baz&quot;</span></span>
<span id="cb154-3"><a href="#cb154-3" aria-hidden="true" tabindex="-1"></a><span class="ex">removePrefix</span> <span class="st">&quot;xxx&quot;</span> <span class="st">&quot;foo.bar.baz&quot;</span></span>
<span id="cb154-4"><a href="#cb154-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;foo.bar.baz&quot;</span></span></code></pre></div>
<h3 id="lib.strings.removesuffix">lib.strings.removeSuffix</h3>
<p><em>suffix, str</em></p>
<p><code>string -&gt; string -&gt; string</code></p>
<p>Return a string without the specified suffix, if the suffix matches.</p>
<ul>
<li><p><code>suffix</code></p>
<p>Suffix to remove if it matches</p></li>
<li><p><code>str</code></p>
<p>Input string</p></li>
</ul>
<p>lib.strings.removeSuffix usage example:</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="ex">removeSuffix</span> <span class="st">&quot;front&quot;</span> <span class="st">&quot;homefront&quot;</span></span>
<span id="cb155-2"><a href="#cb155-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;home&quot;</span></span>
<span id="cb155-3"><a href="#cb155-3" aria-hidden="true" tabindex="-1"></a><span class="ex">removeSuffix</span> <span class="st">&quot;xxx&quot;</span> <span class="st">&quot;homefront&quot;</span></span>
<span id="cb155-4"><a href="#cb155-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;homefront&quot;</span></span></code></pre></div>
<h3 id="lib.strings.versionolder">lib.strings.versionOlder</h3>
<p><em>v1, v2</em></p>
<p>Return true if string v1 denotes a version older than v2.</p>
<ul>
<li><p><code>v1</code></p>
<p>Function argument</p></li>
<li><p><code>v2</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.strings.versionOlder usage example:</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="ex">versionOlder</span> <span class="st">&quot;1.1&quot;</span> <span class="st">&quot;1.2&quot;</span></span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> true</span>
<span id="cb156-3"><a href="#cb156-3" aria-hidden="true" tabindex="-1"></a><span class="ex">versionOlder</span> <span class="st">&quot;1.1&quot;</span> <span class="st">&quot;1.1&quot;</span></span>
<span id="cb156-4"><a href="#cb156-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> false</span></code></pre></div>
<h3 id="lib.strings.versionatleast">lib.strings.versionAtLeast</h3>
<p><em>v1, v2</em></p>
<p>Return true if string v1 denotes a version equal to or newer than v2.</p>
<ul>
<li><p><code>v1</code></p>
<p>Function argument</p></li>
<li><p><code>v2</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.strings.versionAtLeast usage example:</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="ex">versionAtLeast</span> <span class="st">&quot;1.1&quot;</span> <span class="st">&quot;1.0&quot;</span></span>
<span id="cb157-2"><a href="#cb157-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> true</span>
<span id="cb157-3"><a href="#cb157-3" aria-hidden="true" tabindex="-1"></a><span class="ex">versionAtLeast</span> <span class="st">&quot;1.1&quot;</span> <span class="st">&quot;1.1&quot;</span></span>
<span id="cb157-4"><a href="#cb157-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> true</span>
<span id="cb157-5"><a href="#cb157-5" aria-hidden="true" tabindex="-1"></a><span class="ex">versionAtLeast</span> <span class="st">&quot;1.1&quot;</span> <span class="st">&quot;1.2&quot;</span></span>
<span id="cb157-6"><a href="#cb157-6" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> false</span></code></pre></div>
<h3 id="lib.strings.getname">lib.strings.getName</h3>
<p><em>x</em></p>
<p>This function takes an argument that’s either a derivation or a derivation’s “name” attribute and extracts the name part from that argument.</p>
<ul>
<li><p><code>x</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.strings.getName usage example:</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="ex">getName</span> <span class="st">&quot;youtube-dl-2016.01.01&quot;</span></span>
<span id="cb158-2"><a href="#cb158-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;youtube-dl&quot;</span></span>
<span id="cb158-3"><a href="#cb158-3" aria-hidden="true" tabindex="-1"></a><span class="ex">getName</span> pkgs.youtube-dl</span>
<span id="cb158-4"><a href="#cb158-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;youtube-dl&quot;</span></span></code></pre></div>
<h3 id="lib.strings.getversion">lib.strings.getVersion</h3>
<p><em>x</em></p>
<p>This function takes an argument that’s either a derivation or a derivation’s “name” attribute and extracts the version part from that argument.</p>
<ul>
<li><p><code>x</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.strings.getVersion usage example:</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="ex">getVersion</span> <span class="st">&quot;youtube-dl-2016.01.01&quot;</span></span>
<span id="cb159-2"><a href="#cb159-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;2016.01.01&quot;</span></span>
<span id="cb159-3"><a href="#cb159-3" aria-hidden="true" tabindex="-1"></a><span class="ex">getVersion</span> pkgs.youtube-dl</span>
<span id="cb159-4"><a href="#cb159-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;2016.01.01&quot;</span></span></code></pre></div>
<h3 id="lib.strings.namefromurl">lib.strings.nameFromURL</h3>
<p><em>url, sep</em></p>
<p>Extract name with version from URL. Ask for separator which is supposed to start extension.</p>
<ul>
<li><p><code>url</code></p>
<p>Function argument</p></li>
<li><p><code>sep</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.strings.nameFromURL usage example:</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="ex">nameFromURL</span> <span class="st">&quot;https://nixos.org/releases/nix/nix-1.7/nix-1.7-x86_64-linux.tar.bz2&quot;</span> <span class="st">&quot;-&quot;</span></span>
<span id="cb160-2"><a href="#cb160-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;nix&quot;</span></span>
<span id="cb160-3"><a href="#cb160-3" aria-hidden="true" tabindex="-1"></a><span class="ex">nameFromURL</span> <span class="st">&quot;https://nixos.org/releases/nix/nix-1.7/nix-1.7-x86_64-linux.tar.bz2&quot;</span> <span class="st">&quot;_&quot;</span></span>
<span id="cb160-4"><a href="#cb160-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;nix-1.7-x86&quot;</span></span></code></pre></div>
<h3 id="lib.strings.enablefeature">lib.strings.enableFeature</h3>
<p><em>enable, feat</em></p>
<p>Create an –{enable,disable}-<feat> string that can be passed to standard GNU Autoconf scripts.</p>
<ul>
<li><p><code>enable</code></p>
<p>Function argument</p></li>
<li><p><code>feat</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.strings.enableFeature usage example:</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a><span class="ex">enableFeature</span> true <span class="st">&quot;shared&quot;</span></span>
<span id="cb161-2"><a href="#cb161-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;--enable-shared&quot;</span></span>
<span id="cb161-3"><a href="#cb161-3" aria-hidden="true" tabindex="-1"></a><span class="ex">enableFeature</span> false <span class="st">&quot;shared&quot;</span></span>
<span id="cb161-4"><a href="#cb161-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;--disable-shared&quot;</span></span></code></pre></div>
<h3 id="lib.strings.enablefeatureas">lib.strings.enableFeatureAs</h3>
<p><em>enable, feat, value</em></p>
<p>Create an –{enable-<feat>=<value>,disable-<feat>} string that can be passed to standard GNU Autoconf scripts.</p>
<ul>
<li><p><code>enable</code></p>
<p>Function argument</p></li>
<li><p><code>feat</code></p>
<p>Function argument</p></li>
<li><p><code>value</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.strings.enableFeatureAs usage example:</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="ex">enableFeatureAs</span> true <span class="st">&quot;shared&quot;</span> <span class="st">&quot;foo&quot;</span></span>
<span id="cb162-2"><a href="#cb162-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;--enable-shared=foo&quot;</span></span>
<span id="cb162-3"><a href="#cb162-3" aria-hidden="true" tabindex="-1"></a><span class="ex">enableFeatureAs</span> false <span class="st">&quot;shared&quot;</span> <span class="er">(</span><span class="ex">throw</span> <span class="st">&quot;ignored&quot;</span><span class="kw">)</span></span>
<span id="cb162-4"><a href="#cb162-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;--disable-shared&quot;</span></span></code></pre></div>
<h3 id="lib.strings.withfeature">lib.strings.withFeature</h3>
<p><em>with</em>, feat_</p>
<p>Create an –{with,without}-<feat> string that can be passed to standard GNU Autoconf scripts.</p>
<ul>
<li><p><code>with_</code></p>
<p>Function argument</p></li>
<li><p><code>feat</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.strings.withFeature usage example:</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="ex">withFeature</span> true <span class="st">&quot;shared&quot;</span></span>
<span id="cb163-2"><a href="#cb163-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;--with-shared&quot;</span></span>
<span id="cb163-3"><a href="#cb163-3" aria-hidden="true" tabindex="-1"></a><span class="ex">withFeature</span> false <span class="st">&quot;shared&quot;</span></span>
<span id="cb163-4"><a href="#cb163-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;--without-shared&quot;</span></span></code></pre></div>
<h3 id="lib.strings.withfeatureas">lib.strings.withFeatureAs</h3>
<p><em>with</em>, feat, value_</p>
<p>Create an –{with-<feat>=<value>,without-<feat>} string that can be passed to standard GNU Autoconf scripts.</p>
<ul>
<li><p><code>with_</code></p>
<p>Function argument</p></li>
<li><p><code>feat</code></p>
<p>Function argument</p></li>
<li><p><code>value</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.strings.withFeatureAs usage example:</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="ex">withFeatureAs</span> true <span class="st">&quot;shared&quot;</span> <span class="st">&quot;foo&quot;</span></span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;--with-shared=foo&quot;</span></span>
<span id="cb164-3"><a href="#cb164-3" aria-hidden="true" tabindex="-1"></a><span class="ex">withFeatureAs</span> false <span class="st">&quot;shared&quot;</span> <span class="er">(</span><span class="ex">throw</span> <span class="st">&quot;ignored&quot;</span><span class="kw">)</span></span>
<span id="cb164-4"><a href="#cb164-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;--without-shared&quot;</span></span></code></pre></div>
<h3 id="lib.strings.fixedwidthstring">lib.strings.fixedWidthString</h3>
<p><em>width, filler, str</em></p>
<p><code>fixedWidthString :: int -&gt; string -&gt; string -&gt; string</code></p>
<p>Create a fixed width string with additional prefix to match required width.</p>
<ul>
<li><p><code>width</code></p>
<p>Function argument</p></li>
<li><p><code>filler</code></p>
<p>Function argument</p></li>
<li><p><code>str</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.strings.fixedWidthString usage example:</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a><span class="ex">fixedWidthString</span> 5 <span class="st">&quot;0&quot;</span> <span class="er">(</span><span class="ex">toString</span> 15<span class="kw">)</span></span>
<span id="cb165-2"><a href="#cb165-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;00015&quot;</span></span></code></pre></div>
<h3 id="lib.strings.fixedwidthnumber">lib.strings.fixedWidthNumber</h3>
<p><em>width, n</em></p>
<p>Format a number adding leading zeroes up to fixed width.</p>
<ul>
<li><p><code>width</code></p>
<p>Function argument</p></li>
<li><p><code>n</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.strings.fixedWidthNumber usage example:</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="ex">fixedWidthNumber</span> 5 15</span>
<span id="cb166-2"><a href="#cb166-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;00015&quot;</span></span></code></pre></div>
<h3 id="lib.strings.floattostring">lib.strings.floatToString</h3>
<p><em>float</em></p>
<p>Convert a float to a string, but emit a warning when precision is lost during the conversion</p>
<ul>
<li><p><code>float</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.strings.floatToString usage example:</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a><span class="ex">floatToString</span> 0.000001</span>
<span id="cb167-2"><a href="#cb167-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;0.000001&quot;</span></span>
<span id="cb167-3"><a href="#cb167-3" aria-hidden="true" tabindex="-1"></a><span class="ex">floatToString</span> 0.0000001</span>
<span id="cb167-4"><a href="#cb167-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> trace: warning: Imprecise conversion from float to string 0.000000</span>
<span id="cb167-5"><a href="#cb167-5" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;0.000000&quot;</span></span></code></pre></div>
<h3 id="lib.strings.iscoercibletostring">lib.strings.isCoercibleToString</h3>
<p><em>x</em></p>
<p>Check whether a value can be coerced to a string</p>
<ul>
<li><p><code>x</code></p>
<p>Function argument</p></li>
</ul>
<h3 id="lib.strings.isstorepath">lib.strings.isStorePath</h3>
<p><em>x</em></p>
<p>Check whether a value is a store path.</p>
<ul>
<li><p><code>x</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.strings.isStorePath usage example:</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="ex">isStorePath</span> <span class="st">&quot;/nix/store/d945ibfx9x185xf04b890y4f9g3cbb63-python-2.7.11/bin/python&quot;</span></span>
<span id="cb168-2"><a href="#cb168-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> false</span>
<span id="cb168-3"><a href="#cb168-3" aria-hidden="true" tabindex="-1"></a><span class="ex">isStorePath</span> <span class="st">&quot;/nix/store/d945ibfx9x185xf04b890y4f9g3cbb63-python-2.7.11&quot;</span></span>
<span id="cb168-4"><a href="#cb168-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> true</span>
<span id="cb168-5"><a href="#cb168-5" aria-hidden="true" tabindex="-1"></a><span class="ex">isStorePath</span> pkgs.python</span>
<span id="cb168-6"><a href="#cb168-6" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> true</span>
<span id="cb168-7"><a href="#cb168-7" aria-hidden="true" tabindex="-1"></a><span class="ex">isStorePath</span> [] <span class="kw">||</span> <span class="ex">isStorePath</span> 42 <span class="kw">||</span> <span class="ex">isStorePath</span> {} <span class="kw">||</span> <span class="ex">…</span></span>
<span id="cb168-8"><a href="#cb168-8" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> false</span></code></pre></div>
<h3 id="lib.strings.toint">lib.strings.toInt</h3>
<p><em>str</em></p>
<p><code>string -&gt; int</code></p>
<p>Parse a string as an int.</p>
<ul>
<li><p><code>str</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.strings.toInt usage example:</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="ex">toInt</span> <span class="st">&quot;1337&quot;</span></span>
<span id="cb169-2"><a href="#cb169-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> 1337</span>
<span id="cb169-3"><a href="#cb169-3" aria-hidden="true" tabindex="-1"></a><span class="ex">toInt</span> <span class="st">&quot;-4&quot;</span></span>
<span id="cb169-4"><a href="#cb169-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> -4</span>
<span id="cb169-5"><a href="#cb169-5" aria-hidden="true" tabindex="-1"></a><span class="ex">toInt</span> <span class="st">&quot;3.14&quot;</span></span>
<span id="cb169-6"><a href="#cb169-6" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> error: floating point JSON numbers are not supported</span></code></pre></div>
<h3 id="lib.strings.readpathsfromfile">lib.strings.readPathsFromFile</h3>
<p>__</p>
<p>Read a list of paths from <code>file</code>, relative to the <code>rootPath</code>. Lines beginning with <code>#</code> are treated as comments and ignored. Whitespace is significant.</p>
<p>lib.strings.readPathsFromFile usage example:</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="ex">readPathsFromFile</span> /prefix</span>
<span id="cb170-2"><a href="#cb170-2" aria-hidden="true" tabindex="-1"></a><span class="ex">./pkgs/development/libraries/qt-5/5.4/qtbase/series</span></span>
<span id="cb170-3"><a href="#cb170-3" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ <span class="st">&quot;/prefix/dlopen-resolv.patch&quot;</span> <span class="st">&quot;/prefix/tzdir.patch&quot;</span></span>
<span id="cb170-4"><a href="#cb170-4" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;/prefix/dlopen-libXcursor.patch&quot;</span> <span class="st">&quot;/prefix/dlopen-openssl.patch&quot;</span></span>
<span id="cb170-5"><a href="#cb170-5" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;/prefix/dlopen-dbus.patch&quot;</span> <span class="st">&quot;/prefix/xdg-config-dirs.patch&quot;</span></span>
<span id="cb170-6"><a href="#cb170-6" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;/prefix/nix-profiles-library-paths.patch&quot;</span></span>
<span id="cb170-7"><a href="#cb170-7" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;/prefix/compose-search-path.patch&quot;</span> ]</span></code></pre></div>
<h3 id="lib.strings.filecontents">lib.strings.fileContents</h3>
<p><em>file</em></p>
<p><code>fileContents :: path -&gt; string</code></p>
<p>Read the contents of a file removing the trailing </p>
<ul>
<li><p><code>file</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.strings.fileContents usage example:</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> echo <span class="st">&quot;1.0&quot;</span> <span class="op">&gt;</span> ./version</span>
<span id="cb171-2"><a href="#cb171-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-3"><a href="#cb171-3" aria-hidden="true" tabindex="-1"></a><span class="ex">fileContents</span> ./version</span>
<span id="cb171-4"><a href="#cb171-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;1.0&quot;</span></span></code></pre></div>
<h3 id="lib.strings.sanitizederivationname">lib.strings.sanitizeDerivationName</h3>
<p><em>string</em></p>
<p><code>sanitizeDerivationName :: String -&gt; String</code></p>
<p>Creates a valid derivation name from a potentially invalid one.</p>
<ul>
<li><p><code>string</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.strings.sanitizeDerivationName usage example:</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a><span class="ex">sanitizeDerivationName</span> <span class="st">&quot;../hello.bar # foo&quot;</span></span>
<span id="cb172-2"><a href="#cb172-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;-hello.bar-foo&quot;</span></span>
<span id="cb172-3"><a href="#cb172-3" aria-hidden="true" tabindex="-1"></a><span class="ex">sanitizeDerivationName</span> <span class="st">&quot;&quot;</span></span>
<span id="cb172-4"><a href="#cb172-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;unknown&quot;</span></span>
<span id="cb172-5"><a href="#cb172-5" aria-hidden="true" tabindex="-1"></a><span class="ex">sanitizeDerivationName</span> pkgs.hello</span>
<span id="cb172-6"><a href="#cb172-6" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="st">&quot;-nix-store-2g75chlbpxlrqn15zlby2dfh8hr9qwbk-hello-2.10&quot;</span></span></code></pre></div>
<h2 id="miscellaneous-functions">Miscellaneous functions</h2>
<h3 id="lib.trivial.id">lib.trivial.id</h3>
<p><em>x</em></p>
<p><code>id :: a -&gt; a</code></p>
<p>The identity function For when you need a function that does “nothing”.</p>
<ul>
<li><p><code>x</code></p>
<p>The value to return</p></li>
</ul>
<h3 id="lib.trivial.const">lib.trivial.const</h3>
<p><em>x, y</em></p>
<p><code>const :: a -&gt; b -&gt; a</code></p>
<p>The constant function</p>
<ul>
<li><p><code>x</code></p>
<p>Value to return</p></li>
<li><p><code>y</code></p>
<p>Value to ignore</p></li>
</ul>
<p>lib.trivial.const usage example:</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a><span class="bu">let</span> <span class="va">f</span> <span class="op">=</span> <span class="va">const</span> <span class="dv">5</span><span class="kw">;</span> <span class="er">in</span> <span class="ex">f</span> 10</span>
<span id="cb173-2"><a href="#cb173-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> 5</span></code></pre></div>
<h3 id="lib.trivial.pipe">lib.trivial.pipe</h3>
<p><em>val, functions</em></p>
<p><code>pipe :: a -&gt; [&lt;functions&gt;] -&gt; &lt;return type of last function&gt;</code></p>
<p>Pipes a value through a list of functions, left to right.</p>
<ul>
<li><p><code>val</code></p>
<p>Function argument</p></li>
<li><p><code>functions</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.trivial.pipe usage example:</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pipe</span> 2 [</span>
<span id="cb174-2"><a href="#cb174-2" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="ex">x:</span> x + 2<span class="kw">)</span>  <span class="co"># 2 + 2 = 4</span></span>
<span id="cb174-3"><a href="#cb174-3" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="ex">x:</span> x <span class="pp">*</span> 2<span class="kw">)</span>  <span class="co"># 4 * 2 = 8</span></span>
<span id="cb174-4"><a href="#cb174-4" aria-hidden="true" tabindex="-1"></a><span class="ex">]</span></span>
<span id="cb174-5"><a href="#cb174-5" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> 8</span>
<span id="cb174-6"><a href="#cb174-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb174-7"><a href="#cb174-7" aria-hidden="true" tabindex="-1"></a><span class="co"># ideal to do text transformations</span></span>
<span id="cb174-8"><a href="#cb174-8" aria-hidden="true" tabindex="-1"></a><span class="ex">pipe</span> [ <span class="st">&quot;a/b&quot;</span> <span class="st">&quot;a/c&quot;</span> ] [</span>
<span id="cb174-9"><a href="#cb174-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb174-10"><a href="#cb174-10" aria-hidden="true" tabindex="-1"></a><span class="co"># create the cp command</span></span>
<span id="cb174-11"><a href="#cb174-11" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="ex">map</span> <span class="er">(</span><span class="ex">file:</span> <span class="st">&#39;&#39;</span>cp <span class="st">&quot;</span><span class="va">${src}</span><span class="st">/</span><span class="va">${file}</span><span class="st">&quot;</span> <span class="va">$out</span><span class="dt">\n</span><span class="st">&#39;&#39;</span><span class="kw">))</span></span>
<span id="cb174-12"><a href="#cb174-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb174-13"><a href="#cb174-13" aria-hidden="true" tabindex="-1"></a><span class="co"># concatenate all commands into one string</span></span>
<span id="cb174-14"><a href="#cb174-14" aria-hidden="true" tabindex="-1"></a><span class="ex">lib.concatStrings</span></span>
<span id="cb174-15"><a href="#cb174-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb174-16"><a href="#cb174-16" aria-hidden="true" tabindex="-1"></a><span class="co"># make that string into a nix derivation</span></span>
<span id="cb174-17"><a href="#cb174-17" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="ex">pkgs.runCommand</span> <span class="st">&quot;copy-to-out&quot;</span> {}<span class="kw">)</span></span>
<span id="cb174-18"><a href="#cb174-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb174-19"><a href="#cb174-19" aria-hidden="true" tabindex="-1"></a><span class="ex">]</span></span>
<span id="cb174-20"><a href="#cb174-20" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> <span class="op">&lt;</span>drv which copies all files to <span class="va">$out</span><span class="op">&gt;</span></span>
<span id="cb174-21"><a href="#cb174-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb174-22"><a href="#cb174-22" aria-hidden="true" tabindex="-1"></a><span class="ex">The</span> output type of each function has to be the input type</span>
<span id="cb174-23"><a href="#cb174-23" aria-hidden="true" tabindex="-1"></a><span class="ex">of</span> the next function, and the last function returns the</span>
<span id="cb174-24"><a href="#cb174-24" aria-hidden="true" tabindex="-1"></a><span class="ex">final</span> value.</span></code></pre></div>
<h3 id="lib.trivial.concat">lib.trivial.concat</h3>
<p><em>x, y</em></p>
<p>note please don’t add a function like <code>compose = flip pipe</code>. This would confuse users, because the order of the functions in the list is not clear. With pipe, it’s obvious that it goes first-to-last. With <code>compose</code>, not so much.</p>
<ul>
<li><p><code>x</code></p>
<p>Function argument</p></li>
<li><p><code>y</code></p>
<p>Function argument</p></li>
</ul>
<h3 id="lib.trivial.or">lib.trivial.or</h3>
<p><em>x, y</em></p>
<p>boolean “or”</p>
<ul>
<li><p><code>x</code></p>
<p>Function argument</p></li>
<li><p><code>y</code></p>
<p>Function argument</p></li>
</ul>
<h3 id="lib.trivial.and">lib.trivial.and</h3>
<p><em>x, y</em></p>
<p>boolean “and”</p>
<ul>
<li><p><code>x</code></p>
<p>Function argument</p></li>
<li><p><code>y</code></p>
<p>Function argument</p></li>
</ul>
<h3 id="lib.trivial.bitand">lib.trivial.bitAnd</h3>
<p>__</p>
<p>bitwise “and”</p>
<h3 id="lib.trivial.bitor">lib.trivial.bitOr</h3>
<p>__</p>
<p>bitwise “or”</p>
<h3 id="lib.trivial.bitxor">lib.trivial.bitXor</h3>
<p>__</p>
<p>bitwise “xor”</p>
<h3 id="lib.trivial.bitnot">lib.trivial.bitNot</h3>
<p>__</p>
<p>bitwise “not”</p>
<h3 id="lib.trivial.booltostring">lib.trivial.boolToString</h3>
<p><em>b</em></p>
<p><code>boolToString :: bool -&gt; string</code></p>
<p>Convert a boolean to a string.</p>
<ul>
<li><p><code>b</code></p>
<p>Function argument</p></li>
</ul>
<h3 id="lib.trivial.mergeattrs">lib.trivial.mergeAttrs</h3>
<p><em>x, y</em></p>
<p>Merge two attribute sets shallowly, right side trumps left</p>
<ul>
<li><p><code>x</code></p>
<p>Left attribute set</p></li>
<li><p><code>y</code></p>
<p>Right attribute set (higher precedence for equal keys)</p></li>
</ul>
<p>lib.trivial.mergeAttrs usage example:</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mergeAttrs</span> { a = 1<span class="kw">;</span> <span class="ex">b</span> = 2<span class="kw">;</span> <span class="er">}</span> <span class="kw">{</span> <span class="ex">b</span> = 3<span class="kw">;</span> <span class="ex">c</span> = 4<span class="kw">;</span> <span class="kw">}</span></span>
<span id="cb175-2"><a href="#cb175-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> { a = 1<span class="kw">;</span> <span class="ex">b</span> = 3<span class="kw">;</span> <span class="ex">c</span> = 4<span class="kw">;</span> <span class="er">}</span></span></code></pre></div>
<h3 id="lib.trivial.flip">lib.trivial.flip</h3>
<p><em>f, a, b</em></p>
<p><code>flip :: (a -&gt; b -&gt; c) -&gt; (b -&gt; a -&gt; c)</code></p>
<p>Flip the order of the arguments of a binary function.</p>
<ul>
<li><p><code>f</code></p>
<p>Function argument</p></li>
<li><p><code>a</code></p>
<p>Function argument</p></li>
<li><p><code>b</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.trivial.flip usage example:</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="ex">flip</span> concat [1] [2]</span>
<span id="cb176-2"><a href="#cb176-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> [ 2 1 ]</span></code></pre></div>
<h3 id="lib.trivial.mapnullable">lib.trivial.mapNullable</h3>
<p><em>f, a</em></p>
<p>Apply function if the supplied argument is non-null.</p>
<ul>
<li><p><code>f</code></p>
<p>Function to call</p></li>
<li><p><code>a</code></p>
<p>Argument to check for null before passing it to <code>f</code></p></li>
</ul>
<p>lib.trivial.mapNullable usage example:</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mapNullable</span> <span class="er">(</span><span class="ex">x:</span> x+1<span class="kw">)</span> <span class="ex">null</span></span>
<span id="cb177-2"><a href="#cb177-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> null</span>
<span id="cb177-3"><a href="#cb177-3" aria-hidden="true" tabindex="-1"></a><span class="ex">mapNullable</span> <span class="er">(</span><span class="ex">x:</span> x+1<span class="kw">)</span> <span class="ex">22</span></span>
<span id="cb177-4"><a href="#cb177-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> 23</span></code></pre></div>
<h3 id="lib.trivial.version">lib.trivial.version</h3>
<p>__</p>
<p>Returns the current full nixpkgs version number.</p>
<h3 id="lib.trivial.release">lib.trivial.release</h3>
<p>__</p>
<p>Returns the current nixpkgs release number as string.</p>
<h3 id="lib.trivial.codename">lib.trivial.codeName</h3>
<p>__</p>
<p>Returns the current nixpkgs release code name.</p>
<h3 id="lib.trivial.versionsuffix">lib.trivial.versionSuffix</h3>
<p>__</p>
<p>Returns the current nixpkgs version suffix as string.</p>
<h3 id="lib.trivial.revisionwithdefault">lib.trivial.revisionWithDefault</h3>
<p><em>default</em></p>
<p><code>revisionWithDefault :: string -&gt; string</code></p>
<p>Attempts to return the the current revision of nixpkgs and returns the supplied default value otherwise.</p>
<ul>
<li><p><code>default</code></p>
<p>Default value to return if revision can not be determined</p></li>
</ul>
<h3 id="lib.trivial.innixshell">lib.trivial.inNixShell</h3>
<p>__</p>
<p><code>inNixShell :: bool</code></p>
<p>Determine whether the function is being called from inside a Nix shell.</p>
<h3 id="lib.trivial.min">lib.trivial.min</h3>
<p><em>x, y</em></p>
<p>Return minimum of two numbers.</p>
<ul>
<li><p><code>x</code></p>
<p>Function argument</p></li>
<li><p><code>y</code></p>
<p>Function argument</p></li>
</ul>
<h3 id="lib.trivial.max">lib.trivial.max</h3>
<p><em>x, y</em></p>
<p>Return maximum of two numbers.</p>
<ul>
<li><p><code>x</code></p>
<p>Function argument</p></li>
<li><p><code>y</code></p>
<p>Function argument</p></li>
</ul>
<h3 id="lib.trivial.mod">lib.trivial.mod</h3>
<p><em>base, int</em></p>
<p>Integer modulus</p>
<ul>
<li><p><code>base</code></p>
<p>Function argument</p></li>
<li><p><code>int</code></p>
<p>Function argument</p></li>
</ul>
<p>lib.trivial.mod usage example:</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb178-1"><a href="#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mod</span> 11 10</span>
<span id="cb178-2"><a href="#cb178-2" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> 1</span>
<span id="cb178-3"><a href="#cb178-3" aria-hidden="true" tabindex="-1"></a><span class="ex">mod</span> 1 10</span>
<span id="cb178-4"><a href="#cb178-4" aria-hidden="true" tabindex="-1"></a><span class="ex">=</span><span class="op">&gt;</span> 1</span></code></pre></div>
<h3 id="lib.trivial.compare">lib.trivial.compare</h3>
<p><em>a, b</em></p>
<p>C-style comparisons</p>
<ul>
<li><p><code>a</code></p>
<p>Function argument</p></li>
<li><p><code>b</code></p>
<p>Function argument</p></li>
</ul>
<h3 id="lib.trivial.splitbyandcompare">lib.trivial.splitByAndCompare</h3>
<p><em>p, yes, no, a, b</em></p>
<p><code>(a -&gt; bool) -&gt; (a -&gt; a -&gt; int) -&gt; (a -&gt; a -&gt; int) -&gt; (a -&gt; a -&gt; int)</code></p>
<p>Split type into two subtypes by predicate <code>p</code>, take all elements of the first subtype to be less than all the elements of the second subtype, compare elements of a single subtype with <code>yes</code> and <code>no</code> respectively.</p>
<ul>
<li><p><code>p</code></p>
<p>Predicate</p></li>
<li><p><code>yes</code></p>
<p>Comparison function if predicate holds for both values</p></li>
<li><p><code>no</code></p>
<p>Comparison function if predicate holds for neither value</p></li>
<li><p><code>a</code></p>
<p>First value to compare</p></li>
<li><p><code>b</code></p>
<p>Second value to compare</p></li>
</ul>
<p>lib.trivial.splitByAndCompare usage example:</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode nix"><code class="sourceCode bash"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="bu">let</span> <span class="va">cmp</span> <span class="op">=</span> <span class="va">splitByAndCompare</span> <span class="er">(</span><span class="ex">hasPrefix</span> <span class="st">&quot;foo&quot;</span><span class="kw">)</span> <span class="ex">compare</span> compare<span class="kw">;</span> <span class="er">in</span></span>
<span id="cb179-2"><a href="#cb179-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-3"><a href="#cb179-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cmp</span> <span class="st">&quot;a&quot;</span> <span class="st">&quot;z&quot;</span> =<span class="op">&gt;</span> -1</span>
<span id="cb179-4"><a href="#cb179-4" aria-hidden="true" tabindex="-1"></a><span class="fu">cmp</span> <span class="st">&quot;fooa&quot;</span> <span class="st">&quot;fooz&quot;</span> =<span class="op">&gt;</span> -1</span>
<span id="cb179-5"><a href="#cb179-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-6"><a href="#cb179-6" aria-hidden="true" tabindex="-1"></a><span class="fu">cmp</span> <span class="st">&quot;f&quot;</span> <span class="st">&quot;a&quot;</span> =<span class="op">&gt;</span> 1</span>
<span id="cb179-7"><a href="#cb179-7" aria-hidden="true" tabindex="-1"></a><span class="fu">cmp</span> <span class="st">&quot;fooa&quot;</span> <span class="st">&quot;a&quot;</span> =<span class="op">&gt;</span> -1</span>
<span id="cb179-8"><a href="#cb179-8" aria-hidden="true" tabindex="-1"></a><span class="co"># while</span></span>
<span id="cb179-9"><a href="#cb179-9" aria-hidden="true" tabindex="-1"></a><span class="ex">compare</span> <span class="st">&quot;fooa&quot;</span> <span class="st">&quot;a&quot;</span> =<span class="op">&gt;</span> 1</span></code></pre></div>
<h3 id="lib.trivial.importjson">lib.trivial.importJSON</h3>
<p><em>path</em></p>
<p>Reads a JSON file.</p>
<ul>
<li><p><code>path</code></p>
<p>Function argument</p></li>
</ul>
<h3 id="lib.trivial.importtoml">lib.trivial.importTOML</h3>
<p><em>path</em></p>
<p>Reads a TOML file.</p>
<ul>
<li><p><code>path</code></p>
<p>Function argument</p></li>
</ul>
<h3 id="lib.trivial.setfunctionargs">lib.trivial.setFunctionArgs</h3>
<p><em>f, args</em></p>
<p>Add metadata about expected function arguments to a function. The metadata should match the format given by builtins.functionArgs, i.e. a set from expected argument to a bool representing whether that argument has a default or not. setFunctionArgs : (a → b) → Map String Bool → (a → b)</p>
<ul>
<li><p><code>f</code></p>
<p>Function argument</p></li>
<li><p><code>args</code></p>
<p>Function argument</p></li>
</ul>
<h3 id="lib.trivial.functionargs">lib.trivial.functionArgs</h3>
<p><em>f</em></p>
<p>Extract the expected function arguments from a function. This works both with nix-native { a, b ? foo, … }: style functions and functions with args set with ‘setFunctionArgs’. It has the same return type and semantics as builtins.functionArgs. setFunctionArgs : (a → b) → Map String Bool.</p>
<ul>
<li><p><code>f</code></p>
<p>Function argument</p></li>
</ul>
<h3 id="lib.trivial.isfunction">lib.trivial.isFunction</h3>
<p><em>f</em></p>
<p>Check whether something is a function or something annotated with function args.</p>
<ul>
<li><p><code>f</code></p>
<p>Function argument</p></li>
</ul>
<h3 id="lib.trivial.tohexstring">lib.trivial.toHexString</h3>
<p><em>i</em></p>
<p>Convert the given positive integer to a string of its hexadecimal representation. For example:</p>
<ul>
<li><p><code>i</code></p>
<p>Function argument</p></li>
</ul>
<h3 id="lib.trivial.tobasedigits">lib.trivial.toBaseDigits</h3>
<p><em>base, i</em></p>
<p><code>toBaseDigits base i</code> converts the positive integer i to a list of its digits in the given base. For example:</p>
<ul>
<li><p><code>base</code></p>
<p>Function argument</p></li>
<li><p><code>i</code></p>
<p>Function argument</p></li>
</ul>
<p>Theme: <a href="https://github.com/jez/pandoc-markdown-css-theme">jez/pandoc-markdown-css-theme</a></p>
</main>

<script>
;(function() {
  // Non-essential if user has JavaScript off. Just makes checkboxes look nicer.
  var selector = '.task-list > li > input[type="checkbox"]';
  var checkboxes = document.querySelectorAll(selector);
  Array.from(checkboxes).forEach((checkbox) => {
    var wasChecked = checkbox.checked;
    checkbox.disabled = false;
    checkbox.addEventListener('click', (ev) => {ev.target.checked = wasChecked});
  });
})();
</script>
</body>
</html>
